(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))t(j);new MutationObserver(j=>{for(const w of j)if(w.type==="childList")for(const f of w.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&t(f)}).observe(document,{childList:!0,subtree:!0});function m(j){const w={};return j.integrity&&(w.integrity=j.integrity),j.referrerPolicy&&(w.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?w.credentials="include":j.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function t(j){if(j.ep)return;j.ep=!0;const w=m(j);fetch(j.href,w)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k1(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}var Ff={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function C1(){if(xv)return hu;xv=1;var R=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function m(t,j,w){var f=null;if(w!==void 0&&(f=""+w),j.key!==void 0&&(f=""+j.key),"key"in j){w={};for(var p in j)p!=="key"&&(w[p]=j[p])}else w=j;return j=w.ref,{$$typeof:R,type:t,key:f,ref:j!==void 0?j:null,props:w}}return hu.Fragment=r,hu.jsx=m,hu.jsxs=m,hu}var wv;function D1(){return wv||(wv=1,Ff.exports=C1()),Ff.exports}var In=D1(),Uf={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function R1(){if(Sv)return Vt;Sv=1;var R=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function o(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,c={};function y(Y,ee,ae){this.props=Y,this.context=ee,this.refs=c,this.updater=ae||a}y.prototype.isReactComponent={},y.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},y.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function h(){}h.prototype=y.prototype;function d(Y,ee,ae){this.props=Y,this.context=ee,this.refs=c,this.updater=ae||a}var x=d.prototype=new h;x.constructor=d,u(x,y.prototype),x.isPureReactComponent=!0;var _=Array.isArray,T={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(Y,ee,ae,A,B,W){return ae=W.ref,{$$typeof:R,type:Y,key:ee,ref:ae!==void 0?ae:null,props:W}}function O(Y,ee){return M(Y.type,ee,void 0,void 0,void 0,Y.props)}function L(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===R}function F(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ae){return ee[ae]})}var D=/\/+/g;function V(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):ee.toString(36)}function P(){}function G(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(P,P):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function z(Y,ee,ae,A,B){var W=typeof Y;(W==="undefined"||W==="boolean")&&(Y=null);var J=!1;if(Y===null)J=!0;else switch(W){case"bigint":case"string":case"number":J=!0;break;case"object":switch(Y.$$typeof){case R:case r:J=!0;break;case b:return J=Y._init,z(J(Y._payload),ee,ae,A,B)}}if(J)return B=B(Y),J=A===""?"."+V(Y,0):A,_(B)?(ae="",J!=null&&(ae=J.replace(D,"$&/")+"/"),z(B,ee,ae,"",function(pe){return pe})):B!=null&&(L(B)&&(B=O(B,ae+(B.key==null||Y&&Y.key===B.key?"":(""+B.key).replace(D,"$&/")+"/")+J)),ee.push(B)),1;J=0;var ie=A===""?".":A+":";if(_(Y))for(var ne=0;ne<Y.length;ne++)A=Y[ne],W=ie+V(A,ne),J+=z(A,ee,ae,W,B);else if(ne=o(Y),typeof ne=="function")for(Y=ne.call(Y),ne=0;!(A=Y.next()).done;)A=A.value,W=ie+V(A,ne++),J+=z(A,ee,ae,W,B);else if(W==="object"){if(typeof Y.then=="function")return z(G(Y),ee,ae,A,B);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return J}function q(Y,ee,ae){if(Y==null)return Y;var A=[],B=0;return z(Y,A,"","",function(W){return ee.call(ae,W,B++)}),A}function Q(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(ae){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ae)},function(ae){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ae)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var K=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function Z(){}return Vt.Children={map:q,forEach:function(Y,ee,ae){q(Y,function(){ee.apply(this,arguments)},ae)},count:function(Y){var ee=0;return q(Y,function(){ee++}),ee},toArray:function(Y){return q(Y,function(ee){return ee})||[]},only:function(Y){if(!L(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Vt.Component=y,Vt.Fragment=m,Vt.Profiler=j,Vt.PureComponent=d,Vt.StrictMode=t,Vt.Suspense=i,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Vt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Vt.cloneElement=function(Y,ee,ae){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var A=u({},Y.props),B=Y.key,W=void 0;if(ee!=null)for(J in ee.ref!==void 0&&(W=void 0),ee.key!==void 0&&(B=""+ee.key),ee)!k.call(ee,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ee.ref===void 0||(A[J]=ee[J]);var J=arguments.length-2;if(J===1)A.children=ae;else if(1<J){for(var ie=Array(J),ne=0;ne<J;ne++)ie[ne]=arguments[ne+2];A.children=ie}return M(Y.type,B,void 0,void 0,W,A)},Vt.createContext=function(Y){return Y={$$typeof:f,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:w,_context:Y},Y},Vt.createElement=function(Y,ee,ae){var A,B={},W=null;if(ee!=null)for(A in ee.key!==void 0&&(W=""+ee.key),ee)k.call(ee,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(B[A]=ee[A]);var J=arguments.length-2;if(J===1)B.children=ae;else if(1<J){for(var ie=Array(J),ne=0;ne<J;ne++)ie[ne]=arguments[ne+2];B.children=ie}if(Y&&Y.defaultProps)for(A in J=Y.defaultProps,J)B[A]===void 0&&(B[A]=J[A]);return M(Y,W,void 0,void 0,null,B)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(Y){return{$$typeof:p,render:Y}},Vt.isValidElement=L,Vt.lazy=function(Y){return{$$typeof:b,_payload:{_status:-1,_result:Y},_init:Q}},Vt.memo=function(Y,ee){return{$$typeof:l,type:Y,compare:ee===void 0?null:ee}},Vt.startTransition=function(Y){var ee=T.T,ae={};T.T=ae;try{var A=Y(),B=T.S;B!==null&&B(ae,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(Z,K)}catch(W){K(W)}finally{T.T=ee}},Vt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Vt.use=function(Y){return T.H.use(Y)},Vt.useActionState=function(Y,ee,ae){return T.H.useActionState(Y,ee,ae)},Vt.useCallback=function(Y,ee){return T.H.useCallback(Y,ee)},Vt.useContext=function(Y){return T.H.useContext(Y)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(Y,ee){return T.H.useDeferredValue(Y,ee)},Vt.useEffect=function(Y,ee){return T.H.useEffect(Y,ee)},Vt.useId=function(){return T.H.useId()},Vt.useImperativeHandle=function(Y,ee,ae){return T.H.useImperativeHandle(Y,ee,ae)},Vt.useInsertionEffect=function(Y,ee){return T.H.useInsertionEffect(Y,ee)},Vt.useLayoutEffect=function(Y,ee){return T.H.useLayoutEffect(Y,ee)},Vt.useMemo=function(Y,ee){return T.H.useMemo(Y,ee)},Vt.useOptimistic=function(Y,ee){return T.H.useOptimistic(Y,ee)},Vt.useReducer=function(Y,ee,ae){return T.H.useReducer(Y,ee,ae)},Vt.useRef=function(Y){return T.H.useRef(Y)},Vt.useState=function(Y){return T.H.useState(Y)},Vt.useSyncExternalStore=function(Y,ee,ae){return T.H.useSyncExternalStore(Y,ee,ae)},Vt.useTransition=function(){return T.H.useTransition()},Vt.version="19.0.0",Vt}var jv;function lp(){return jv||(jv=1,Uf.exports=R1()),Uf.exports}var Qn=lp(),Bf={exports:{}},du={},Vf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function L1(){return Tv||(Tv=1,function(R){function r(q,Q){var K=q.length;q.push(Q);e:for(;0<K;){var Z=K-1>>>1,Y=q[Z];if(0<j(Y,Q))q[Z]=Q,q[K]=Y,K=Z;else break e}}function m(q){return q.length===0?null:q[0]}function t(q){if(q.length===0)return null;var Q=q[0],K=q.pop();if(K!==Q){q[0]=K;e:for(var Z=0,Y=q.length,ee=Y>>>1;Z<ee;){var ae=2*(Z+1)-1,A=q[ae],B=ae+1,W=q[B];if(0>j(A,K))B<Y&&0>j(W,A)?(q[Z]=W,q[B]=K,Z=B):(q[Z]=A,q[ae]=K,Z=ae);else if(B<Y&&0>j(W,K))q[Z]=W,q[B]=K,Z=B;else break e}}return Q}function j(q,Q){var K=q.sortIndex-Q.sortIndex;return K!==0?K:q.id-Q.id}if(R.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;R.unstable_now=function(){return w.now()}}else{var f=Date,p=f.now();R.unstable_now=function(){return f.now()-p}}var i=[],l=[],b=1,v=null,o=3,a=!1,u=!1,c=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;function x(q){for(var Q=m(l);Q!==null;){if(Q.callback===null)t(l);else if(Q.startTime<=q)t(l),Q.sortIndex=Q.expirationTime,r(i,Q);else break;Q=m(l)}}function _(q){if(c=!1,x(q),!u)if(m(i)!==null)u=!0,G();else{var Q=m(l);Q!==null&&z(_,Q.startTime-q)}}var T=!1,k=-1,M=5,O=-1;function L(){return!(R.unstable_now()-O<M)}function F(){if(T){var q=R.unstable_now();O=q;var Q=!0;try{e:{u=!1,c&&(c=!1,h(k),k=-1),a=!0;var K=o;try{t:{for(x(q),v=m(i);v!==null&&!(v.expirationTime>q&&L());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,o=v.priorityLevel;var Y=Z(v.expirationTime<=q);if(q=R.unstable_now(),typeof Y=="function"){v.callback=Y,x(q),Q=!0;break t}v===m(i)&&t(i),x(q)}else t(i);v=m(i)}if(v!==null)Q=!0;else{var ee=m(l);ee!==null&&z(_,ee.startTime-q),Q=!1}}break e}finally{v=null,o=K,a=!1}Q=void 0}}finally{Q?D():T=!1}}}var D;if(typeof d=="function")D=function(){d(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,P=V.port2;V.port1.onmessage=F,D=function(){P.postMessage(null)}}else D=function(){y(F,0)};function G(){T||(T=!0,D())}function z(q,Q){k=y(function(){q(R.unstable_now())},Q)}R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(q){q.callback=null},R.unstable_continueExecution=function(){u||a||(u=!0,G())},R.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},R.unstable_getCurrentPriorityLevel=function(){return o},R.unstable_getFirstCallbackNode=function(){return m(i)},R.unstable_next=function(q){switch(o){case 1:case 2:case 3:var Q=3;break;default:Q=o}var K=o;o=Q;try{return q()}finally{o=K}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=function(){},R.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=o;o=q;try{return Q()}finally{o=K}},R.unstable_scheduleCallback=function(q,Q,K){var Z=R.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,q={id:b++,callback:Q,priorityLevel:q,startTime:K,expirationTime:Y,sortIndex:-1},K>Z?(q.sortIndex=K,r(l,q),m(i)===null&&q===m(l)&&(c?(h(k),k=-1):c=!0,z(_,K-Z))):(q.sortIndex=Y,r(i,q),u||a||(u=!0,G())),q},R.unstable_shouldYield=L,R.unstable_wrapCallback=function(q){var Q=o;return function(){var K=o;o=Q;try{return q.apply(this,arguments)}finally{o=K}}}}(Gf)),Gf}var Ev;function N1(){return Ev||(Ev=1,Vf.exports=L1()),Vf.exports}var zf={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function P1(){if(Mv)return Dn;Mv=1;var R=lp();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)l+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var t={d:{f:m,r:function(){throw Error(r(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},j=Symbol.for("react.portal");function w(i,l,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:v==null?null:""+v,children:i,containerInfo:l,implementation:b}}var f=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(i,l){if(i==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,Dn.createPortal=function(i,l){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(r(299));return w(i,l,null,b)},Dn.flushSync=function(i){var l=f.T,b=t.p;try{if(f.T=null,t.p=2,i)return i()}finally{f.T=l,t.p=b,t.d.f()}},Dn.preconnect=function(i,l){typeof i=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,t.d.C(i,l))},Dn.prefetchDNS=function(i){typeof i=="string"&&t.d.D(i)},Dn.preinit=function(i,l){if(typeof i=="string"&&l&&typeof l.as=="string"){var b=l.as,v=p(b,l.crossOrigin),o=typeof l.integrity=="string"?l.integrity:void 0,a=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;b==="style"?t.d.S(i,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:v,integrity:o,fetchPriority:a}):b==="script"&&t.d.X(i,{crossOrigin:v,integrity:o,fetchPriority:a,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Dn.preinitModule=function(i,l){if(typeof i=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var b=p(l.as,l.crossOrigin);t.d.M(i,{crossOrigin:b,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&t.d.M(i)},Dn.preload=function(i,l){if(typeof i=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var b=l.as,v=p(b,l.crossOrigin);t.d.L(i,b,{crossOrigin:v,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Dn.preloadModule=function(i,l){if(typeof i=="string")if(l){var b=p(l.as,l.crossOrigin);t.d.m(i,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:b,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else t.d.m(i)},Dn.requestFormReset=function(i){t.d.r(i)},Dn.unstable_batchedUpdates=function(i,l){return i(l)},Dn.useFormState=function(i,l,b){return f.H.useFormState(i,l,b)},Dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Dn.version="19.0.0",Dn}var Ov;function I1(){if(Ov)return zf.exports;Ov=1;function R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R)}catch(r){console.error(r)}}return R(),zf.exports=P1(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function F1(){if(Av)return du;Av=1;var R=N1(),r=lp(),m=I1();function t(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)s+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var w=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=T&&n[T]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function O(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case p:return"Portal";case b:return"Profiler";case l:return"StrictMode";case c:return"Suspense";case y:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case a:return(n.displayName||"Context")+".Provider";case o:return(n._context.displayName||"Context")+".Consumer";case u:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case h:return s=n.displayName||null,s!==null?s:O(n.type)||"Memo";case d:s=n._payload,n=n._init;try{return O(n(s))}catch{}}return null}var L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,D,V;function P(n){if(D===void 0)try{throw Error()}catch(g){var s=g.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||"",V=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+n+V}var G=!1;function z(n,s){if(!n||G)return"";G=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Ye){var He=Ye}Reflect.construct(n,[],st)}else{try{st.call()}catch(Ye){He=Ye}n.call(st.prototype)}}else{try{throw Error()}catch(Ye){He=Ye}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Ye){if(Ye&&He&&typeof Ye.stack=="string")return[Ye.stack,He.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=E.DetermineComponentFrameRoot(),se=H[0],me=H[1];if(se&&me){var Ee=se.split(`
`),Ne=me.split(`
`);for(I=E=0;E<Ee.length&&!Ee[E].includes("DetermineComponentFrameRoot");)E++;for(;I<Ne.length&&!Ne[I].includes("DetermineComponentFrameRoot");)I++;if(E===Ee.length||I===Ne.length)for(E=Ee.length-1,I=Ne.length-1;1<=E&&0<=I&&Ee[E]!==Ne[I];)I--;for(;1<=E&&0<=I;E--,I--)if(Ee[E]!==Ne[I]){if(E!==1||I!==1)do if(E--,I--,0>I||Ee[E]!==Ne[I]){var Je=`
`+Ee[E].replace(" at new "," at ");return n.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",n.displayName)),Je}while(1<=E&&0<=I);break}}}finally{G=!1,Error.prepareStackTrace=g}return(g=n?n.displayName||n.name:"")?P(g):""}function q(n){switch(n.tag){case 26:case 27:case 5:return P(n.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return n=z(n.type,!1),n;case 11:return n=z(n.type.render,!1),n;case 1:return n=z(n.type,!0),n;default:return""}}function Q(n){try{var s="";do s+=q(n),n=n.return;while(n);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function K(n){var s=n,g=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(g=s.return),n=s.return;while(n)}return s.tag===3?g:null}function Z(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Y(n){if(K(n)!==n)throw Error(t(188))}function ee(n){var s=n.alternate;if(!s){if(s=K(n),s===null)throw Error(t(188));return s!==n?null:n}for(var g=n,E=s;;){var I=g.return;if(I===null)break;var H=I.alternate;if(H===null){if(E=I.return,E!==null){g=E;continue}break}if(I.child===H.child){for(H=I.child;H;){if(H===g)return Y(I),n;if(H===E)return Y(I),s;H=H.sibling}throw Error(t(188))}if(g.return!==E.return)g=I,E=H;else{for(var se=!1,me=I.child;me;){if(me===g){se=!0,g=I,E=H;break}if(me===E){se=!0,E=I,g=H;break}me=me.sibling}if(!se){for(me=H.child;me;){if(me===g){se=!0,g=H,E=I;break}if(me===E){se=!0,E=H,g=I;break}me=me.sibling}if(!se)throw Error(t(189))}}if(g.alternate!==E)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?n:s}function ae(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=ae(n),s!==null)return s;n=n.sibling}return null}var A=Array.isArray,B=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],ie=-1;function ne(n){return{current:n}}function pe(n){0>ie||(n.current=J[ie],J[ie]=null,ie--)}function ge(n,s){ie++,J[ie]=n.current,n.current=s}var he=ne(null),be=ne(null),_e=ne(null),le=ne(null);function de(n,s){switch(ge(_e,s),ge(be,n),ge(he,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Qg(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=Qg(n),s=Kg(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pe(he),ge(he,s)}function xe(){pe(he),pe(be),pe(_e)}function Ae(n){n.memoizedState!==null&&ge(le,n);var s=he.current,g=Kg(s,n.type);s!==g&&(ge(be,n),ge(he,g))}function Se(n){be.current===n&&(pe(he),pe(be)),le.current===n&&(pe(le),ou._currentValue=W)}var Te=Object.prototype.hasOwnProperty,ke=R.unstable_scheduleCallback,Xe=R.unstable_cancelCallback,Pe=R.unstable_shouldYield,mt=R.unstable_requestPaint,it=R.unstable_now,ut=R.unstable_getCurrentPriorityLevel,dt=R.unstable_ImmediatePriority,ht=R.unstable_UserBlockingPriority,Ce=R.unstable_NormalPriority,Qe=R.unstable_LowPriority,Ie=R.unstable_IdlePriority,oe=R.log,ce=R.unstable_setDisableYieldValue,re=null,fe=null;function Me(n){if(fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}}function De(n){if(typeof oe=="function"&&ce(n),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(re,n)}catch{}}var Ge=Math.clz32?Math.clz32:lt,rt=Math.log,at=Math.LN2;function lt(n){return n>>>=0,n===0?32:31-(rt(n)/at|0)|0}var ft=128,Rt=4194304;function jt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gt(n,s){var g=n.pendingLanes;if(g===0)return 0;var E=0,I=n.suspendedLanes,H=n.pingedLanes,se=n.warmLanes;n=n.finishedLanes!==0;var me=g&134217727;return me!==0?(g=me&~I,g!==0?E=jt(g):(H&=me,H!==0?E=jt(H):n||(se=me&~se,se!==0&&(E=jt(se))))):(me=g&~I,me!==0?E=jt(me):H!==0?E=jt(H):n||(se=g&~se,se!==0&&(E=jt(se)))),E===0?0:s!==0&&s!==E&&(s&I)===0&&(I=E&-E,se=s&-s,I>=se||I===32&&(se&4194176)!==0)?s:E}function kt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Mt(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(){var n=ft;return ft<<=1,(ft&4194176)===0&&(ft=128),n}function en(){var n=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),n}function Tr(n){for(var s=[],g=0;31>g;g++)s.push(n);return s}function Xt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mr(n,s,g,E,I,H){var se=n.pendingLanes;n.pendingLanes=g,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=g,n.entangledLanes&=g,n.errorRecoveryDisabledLanes&=g,n.shellSuspendCounter=0;var me=n.entanglements,Ee=n.expirationTimes,Ne=n.hiddenUpdates;for(g=se&~g;0<g;){var Je=31-Ge(g),st=1<<Je;me[Je]=0,Ee[Je]=-1;var He=Ne[Je];if(He!==null)for(Ne[Je]=null,Je=0;Je<He.length;Je++){var Ye=He[Je];Ye!==null&&(Ye.lane&=-536870913)}g&=~st}E!==0&&Yt(n,E,0),H!==0&&I===0&&n.tag!==0&&(n.suspendedLanes|=H&~(se&~s))}function Yt(n,s,g){n.pendingLanes|=s,n.suspendedLanes&=~s;var E=31-Ge(s);n.entangledLanes|=s,n.entanglements[E]=n.entanglements[E]|1073741824|g&4194218}function Xr(n,s){var g=n.entangledLanes|=s;for(n=n.entanglements;g;){var E=31-Ge(g),I=1<<E;I&s|n[E]&s&&(n[E]|=s),g&=~I}}function Gr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function tr(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:mv(n.type))}function tn(n,s){var g=B.p;try{return B.p=n,s()}finally{B.p=g}}var Hn=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Hn,Yr="__reactProps$"+Hn,Cs="__reactContainer$"+Hn,ni="__reactEvents$"+Hn,_o="__reactListeners$"+Hn,je="__reactHandles$"+Hn,nt="__reactResources$"+Hn,pt="__reactMarker$"+Hn;function tt(n){delete n[Nr],delete n[Yr],delete n[ni],delete n[_o],delete n[je]}function It(n){var s=n[Nr];if(s)return s;for(var g=n.parentNode;g;){if(s=g[Cs]||g[Nr]){if(g=s.alternate,s.child!==null||g!==null&&g.child!==null)for(n=ev(n);n!==null;){if(g=n[Nr])return g;n=ev(n)}return s}n=g,g=n.parentNode}return null}function Ze(n){if(n=n[Nr]||n[Cs]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Gt(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(t(33))}function ct(n){var s=n[nt];return s||(s=n[nt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(n){n[pt]=!0}var yt=new Set,Er={};function yr(n,s){ar(n,s),ar(n+"Capture",s)}function ar(n,s){for(Er[n]=s,n=0;n<s.length;n++)yt.add(s[n])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),On={},$n={};function Zr(n){return Te.call($n,n)?!0:Te.call(On,n)?!1:ms.test(n)?$n[n]=!0:(On[n]=!0,!1)}function xo(n,s,g){if(Zr(s))if(g===null)n.removeAttribute(s);else{switch(typeof g){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var E=s.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+g)}}function An(n,s,g){if(g===null)n.removeAttribute(s);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+g)}}function kn(n,s,g,E){if(E===null)n.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(g);return}n.setAttributeNS(s,g,""+E)}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xu(n){var s=gl(n)?"checked":"value",g=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),E=""+n[s];if(!n.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var I=g.get,H=g.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return I.call(this)},set:function(se){E=""+se,H.call(this,se)}}),Object.defineProperty(n,s,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(se){E=""+se},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function wo(n){n._valueTracker||(n._valueTracker=Xu(n))}function aa(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var g=s.getValue(),E="";return n&&(E=gl(n)?n.checked?"true":"false":n.value),n=E,n!==g?(s.setValue(n),!0):!1}function So(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yu=/[\n"\\]/g;function Ln(n){return n.replace(Yu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vl(n,s,g,E,I,H,se,me){n.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?n.type=se:n.removeAttribute("type"),s!=null?se==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+gn(s)):n.value!==""+gn(s)&&(n.value=""+gn(s)):se!=="submit"&&se!=="reset"||n.removeAttribute("value"),s!=null?ua(n,se,gn(s)):g!=null?ua(n,se,gn(g)):E!=null&&n.removeAttribute("value"),I==null&&H!=null&&(n.defaultChecked=!!H),I!=null&&(n.checked=I&&typeof I!="function"&&typeof I!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?n.name=""+gn(me):n.removeAttribute("name")}function la(n,s,g,E,I,H,se,me){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(n.type=H),s!=null||g!=null){if(!(H!=="submit"&&H!=="reset"||s!=null))return;g=g!=null?""+gn(g):"",s=s!=null?""+gn(s):g,me||s===n.value||(n.value=s),n.defaultValue=s}E=E??I,E=typeof E!="function"&&typeof E!="symbol"&&!!E,n.checked=me?n.checked:!!E,n.defaultChecked=!!E,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(n.name=se)}function ua(n,s,g){s==="number"&&So(n.ownerDocument)===n||n.defaultValue===""+g||(n.defaultValue=""+g)}function si(n,s,g,E){if(n=n.options,s){s={};for(var I=0;I<g.length;I++)s["$"+g[I]]=!0;for(g=0;g<n.length;g++)I=s.hasOwnProperty("$"+n[g].value),n[g].selected!==I&&(n[g].selected=I),I&&E&&(n[g].defaultSelected=!0)}else{for(g=""+gn(g),s=null,I=0;I<n.length;I++){if(n[I].value===g){n[I].selected=!0,E&&(n[I].defaultSelected=!0);return}s!==null||n[I].disabled||(s=n[I])}s!==null&&(s.selected=!0)}}function jo(n,s,g){if(s!=null&&(s=""+gn(s),s!==n.value&&(n.value=s),g==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=g!=null?""+gn(g):""}function To(n,s,g,E){if(s==null){if(E!=null){if(g!=null)throw Error(t(92));if(A(E)){if(1<E.length)throw Error(t(93));E=E[0]}g=E}g==null&&(g=""),s=g}g=gn(s),n.defaultValue=g,E=n.textContent,E===g&&E!==""&&E!==null&&(n.value=E)}function vn(n,s){if(s){var g=n.firstChild;if(g&&g===n.lastChild&&g.nodeType===3){g.nodeValue=s;return}}n.textContent=s}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(n,s,g){var E=s.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":E?n.setProperty(s,g):typeof g!="number"||g===0||Zu.has(s)?s==="float"?n.cssFloat=g:n[s]=(""+g).trim():n[s]=g+"px"}function ii(n,s,g){if(s!=null&&typeof s!="object")throw Error(t(62));if(n=n.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||s!=null&&s.hasOwnProperty(E)||(E.indexOf("--")===0?n.setProperty(E,""):E==="float"?n.cssFloat="":n[E]="");for(var I in s)E=s[I],s.hasOwnProperty(I)&&g[I]!==E&&bl(n,I,E)}else for(var H in s)s.hasOwnProperty(H)&&bl(n,H,s[H])}function ca(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(n){return _l.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xl=null;function ha(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oi=null,Ri=null;function wl(n){var s=Ze(n);if(s&&(n=s.stateNode)){var g=n[Yr]||null;e:switch(n=s.stateNode,s.type){case"input":if(vl(n,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),s=g.name,g.type==="radio"&&s!=null){for(g=n;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ln(""+s)+'"][type="radio"]'),s=0;s<g.length;s++){var E=g[s];if(E!==n&&E.form===n.form){var I=E[Yr]||null;if(!I)throw Error(t(90));vl(E,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(s=0;s<g.length;s++)E=g[s],E.form===n.form&&aa(E)}break e;case"textarea":jo(n,g.value,g.defaultValue);break e;case"select":s=g.value,s!=null&&si(n,!!g.multiple,s,!1)}}}var Sl=!1;function Qu(n,s,g){if(Sl)return n(s,g);Sl=!0;try{var E=n(s);return E}finally{if(Sl=!1,(oi!==null||Ri!==null)&&(Vc(),oi&&(s=oi,n=Ri,Ri=oi=null,wl(s),n)))for(s=0;s<n.length;s++)wl(n[s])}}function Mo(n,s){var g=n.stateNode;if(g===null)return null;var E=g[Yr]||null;if(E===null)return null;g=E[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(n=n.type,E=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!E;break e;default:n=!1}if(n)return null;if(g&&typeof g!="function")throw Error(t(231,s,typeof g));return g}var jl=!1;if(cr)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{jl=!1}var rn=null,es=null,zs=null;function Ni(){if(zs)return zs;var n,s=es,g=s.length,E,I="value"in rn?rn.value:rn.textContent,H=I.length;for(n=0;n<g&&s[n]===I[n];n++);var se=g-n;for(E=1;E<=se&&s[g-E]===I[H-E];E++);return zs=I.slice(n,1<E?1-E:void 0)}function Wn(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function qs(){return!0}function Ku(){return!1}function Cr(n){function s(g,E,I,H,se){this._reactName=g,this._targetInst=I,this.type=E,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var me in n)n.hasOwnProperty(me)&&(g=n[me],this[me]=g?g(H):H[me]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?qs:Ku,this.isPropagationStopped=Ku,this}return F(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),s}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Cr(ys),Pi=F({},ys,{view:0,detail:0}),Ju=Cr(Pi),da,fa,Ii,Fi=F({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ii&&(Ii&&n.type==="mousemove"?(da=n.screenX-Ii.screenX,fa=n.screenY-Ii.screenY):fa=da=0,Ii=n),da)},movementY:function(n){return"movementY"in n?n.movementY:fa}}),Tl=Cr(Fi),$u=F({},Fi,{dataTransfer:0}),ec=Cr($u),tc=F({},Pi,{relatedTarget:0}),pa=Cr(tc),rc=F({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=Cr(rc),sc=F({},ys,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ic=Cr(sc),El=F({},ys,{data:0}),Ao=Cr(El),Ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Hs[n])?!!s[n]:!1}function vt(){return Ws}var Wh=F({},Pi,{key:function(n){if(n.key){var s=Ml[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Wn(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vt,charCode:function(n){return n.type==="keypress"?Wn(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wn(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ac=Cr(Wh),Ui=F({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Cr(Ui),Xh=F({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vt}),lr=Cr(Xh),uc=F({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yh=Cr(uc),ts=F({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=Cr(ts),Qh=F({},ys,{newState:0,oldState:0}),Kh=Cr(Qh),Jh=[9,13,27,32],Ol=cr&&"CompositionEvent"in window,ko=null;cr&&"documentMode"in document&&(ko=document.documentMode);var cc=cr&&"TextEvent"in window&&!ko,Dr=cr&&(!Ol||ko&&8<ko&&11>=ko),ma=" ",S=!1;function C(n,s){switch(n){case"keyup":return Jh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var U=!1;function X(n,s){switch(n){case"compositionend":return N(s);case"keypress":return s.which!==32?null:(S=!0,ma);case"textInput":return n=s.data,n===ma&&S?null:n;default:return null}}function $(n,s){if(U)return n==="compositionend"||!Ol&&C(n,s)?(n=Ni(),zs=es=rn=null,U=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Dr&&s.locale!=="ko"?null:s.data;default:return null}}var te={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ue(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!te[n.type]:s==="textarea"}function ve(n,s,g,E){oi?Ri?Ri.push(E):Ri=[E]:oi=E,s=Wc(s,"onChange"),0<s.length&&(g=new Oo("onChange","change",null,g,E),n.push({event:g,listeners:s}))}var ye=null,Oe=null;function Fe(n){Hg(n,0)}function Re(n){var s=Gt(n);if(aa(s))return n}function we(n,s){if(n==="change")return s}var Ke=!1;if(cr){var ze;if(cr){var We="oninput"in document;if(!We){var Ue=document.createElement("div");Ue.setAttribute("oninput","return;"),We=typeof Ue.oninput=="function"}ze=We}else ze=!1;Ke=ze&&(!document.documentMode||9<document.documentMode)}function Be(){ye&&(ye.detachEvent("onpropertychange",bt),Oe=ye=null)}function bt(n){if(n.propertyName==="value"&&Re(Oe)){var s=[];ve(s,Oe,n,ha(n)),Qu(Fe,s)}}function Nt(n,s,g){n==="focusin"?(Be(),ye=s,Oe=g,ye.attachEvent("onpropertychange",bt)):n==="focusout"&&Be()}function St(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Re(Oe)}function Tt(n,s){if(n==="click")return Re(s)}function Bt(n,s){if(n==="input"||n==="change")return Re(s)}function hr(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Zt=typeof Object.is=="function"?Object.is:hr;function br(n,s){if(Zt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var g=Object.keys(n),E=Object.keys(s);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var I=g[E];if(!Te.call(s,I)||!Zt(n[I],s[I]))return!1}return!0}function nn(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sn(n,s){var g=nn(n);n=0;for(var E;g;){if(g.nodeType===3){if(E=n+g.textContent.length,n<=s&&E>=s)return{node:g,offset:s-n};n=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=nn(g)}}function Xn(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Xn(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function sr(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=So(n.document);s instanceof n.HTMLIFrameElement;){try{var g=typeof s.contentWindow.location.href=="string"}catch{g=!1}if(g)n=s.contentWindow;else break;s=So(n.document)}return s}function ur(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function rr(n,s){var g=sr(s);s=n.focusedElem;var E=n.selectionRange;if(g!==s&&s&&s.ownerDocument&&Xn(s.ownerDocument.documentElement,s)){if(E!==null&&ur(s)){if(n=E.start,g=E.end,g===void 0&&(g=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(g,s.value.length);else if(g=(n=s.ownerDocument||document)&&n.defaultView||window,g.getSelection){g=g.getSelection();var I=s.textContent.length,H=Math.min(E.start,I);E=E.end===void 0?H:Math.min(E.end,I),!g.extend&&H>E&&(I=E,E=H,H=I),I=sn(s,H);var se=sn(s,E);I&&se&&(g.rangeCount!==1||g.anchorNode!==I.node||g.anchorOffset!==I.offset||g.focusNode!==se.node||g.focusOffset!==se.offset)&&(n=n.createRange(),n.setStart(I.node,I.offset),g.removeAllRanges(),H>E?(g.addRange(n),g.extend(se.node,se.offset)):(n.setEnd(se.node,se.offset),g.addRange(n)))}}for(n=[],g=s;g=g.parentNode;)g.nodeType===1&&n.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)g=n[s],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var cn=cr&&"documentMode"in document&&11>=document.documentMode,ir=null,zr=null,nr=null,Pr=!1;function Bi(n,s,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Pr||ir==null||ir!==So(E)||(E=ir,"selectionStart"in E&&ur(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),nr&&br(nr,E)||(nr=E,E=Wc(zr,"onSelect"),0<E.length&&(s=new Oo("onSelect","select",null,s,g),n.push({event:s,listeners:E}),s.target=ir)))}function Yn(n,s){var g={};return g[n.toLowerCase()]=s.toLowerCase(),g["Webkit"+n]="webkit"+s,g["Moz"+n]="moz"+s,g}var ai={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},$h={},km={};cr&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Co(n){if($h[n])return $h[n];if(!ai[n])return n;var s=ai[n],g;for(g in s)if(s.hasOwnProperty(g)&&g in km)return $h[n]=s[g];return n}var Cm=Co("animationend"),Dm=Co("animationiteration"),Rm=Co("animationstart"),fb=Co("transitionrun"),pb=Co("transitionstart"),mb=Co("transitioncancel"),Lm=Co("transitionend"),Nm=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ds(n,s){Nm.set(n,s),yr(s,[n])}var gs=[],ya=0,ed=0;function hc(){for(var n=ya,s=ed=ya=0;s<n;){var g=gs[s];gs[s++]=null;var E=gs[s];gs[s++]=null;var I=gs[s];gs[s++]=null;var H=gs[s];if(gs[s++]=null,E!==null&&I!==null){var se=E.pending;se===null?I.next=I:(I.next=se.next,se.next=I),E.pending=I}H!==0&&Im(g,I,H)}}function dc(n,s,g,E){gs[ya++]=n,gs[ya++]=s,gs[ya++]=g,gs[ya++]=E,ed|=E,n.lanes|=E,n=n.alternate,n!==null&&(n.lanes|=E)}function td(n,s,g,E){return dc(n,s,g,E),fc(n)}function Vi(n,s){return dc(n,null,null,s),fc(n)}function Im(n,s,g){n.lanes|=g;var E=n.alternate;E!==null&&(E.lanes|=g);for(var I=!1,H=n.return;H!==null;)H.childLanes|=g,E=H.alternate,E!==null&&(E.childLanes|=g),H.tag===22&&(n=H.stateNode,n===null||n._visibility&1||(I=!0)),n=H,H=H.return;I&&s!==null&&n.tag===3&&(H=n.stateNode,I=31-Ge(g),H=H.hiddenUpdates,n=H[I],n===null?H[I]=[s]:n.push(s),s.lane=g|536870912)}function fc(n){if(50<$l)throw $l=0,lf=null,Error(t(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ga={},Fm=new WeakMap;function vs(n,s){if(typeof n=="object"&&n!==null){var g=Fm.get(n);return g!==void 0?g:(s={value:n,source:s,stack:Q(s)},Fm.set(n,s),s)}return{value:n,source:s,stack:Q(s)}}var va=[],ba=0,pc=null,mc=0,bs=[],_s=0,Do=null,li=1,ui="";function Ro(n,s){va[ba++]=mc,va[ba++]=pc,pc=n,mc=s}function Um(n,s,g){bs[_s++]=li,bs[_s++]=ui,bs[_s++]=Do,Do=n;var E=li;n=ui;var I=32-Ge(E)-1;E&=~(1<<I),g+=1;var H=32-Ge(s)+I;if(30<H){var se=I-I%5;H=(E&(1<<se)-1).toString(32),E>>=se,I-=se,li=1<<32-Ge(s)+I|g<<I|E,ui=H+n}else li=1<<H|g<<I|E,ui=n}function rd(n){n.return!==null&&(Ro(n,1),Um(n,1,0))}function nd(n){for(;n===pc;)pc=va[--ba],va[ba]=null,mc=va[--ba],va[ba]=null;for(;n===Do;)Do=bs[--_s],bs[_s]=null,ui=bs[--_s],bs[_s]=null,li=bs[--_s],bs[_s]=null}var Nn=null,bn=null,$t=!1,Rs=null,Xs=!1,sd=Error(t(519));function Lo(n){var s=Error(t(418,""));throw Cl(vs(s,n)),sd}function Bm(n){var s=n.stateNode,g=n.type,E=n.memoizedProps;switch(s[Nr]=n,s[Yr]=E,g){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(g=0;g<tu.length;g++)Qt(tu[g],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),la(s,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),wo(s);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),To(s,E.value,E.defaultValue,E.children),wo(s)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||s.textContent===""+g||E.suppressHydrationWarning===!0||Zg(s.textContent,g)?(E.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),E.onScroll!=null&&Qt("scroll",s),E.onScrollEnd!=null&&Qt("scrollend",s),E.onClick!=null&&(s.onclick=Xc),s=!0):s=!1,s||Lo(n)}function Vm(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 3:case 27:Xs=!0;return;case 5:case 13:Xs=!1;return;default:Nn=Nn.return}}function Al(n){if(n!==Nn)return!1;if(!$t)return Vm(n),$t=!0,!1;var s=!1,g;if((g=n.tag!==3&&n.tag!==27)&&((g=n.tag===5)&&(g=n.type,g=!(g!=="form"&&g!=="button")||Tf(n.type,n.memoizedProps)),g=!g),g&&(s=!0),s&&bn&&Lo(n),Vm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(g=n.data,g==="/$"){if(s===0){bn=Ns(n.nextSibling);break e}s--}else g!=="$"&&g!=="$!"&&g!=="$?"||s++;n=n.nextSibling}bn=null}}else bn=Nn?Ns(n.stateNode.nextSibling):null;return!0}function kl(){bn=Nn=null,$t=!1}function Cl(n){Rs===null?Rs=[n]:Rs.push(n)}var Dl=Error(t(460)),Gm=Error(t(474)),id={then:function(){}};function zm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yc(){}function qm(n,s,g){switch(g=n[g],g===void 0?n.push(s):g!==s&&(s.then(yc,yc),s=g),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Dl?Error(t(483)):n;default:if(typeof s.status=="string")s.then(yc,yc);else{if(n=_r,n!==null&&100<n.shellSuspendCounter)throw Error(t(482));n=s,n.status="pending",n.then(function(E){if(s.status==="pending"){var I=s;I.status="fulfilled",I.value=E}},function(E){if(s.status==="pending"){var I=s;I.status="rejected",I.reason=E}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Dl?Error(t(483)):n}throw Rl=s,Dl}}var Rl=null;function Hm(){if(Rl===null)throw Error(t(459));var n=Rl;return Rl=null,n}var _a=null,Ll=0;function gc(n){var s=Ll;return Ll+=1,_a===null&&(_a=[]),qm(_a,n,s)}function Nl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function vc(n,s){throw s.$$typeof===w?Error(t(525)):(n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Wm(n){var s=n._init;return s(n._payload)}function Xm(n){function s(Ve,Le){if(n){var qe=Ve.deletions;qe===null?(Ve.deletions=[Le],Ve.flags|=16):qe.push(Le)}}function g(Ve,Le){if(!n)return null;for(;Le!==null;)s(Ve,Le),Le=Le.sibling;return null}function E(Ve){for(var Le=new Map;Ve!==null;)Ve.key!==null?Le.set(Ve.key,Ve):Le.set(Ve.index,Ve),Ve=Ve.sibling;return Le}function I(Ve,Le){return Ve=$i(Ve,Le),Ve.index=0,Ve.sibling=null,Ve}function H(Ve,Le,qe){return Ve.index=qe,n?(qe=Ve.alternate,qe!==null?(qe=qe.index,qe<Le?(Ve.flags|=33554434,Le):qe):(Ve.flags|=33554434,Le)):(Ve.flags|=1048576,Le)}function se(Ve){return n&&Ve.alternate===null&&(Ve.flags|=33554434),Ve}function me(Ve,Le,qe,et){return Le===null||Le.tag!==6?(Le=$d(qe,Ve.mode,et),Le.return=Ve,Le):(Le=I(Le,qe),Le.return=Ve,Le)}function Ee(Ve,Le,qe,et){var _t=qe.type;return _t===i?Je(Ve,Le,qe.props.children,et,qe.key):Le!==null&&(Le.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===d&&Wm(_t)===Le.type)?(Le=I(Le,qe.props),Nl(Le,qe),Le.return=Ve,Le):(Le=Pc(qe.type,qe.key,qe.props,null,Ve.mode,et),Nl(Le,qe),Le.return=Ve,Le)}function Ne(Ve,Le,qe,et){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==qe.containerInfo||Le.stateNode.implementation!==qe.implementation?(Le=ef(qe,Ve.mode,et),Le.return=Ve,Le):(Le=I(Le,qe.children||[]),Le.return=Ve,Le)}function Je(Ve,Le,qe,et,_t){return Le===null||Le.tag!==7?(Le=qo(qe,Ve.mode,et,_t),Le.return=Ve,Le):(Le=I(Le,qe),Le.return=Ve,Le)}function st(Ve,Le,qe){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=$d(""+Le,Ve.mode,qe),Le.return=Ve,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case f:return qe=Pc(Le.type,Le.key,Le.props,null,Ve.mode,qe),Nl(qe,Le),qe.return=Ve,qe;case p:return Le=ef(Le,Ve.mode,qe),Le.return=Ve,Le;case d:var et=Le._init;return Le=et(Le._payload),st(Ve,Le,qe)}if(A(Le)||k(Le))return Le=qo(Le,Ve.mode,qe,null),Le.return=Ve,Le;if(typeof Le.then=="function")return st(Ve,gc(Le),qe);if(Le.$$typeof===a)return st(Ve,Rc(Ve,Le),qe);vc(Ve,Le)}return null}function He(Ve,Le,qe,et){var _t=Le!==null?Le.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return _t!==null?null:me(Ve,Le,""+qe,et);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case f:return qe.key===_t?Ee(Ve,Le,qe,et):null;case p:return qe.key===_t?Ne(Ve,Le,qe,et):null;case d:return _t=qe._init,qe=_t(qe._payload),He(Ve,Le,qe,et)}if(A(qe)||k(qe))return _t!==null?null:Je(Ve,Le,qe,et,null);if(typeof qe.then=="function")return He(Ve,Le,gc(qe),et);if(qe.$$typeof===a)return He(Ve,Le,Rc(Ve,qe),et);vc(Ve,qe)}return null}function Ye(Ve,Le,qe,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ve=Ve.get(qe)||null,me(Le,Ve,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case f:return Ve=Ve.get(et.key===null?qe:et.key)||null,Ee(Le,Ve,et,_t);case p:return Ve=Ve.get(et.key===null?qe:et.key)||null,Ne(Le,Ve,et,_t);case d:var Ht=et._init;return et=Ht(et._payload),Ye(Ve,Le,qe,et,_t)}if(A(et)||k(et))return Ve=Ve.get(qe)||null,Je(Le,Ve,et,_t,null);if(typeof et.then=="function")return Ye(Ve,Le,qe,gc(et),_t);if(et.$$typeof===a)return Ye(Ve,Le,qe,Rc(Le,et),_t);vc(Le,et)}return null}function Et(Ve,Le,qe,et){for(var _t=null,Ht=null,Ot=Le,Lt=Le=0,fn=null;Ot!==null&&Lt<qe.length;Lt++){Ot.index>Lt?(fn=Ot,Ot=null):fn=Ot.sibling;var er=He(Ve,Ot,qe[Lt],et);if(er===null){Ot===null&&(Ot=fn);break}n&&Ot&&er.alternate===null&&s(Ve,Ot),Le=H(er,Le,Lt),Ht===null?_t=er:Ht.sibling=er,Ht=er,Ot=fn}if(Lt===qe.length)return g(Ve,Ot),$t&&Ro(Ve,Lt),_t;if(Ot===null){for(;Lt<qe.length;Lt++)Ot=st(Ve,qe[Lt],et),Ot!==null&&(Le=H(Ot,Le,Lt),Ht===null?_t=Ot:Ht.sibling=Ot,Ht=Ot);return $t&&Ro(Ve,Lt),_t}for(Ot=E(Ot);Lt<qe.length;Lt++)fn=Ye(Ot,Ve,Lt,qe[Lt],et),fn!==null&&(n&&fn.alternate!==null&&Ot.delete(fn.key===null?Lt:fn.key),Le=H(fn,Le,Lt),Ht===null?_t=fn:Ht.sibling=fn,Ht=fn);return n&&Ot.forEach(function(oo){return s(Ve,oo)}),$t&&Ro(Ve,Lt),_t}function Ft(Ve,Le,qe,et){if(qe==null)throw Error(t(151));for(var _t=null,Ht=null,Ot=Le,Lt=Le=0,fn=null,er=qe.next();Ot!==null&&!er.done;Lt++,er=qe.next()){Ot.index>Lt?(fn=Ot,Ot=null):fn=Ot.sibling;var oo=He(Ve,Ot,er.value,et);if(oo===null){Ot===null&&(Ot=fn);break}n&&Ot&&oo.alternate===null&&s(Ve,Ot),Le=H(oo,Le,Lt),Ht===null?_t=oo:Ht.sibling=oo,Ht=oo,Ot=fn}if(er.done)return g(Ve,Ot),$t&&Ro(Ve,Lt),_t;if(Ot===null){for(;!er.done;Lt++,er=qe.next())er=st(Ve,er.value,et),er!==null&&(Le=H(er,Le,Lt),Ht===null?_t=er:Ht.sibling=er,Ht=er);return $t&&Ro(Ve,Lt),_t}for(Ot=E(Ot);!er.done;Lt++,er=qe.next())er=Ye(Ot,Ve,Lt,er.value,et),er!==null&&(n&&er.alternate!==null&&Ot.delete(er.key===null?Lt:er.key),Le=H(er,Le,Lt),Ht===null?_t=er:Ht.sibling=er,Ht=er);return n&&Ot.forEach(function(A1){return s(Ve,A1)}),$t&&Ro(Ve,Lt),_t}function Ur(Ve,Le,qe,et){if(typeof qe=="object"&&qe!==null&&qe.type===i&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case f:e:{for(var _t=qe.key;Le!==null;){if(Le.key===_t){if(_t=qe.type,_t===i){if(Le.tag===7){g(Ve,Le.sibling),et=I(Le,qe.props.children),et.return=Ve,Ve=et;break e}}else if(Le.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===d&&Wm(_t)===Le.type){g(Ve,Le.sibling),et=I(Le,qe.props),Nl(et,qe),et.return=Ve,Ve=et;break e}g(Ve,Le);break}else s(Ve,Le);Le=Le.sibling}qe.type===i?(et=qo(qe.props.children,Ve.mode,et,qe.key),et.return=Ve,Ve=et):(et=Pc(qe.type,qe.key,qe.props,null,Ve.mode,et),Nl(et,qe),et.return=Ve,Ve=et)}return se(Ve);case p:e:{for(_t=qe.key;Le!==null;){if(Le.key===_t)if(Le.tag===4&&Le.stateNode.containerInfo===qe.containerInfo&&Le.stateNode.implementation===qe.implementation){g(Ve,Le.sibling),et=I(Le,qe.children||[]),et.return=Ve,Ve=et;break e}else{g(Ve,Le);break}else s(Ve,Le);Le=Le.sibling}et=ef(qe,Ve.mode,et),et.return=Ve,Ve=et}return se(Ve);case d:return _t=qe._init,qe=_t(qe._payload),Ur(Ve,Le,qe,et)}if(A(qe))return Et(Ve,Le,qe,et);if(k(qe)){if(_t=k(qe),typeof _t!="function")throw Error(t(150));return qe=_t.call(qe),Ft(Ve,Le,qe,et)}if(typeof qe.then=="function")return Ur(Ve,Le,gc(qe),et);if(qe.$$typeof===a)return Ur(Ve,Le,Rc(Ve,qe),et);vc(Ve,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Le!==null&&Le.tag===6?(g(Ve,Le.sibling),et=I(Le,qe),et.return=Ve,Ve=et):(g(Ve,Le),et=$d(qe,Ve.mode,et),et.return=Ve,Ve=et),se(Ve)):g(Ve,Le)}return function(Ve,Le,qe,et){try{Ll=0;var _t=Ur(Ve,Le,qe,et);return _a=null,_t}catch(Ot){if(Ot===Dl)throw Ot;var Ht=js(29,Ot,null,Ve.mode);return Ht.lanes=et,Ht.return=Ve,Ht}finally{}}}var No=Xm(!0),Ym=Xm(!1),xa=ne(null),bc=ne(0);function Zm(n,s){n=_i,ge(bc,n),ge(xa,s),_i=n|s.baseLanes}function od(){ge(bc,_i),ge(xa,xa.current)}function ad(){_i=bc.current,pe(xa),pe(bc)}var xs=ne(null),Ys=null;function Gi(n){var s=n.alternate;ge(on,on.current&1),ge(xs,n),Ys===null&&(s===null||xa.current!==null||s.memoizedState!==null)&&(Ys=n)}function Qm(n){if(n.tag===22){if(ge(on,on.current),ge(xs,n),Ys===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ys=n)}}else zi()}function zi(){ge(on,on.current),ge(xs,xs.current)}function ci(n){pe(xs),Ys===n&&(Ys=null),pe(on)}var on=ne(0);function _c(n){for(var s=n;s!==null;){if(s.tag===13){var g=s.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yb=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(g,E){n.push(E)}};this.abort=function(){s.aborted=!0,n.forEach(function(g){return g()})}},gb=R.unstable_scheduleCallback,vb=R.unstable_NormalPriority,an={$$typeof:a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new yb,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&gb(vb,function(){n.controller.abort()})}var Il=null,ud=0,wa=0,Sa=null;function bb(n,s){if(Il===null){var g=Il=[];ud=0,wa=yf(),Sa={status:"pending",value:void 0,then:function(E){g.push(E)}}}return ud++,s.then(Km,Km),s}function Km(){if(--ud===0&&Il!==null){Sa!==null&&(Sa.status="fulfilled");var n=Il;Il=null,wa=0,Sa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function _b(n,s){var g=[],E={status:"pending",value:null,reason:null,then:function(I){g.push(I)}};return n.then(function(){E.status="fulfilled",E.value=s;for(var I=0;I<g.length;I++)(0,g[I])(s)},function(I){for(E.status="rejected",E.reason=I,I=0;I<g.length;I++)(0,g[I])(void 0)}),E}var Jm=L.S;L.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&bb(n,s),Jm!==null&&Jm(n,s)};var Po=ne(null);function cd(){var n=Po.current;return n!==null?n:_r.pooledCache}function xc(n,s){s===null?ge(Po,Po.current):ge(Po,s.pool)}function $m(){var n=cd();return n===null?null:{parent:an._currentValue,pool:n}}var qi=0,zt=null,dr=null,Qr=null,wc=!1,ja=!1,Io=!1,Sc=0,Fl=0,Ta=null,xb=0;function qr(){throw Error(t(321))}function hd(n,s){if(s===null)return!1;for(var g=0;g<s.length&&g<n.length;g++)if(!Zt(n[g],s[g]))return!1;return!0}function dd(n,s,g,E,I,H){return qi=H,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?Fo:Hi,Io=!1,H=g(E,I),Io=!1,ja&&(H=ty(s,g,E,I)),ey(n),H}function ey(n){L.H=Zs;var s=dr!==null&&dr.next!==null;if(qi=0,Qr=dr=zt=null,wc=!1,Fl=0,Ta=null,s)throw Error(t(300));n===null||hn||(n=n.dependencies,n!==null&&Dc(n)&&(hn=!0))}function ty(n,s,g,E){zt=n;var I=0;do{if(ja&&(Ta=null),Fl=0,ja=!1,25<=I)throw Error(t(301));if(I+=1,Qr=dr=null,n.updateQueue!=null){var H=n.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}L.H=Uo,H=s(g,E)}while(ja);return H}function wb(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?Ul(s):s,n=n.useState()[0],(dr!==null?dr.memoizedState:null)!==n&&(zt.flags|=1024),s}function fd(){var n=Sc!==0;return Sc=0,n}function pd(n,s,g){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g}function md(n){if(wc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wc=!1}qi=0,Qr=dr=zt=null,ja=!1,Fl=Sc=0,Ta=null}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?zt.memoizedState=Qr=n:Qr=Qr.next=n,Qr}function Kr(){if(dr===null){var n=zt.alternate;n=n!==null?n.memoizedState:null}else n=dr.next;var s=Qr===null?zt.memoizedState:Qr.next;if(s!==null)Qr=s,dr=n;else{if(n===null)throw zt.alternate===null?Error(t(467)):Error(t(310));dr=n,n={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Qr===null?zt.memoizedState=Qr=n:Qr=Qr.next=n}return Qr}var jc;jc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ul(n){var s=Fl;return Fl+=1,Ta===null&&(Ta=[]),n=qm(Ta,n,s),s=zt,(Qr===null?s.memoizedState:Qr.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Fo:Hi),n}function Tc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ul(n);if(n.$$typeof===a)return Cn(n)}throw Error(t(438,String(n)))}function yd(n){var s=null,g=zt.updateQueue;if(g!==null&&(s=g.memoCache),s==null){var E=zt.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(s={data:E.data.map(function(I){return I.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),g===null&&(g=jc(),zt.updateQueue=g),g.memoCache=s,g=s.data[s.index],g===void 0)for(g=s.data[s.index]=Array(n),E=0;E<n;E++)g[E]=_;return s.index++,g}function hi(n,s){return typeof s=="function"?s(n):s}function Ec(n){var s=Kr();return gd(s,dr,n)}function gd(n,s,g){var E=n.queue;if(E===null)throw Error(t(311));E.lastRenderedReducer=g;var I=n.baseQueue,H=E.pending;if(H!==null){if(I!==null){var se=I.next;I.next=H.next,H.next=se}s.baseQueue=I=H,E.pending=null}if(H=n.baseState,I===null)n.memoizedState=H;else{s=I.next;var me=se=null,Ee=null,Ne=s,Je=!1;do{var st=Ne.lane&-536870913;if(st!==Ne.lane?(Kt&st)===st:(qi&st)===st){var He=Ne.revertLane;if(He===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),st===wa&&(Je=!0);else if((qi&He)===He){Ne=Ne.next,He===wa&&(Je=!0);continue}else st={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},Ee===null?(me=Ee=st,se=H):Ee=Ee.next=st,zt.lanes|=He,eo|=He;st=Ne.action,Io&&g(H,st),H=Ne.hasEagerState?Ne.eagerState:g(H,st)}else He={lane:st,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},Ee===null?(me=Ee=He,se=H):Ee=Ee.next=He,zt.lanes|=st,eo|=st;Ne=Ne.next}while(Ne!==null&&Ne!==s);if(Ee===null?se=H:Ee.next=me,!Zt(H,n.memoizedState)&&(hn=!0,Je&&(g=Sa,g!==null)))throw g;n.memoizedState=H,n.baseState=se,n.baseQueue=Ee,E.lastRenderedState=H}return I===null&&(E.lanes=0),[n.memoizedState,E.dispatch]}function vd(n){var s=Kr(),g=s.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=n;var E=g.dispatch,I=g.pending,H=s.memoizedState;if(I!==null){g.pending=null;var se=I=I.next;do H=n(H,se.action),se=se.next;while(se!==I);Zt(H,s.memoizedState)||(hn=!0),s.memoizedState=H,s.baseQueue===null&&(s.baseState=H),g.lastRenderedState=H}return[H,E]}function ry(n,s,g){var E=zt,I=Kr(),H=$t;if(H){if(g===void 0)throw Error(t(407));g=g()}else g=s();var se=!Zt((dr||I).memoizedState,g);if(se&&(I.memoizedState=g,hn=!0),I=I.queue,xd(iy.bind(null,E,I,n),[n]),I.getSnapshot!==s||se||Qr!==null&&Qr.memoizedState.tag&1){if(E.flags|=2048,Ea(9,sy.bind(null,E,I,g,s),{destroy:void 0},null),_r===null)throw Error(t(349));H||(qi&60)!==0||ny(E,s,g)}return g}function ny(n,s,g){n.flags|=16384,n={getSnapshot:s,value:g},s=zt.updateQueue,s===null?(s=jc(),zt.updateQueue=s,s.stores=[n]):(g=s.stores,g===null?s.stores=[n]:g.push(n))}function sy(n,s,g,E){s.value=g,s.getSnapshot=E,oy(s)&&ay(n)}function iy(n,s,g){return g(function(){oy(s)&&ay(n)})}function oy(n){var s=n.getSnapshot;n=n.value;try{var g=s();return!Zt(n,g)}catch{return!0}}function ay(n){var s=Vi(n,2);s!==null&&Pn(s,n,2)}function bd(n){var s=Zn();if(typeof n=="function"){var g=n;if(n=g(),Io){De(!0);try{g()}finally{De(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},s}function ly(n,s,g,E){return n.baseState=g,gd(n,dr,typeof E=="function"?E:hi)}function Sb(n,s,g,E,I){if(Ac(n))throw Error(t(485));if(n=s.action,n!==null){var H={payload:I,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){H.listeners.push(se)}};L.T!==null?g(!0):H.isTransition=!1,E(H),g=s.pending,g===null?(H.next=s.pending=H,uy(s,H)):(H.next=g.next,s.pending=g.next=H)}}function uy(n,s){var g=s.action,E=s.payload,I=n.state;if(s.isTransition){var H=L.T,se={};L.T=se;try{var me=g(I,E),Ee=L.S;Ee!==null&&Ee(se,me),cy(n,s,me)}catch(Ne){_d(n,s,Ne)}finally{L.T=H}}else try{H=g(I,E),cy(n,s,H)}catch(Ne){_d(n,s,Ne)}}function cy(n,s,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){hy(n,s,E)},function(E){return _d(n,s,E)}):hy(n,s,g)}function hy(n,s,g){s.status="fulfilled",s.value=g,dy(s),n.state=g,s=n.pending,s!==null&&(g=s.next,g===s?n.pending=null:(g=g.next,s.next=g,uy(n,g)))}function _d(n,s,g){var E=n.pending;if(n.pending=null,E!==null){E=E.next;do s.status="rejected",s.reason=g,dy(s),s=s.next;while(s!==E)}n.action=null}function dy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function fy(n,s){return s}function py(n,s){if($t){var g=_r.formState;if(g!==null){e:{var E=zt;if($t){if(bn){t:{for(var I=bn,H=Xs;I.nodeType!==8;){if(!H){I=null;break t}if(I=Ns(I.nextSibling),I===null){I=null;break t}}H=I.data,I=H==="F!"||H==="F"?I:null}if(I){bn=Ns(I.nextSibling),E=I.data==="F!";break e}}Lo(E)}E=!1}E&&(s=g[0])}}return g=Zn(),g.memoizedState=g.baseState=s,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:s},g.queue=E,g=Dy.bind(null,zt,E),E.dispatch=g,E=bd(!1),H=Ed.bind(null,zt,!1,E.queue),E=Zn(),I={state:s,dispatch:null,action:n,pending:null},E.queue=I,g=Sb.bind(null,zt,I,H,g),I.dispatch=g,E.memoizedState=n,[s,g,!1]}function my(n){var s=Kr();return yy(s,dr,n)}function yy(n,s,g){s=gd(n,s,fy)[0],n=Ec(hi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ul(s):s;var E=Kr(),I=E.queue,H=I.dispatch;return g!==E.memoizedState&&(zt.flags|=2048,Ea(9,jb.bind(null,I,g),{destroy:void 0},null)),[s,H,n]}function jb(n,s){n.action=s}function gy(n){var s=Kr(),g=dr;if(g!==null)return yy(s,g,n);Kr(),s=s.memoizedState,g=Kr();var E=g.queue.dispatch;return g.memoizedState=n,[s,E,!1]}function Ea(n,s,g,E){return n={tag:n,create:s,inst:g,deps:E,next:null},s=zt.updateQueue,s===null&&(s=jc(),zt.updateQueue=s),g=s.lastEffect,g===null?s.lastEffect=n.next=n:(E=g.next,g.next=n,n.next=E,s.lastEffect=n),n}function vy(){return Kr().memoizedState}function Mc(n,s,g,E){var I=Zn();zt.flags|=n,I.memoizedState=Ea(1|s,g,{destroy:void 0},E===void 0?null:E)}function Oc(n,s,g,E){var I=Kr();E=E===void 0?null:E;var H=I.memoizedState.inst;dr!==null&&E!==null&&hd(E,dr.memoizedState.deps)?I.memoizedState=Ea(s,g,H,E):(zt.flags|=n,I.memoizedState=Ea(1|s,g,H,E))}function by(n,s){Mc(8390656,8,n,s)}function xd(n,s){Oc(2048,8,n,s)}function _y(n,s){return Oc(4,2,n,s)}function xy(n,s){return Oc(4,4,n,s)}function wy(n,s){if(typeof s=="function"){n=n();var g=s(n);return function(){typeof g=="function"?g():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Sy(n,s,g){g=g!=null?g.concat([n]):null,Oc(4,4,wy.bind(null,s,n),g)}function wd(){}function jy(n,s){var g=Kr();s=s===void 0?null:s;var E=g.memoizedState;return s!==null&&hd(s,E[1])?E[0]:(g.memoizedState=[n,s],n)}function Ty(n,s){var g=Kr();s=s===void 0?null:s;var E=g.memoizedState;if(s!==null&&hd(s,E[1]))return E[0];if(E=n(),Io){De(!0);try{n()}finally{De(!1)}}return g.memoizedState=[E,s],E}function Sd(n,s,g){return g===void 0||(qi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=g,n=Mg(),zt.lanes|=n,eo|=n,g)}function Ey(n,s,g,E){return Zt(g,s)?g:xa.current!==null?(n=Sd(n,g,E),Zt(n,s)||(hn=!0),n):(qi&42)===0?(hn=!0,n.memoizedState=g):(n=Mg(),zt.lanes|=n,eo|=n,s)}function My(n,s,g,E,I){var H=B.p;B.p=H!==0&&8>H?H:8;var se=L.T,me={};L.T=me,Ed(n,!1,s,g);try{var Ee=I(),Ne=L.S;if(Ne!==null&&Ne(me,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Je=_b(Ee,E);Bl(n,s,Je,is(n))}else Bl(n,s,E,is(n))}catch(st){Bl(n,s,{then:function(){},status:"rejected",reason:st},is())}finally{B.p=H,L.T=se}}function Tb(){}function jd(n,s,g,E){if(n.tag!==5)throw Error(t(476));var I=Oy(n).queue;My(n,I,s,W,g===null?Tb:function(){return Ay(n),g(E)})}function Oy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:W},next:null};var g={};return s.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:g},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Ay(n){var s=Oy(n).next.queue;Bl(n,s,{},is())}function Td(){return Cn(ou)}function ky(){return Kr().memoizedState}function Cy(){return Kr().memoizedState}function Eb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var g=is();n=Yi(g);var E=Zi(s,n,g);E!==null&&(Pn(E,s,g),zl(E,s,g)),s={cache:ld()},n.payload=s;return}s=s.return}}function Mb(n,s,g){var E=is();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Ac(n)?Ry(s,g):(g=td(n,s,g,E),g!==null&&(Pn(g,n,E),Ly(g,s,E)))}function Dy(n,s,g){var E=is();Bl(n,s,g,E)}function Bl(n,s,g,E){var I={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))Ry(s,I);else{var H=n.alternate;if(n.lanes===0&&(H===null||H.lanes===0)&&(H=s.lastRenderedReducer,H!==null))try{var se=s.lastRenderedState,me=H(se,g);if(I.hasEagerState=!0,I.eagerState=me,Zt(me,se))return dc(n,s,I,0),_r===null&&hc(),!1}catch{}finally{}if(g=td(n,s,I,E),g!==null)return Pn(g,n,E),Ly(g,s,E),!0}return!1}function Ed(n,s,g,E){if(E={lane:2,revertLane:yf(),action:E,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(s)throw Error(t(479))}else s=td(n,g,E,2),s!==null&&Pn(s,n,2)}function Ac(n){var s=n.alternate;return n===zt||s!==null&&s===zt}function Ry(n,s){ja=wc=!0;var g=n.pending;g===null?s.next=s:(s.next=g.next,g.next=s),n.pending=s}function Ly(n,s,g){if((g&4194176)!==0){var E=s.lanes;E&=n.pendingLanes,g|=E,s.lanes=g,Xr(n,g)}}var Zs={readContext:Cn,use:Tc,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useLayoutEffect:qr,useInsertionEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useSyncExternalStore:qr,useId:qr};Zs.useCacheRefresh=qr,Zs.useMemoCache=qr,Zs.useHostTransitionStatus=qr,Zs.useFormState=qr,Zs.useActionState=qr,Zs.useOptimistic=qr;var Fo={readContext:Cn,use:Tc,useCallback:function(n,s){return Zn().memoizedState=[n,s===void 0?null:s],n},useContext:Cn,useEffect:by,useImperativeHandle:function(n,s,g){g=g!=null?g.concat([n]):null,Mc(4194308,4,wy.bind(null,s,n),g)},useLayoutEffect:function(n,s){return Mc(4194308,4,n,s)},useInsertionEffect:function(n,s){Mc(4,2,n,s)},useMemo:function(n,s){var g=Zn();s=s===void 0?null:s;var E=n();if(Io){De(!0);try{n()}finally{De(!1)}}return g.memoizedState=[E,s],E},useReducer:function(n,s,g){var E=Zn();if(g!==void 0){var I=g(s);if(Io){De(!0);try{g(s)}finally{De(!1)}}}else I=s;return E.memoizedState=E.baseState=I,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:I},E.queue=n,n=n.dispatch=Mb.bind(null,zt,n),[E.memoizedState,n]},useRef:function(n){var s=Zn();return n={current:n},s.memoizedState=n},useState:function(n){n=bd(n);var s=n.queue,g=Dy.bind(null,zt,s);return s.dispatch=g,[n.memoizedState,g]},useDebugValue:wd,useDeferredValue:function(n,s){var g=Zn();return Sd(g,n,s)},useTransition:function(){var n=bd(!1);return n=My.bind(null,zt,n.queue,!0,!1),Zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,g){var E=zt,I=Zn();if($t){if(g===void 0)throw Error(t(407));g=g()}else{if(g=s(),_r===null)throw Error(t(349));(Kt&60)!==0||ny(E,s,g)}I.memoizedState=g;var H={value:g,getSnapshot:s};return I.queue=H,by(iy.bind(null,E,H,n),[n]),E.flags|=2048,Ea(9,sy.bind(null,E,H,g,s),{destroy:void 0},null),g},useId:function(){var n=Zn(),s=_r.identifierPrefix;if($t){var g=ui,E=li;g=(E&~(1<<32-Ge(E)-1)).toString(32)+g,s=":"+s+"R"+g,g=Sc++,0<g&&(s+="H"+g.toString(32)),s+=":"}else g=xb++,s=":"+s+"r"+g.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return Zn().memoizedState=Eb.bind(null,zt)}};Fo.useMemoCache=yd,Fo.useHostTransitionStatus=Td,Fo.useFormState=py,Fo.useActionState=py,Fo.useOptimistic=function(n){var s=Zn();s.memoizedState=s.baseState=n;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=g,s=Ed.bind(null,zt,!0,g),g.dispatch=s,[n,s]};var Hi={readContext:Cn,use:Tc,useCallback:jy,useContext:Cn,useEffect:xd,useImperativeHandle:Sy,useInsertionEffect:_y,useLayoutEffect:xy,useMemo:Ty,useReducer:Ec,useRef:vy,useState:function(){return Ec(hi)},useDebugValue:wd,useDeferredValue:function(n,s){var g=Kr();return Ey(g,dr.memoizedState,n,s)},useTransition:function(){var n=Ec(hi)[0],s=Kr().memoizedState;return[typeof n=="boolean"?n:Ul(n),s]},useSyncExternalStore:ry,useId:ky};Hi.useCacheRefresh=Cy,Hi.useMemoCache=yd,Hi.useHostTransitionStatus=Td,Hi.useFormState=my,Hi.useActionState=my,Hi.useOptimistic=function(n,s){var g=Kr();return ly(g,dr,n,s)};var Uo={readContext:Cn,use:Tc,useCallback:jy,useContext:Cn,useEffect:xd,useImperativeHandle:Sy,useInsertionEffect:_y,useLayoutEffect:xy,useMemo:Ty,useReducer:vd,useRef:vy,useState:function(){return vd(hi)},useDebugValue:wd,useDeferredValue:function(n,s){var g=Kr();return dr===null?Sd(g,n,s):Ey(g,dr.memoizedState,n,s)},useTransition:function(){var n=vd(hi)[0],s=Kr().memoizedState;return[typeof n=="boolean"?n:Ul(n),s]},useSyncExternalStore:ry,useId:ky};Uo.useCacheRefresh=Cy,Uo.useMemoCache=yd,Uo.useHostTransitionStatus=Td,Uo.useFormState=gy,Uo.useActionState=gy,Uo.useOptimistic=function(n,s){var g=Kr();return dr!==null?ly(g,dr,n,s):(g.baseState=n,[n,g.queue.dispatch])};function Md(n,s,g,E){s=n.memoizedState,g=g(E,s),g=g==null?s:F({},s,g),n.memoizedState=g,n.lanes===0&&(n.updateQueue.baseState=g)}var Od={isMounted:function(n){return(n=n._reactInternals)?K(n)===n:!1},enqueueSetState:function(n,s,g){n=n._reactInternals;var E=is(),I=Yi(E);I.payload=s,g!=null&&(I.callback=g),s=Zi(n,I,E),s!==null&&(Pn(s,n,E),zl(s,n,E))},enqueueReplaceState:function(n,s,g){n=n._reactInternals;var E=is(),I=Yi(E);I.tag=1,I.payload=s,g!=null&&(I.callback=g),s=Zi(n,I,E),s!==null&&(Pn(s,n,E),zl(s,n,E))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var g=is(),E=Yi(g);E.tag=2,s!=null&&(E.callback=s),s=Zi(n,E,g),s!==null&&(Pn(s,n,g),zl(s,n,g))}};function Ny(n,s,g,E,I,H,se){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(E,H,se):s.prototype&&s.prototype.isPureReactComponent?!br(g,E)||!br(I,H):!0}function Py(n,s,g,E){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(g,E),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(g,E),s.state!==n&&Od.enqueueReplaceState(s,s.state,null)}function Bo(n,s){var g=s;if("ref"in s){g={};for(var E in s)E!=="ref"&&(g[E]=s[E])}if(n=n.defaultProps){g===s&&(g=F({},g));for(var I in n)g[I]===void 0&&(g[I]=n[I])}return g}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Iy(n){kc(n)}function Fy(n){console.error(n)}function Uy(n){kc(n)}function Cc(n,s){try{var g=n.onUncaughtError;g(s.value,{componentStack:s.stack})}catch(E){setTimeout(function(){throw E})}}function By(n,s,g){try{var E=n.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Ad(n,s,g){return g=Yi(g),g.tag=3,g.payload={element:null},g.callback=function(){Cc(n,s)},g}function Vy(n){return n=Yi(n),n.tag=3,n}function Gy(n,s,g,E){var I=g.type.getDerivedStateFromError;if(typeof I=="function"){var H=E.value;n.payload=function(){return I(H)},n.callback=function(){By(s,g,E)}}var se=g.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(n.callback=function(){By(s,g,E),typeof I!="function"&&(to===null?to=new Set([this]):to.add(this));var me=E.stack;this.componentDidCatch(E.value,{componentStack:me!==null?me:""})})}function Ob(n,s,g,E,I){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(s=g.alternate,s!==null&&Gl(s,g,I,!0),g=xs.current,g!==null){switch(g.tag){case 13:return Ys===null?hf():g.alternate===null&&Fr===0&&(Fr=3),g.flags&=-257,g.flags|=65536,g.lanes=I,E===id?g.flags|=16384:(s=g.updateQueue,s===null?g.updateQueue=new Set([E]):s.add(E),ff(n,E,I)),!1;case 22:return g.flags|=65536,E===id?g.flags|=16384:(s=g.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=s):(g=s.retryQueue,g===null?s.retryQueue=new Set([E]):g.add(E)),ff(n,E,I)),!1}throw Error(t(435,g.tag))}return ff(n,E,I),hf(),!1}if($t)return s=xs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=I,E!==sd&&(n=Error(t(422),{cause:E}),Cl(vs(n,g)))):(E!==sd&&(s=Error(t(423),{cause:E}),Cl(vs(s,g))),n=n.current.alternate,n.flags|=65536,I&=-I,n.lanes|=I,E=vs(E,g),I=Ad(n.stateNode,E,I),qd(n,I),Fr!==4&&(Fr=2)),!1;var H=Error(t(520),{cause:E});if(H=vs(H,g),Kl===null?Kl=[H]:Kl.push(H),Fr!==4&&(Fr=2),s===null)return!0;E=vs(E,g),g=s;do{switch(g.tag){case 3:return g.flags|=65536,n=I&-I,g.lanes|=n,n=Ad(g.stateNode,E,n),qd(g,n),!1;case 1:if(s=g.type,H=g.stateNode,(g.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(to===null||!to.has(H))))return g.flags|=65536,I&=-I,g.lanes|=I,I=Vy(I),Gy(I,n,g,E),qd(g,I),!1}g=g.return}while(g!==null);return!1}var zy=Error(t(461)),hn=!1;function _n(n,s,g,E){s.child=n===null?Ym(s,null,g,E):No(s,n.child,g,E)}function qy(n,s,g,E,I){g=g.render;var H=s.ref;if("ref"in E){var se={};for(var me in E)me!=="ref"&&(se[me]=E[me])}else se=E;return Go(s),E=dd(n,s,g,se,H,I),me=fd(),n!==null&&!hn?(pd(n,s,I),di(n,s,I)):($t&&me&&rd(s),s.flags|=1,_n(n,s,E,I),s.child)}function Hy(n,s,g,E,I){if(n===null){var H=g.type;return typeof H=="function"&&!Jd(H)&&H.defaultProps===void 0&&g.compare===null?(s.tag=15,s.type=H,Wy(n,s,H,E,I)):(n=Pc(g.type,null,E,s,s.mode,I),n.ref=s.ref,n.return=s,s.child=n)}if(H=n.child,!Fd(n,I)){var se=H.memoizedProps;if(g=g.compare,g=g!==null?g:br,g(se,E)&&n.ref===s.ref)return di(n,s,I)}return s.flags|=1,n=$i(H,E),n.ref=s.ref,n.return=s,s.child=n}function Wy(n,s,g,E,I){if(n!==null){var H=n.memoizedProps;if(br(H,E)&&n.ref===s.ref)if(hn=!1,s.pendingProps=E=H,Fd(n,I))(n.flags&131072)!==0&&(hn=!0);else return s.lanes=n.lanes,di(n,s,I)}return kd(n,s,g,E,I)}function Xy(n,s,g){var E=s.pendingProps,I=E.children,H=(s.stateNode._pendingVisibility&2)!==0,se=n!==null?n.memoizedState:null;if(Vl(n,s),E.mode==="hidden"||H){if((s.flags&128)!==0){if(E=se!==null?se.baseLanes|g:g,n!==null){for(I=s.child=n.child,H=0;I!==null;)H=H|I.lanes|I.childLanes,I=I.sibling;s.childLanes=H&~E}else s.childLanes=0,s.child=null;return Yy(n,s,E,g)}if((g&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&xc(s,se!==null?se.cachePool:null),se!==null?Zm(s,se):od(),Qm(s);else return s.lanes=s.childLanes=536870912,Yy(n,s,se!==null?se.baseLanes|g:g,g)}else se!==null?(xc(s,se.cachePool),Zm(s,se),zi(),s.memoizedState=null):(n!==null&&xc(s,null),od(),zi());return _n(n,s,I,g),s.child}function Yy(n,s,g,E){var I=cd();return I=I===null?null:{parent:an._currentValue,pool:I},s.memoizedState={baseLanes:g,cachePool:I},n!==null&&xc(s,null),od(),Qm(s),n!==null&&Gl(n,s,E,!0),null}function Vl(n,s){var g=s.ref;if(g===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(t(284));(n===null||n.ref!==g)&&(s.flags|=2097664)}}function kd(n,s,g,E,I){return Go(s),g=dd(n,s,g,E,void 0,I),E=fd(),n!==null&&!hn?(pd(n,s,I),di(n,s,I)):($t&&E&&rd(s),s.flags|=1,_n(n,s,g,I),s.child)}function Zy(n,s,g,E,I,H){return Go(s),s.updateQueue=null,g=ty(s,E,g,I),ey(n),E=fd(),n!==null&&!hn?(pd(n,s,H),di(n,s,H)):($t&&E&&rd(s),s.flags|=1,_n(n,s,g,H),s.child)}function Qy(n,s,g,E,I){if(Go(s),s.stateNode===null){var H=ga,se=g.contextType;typeof se=="object"&&se!==null&&(H=Cn(se)),H=new g(E,H),s.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Od,s.stateNode=H,H._reactInternals=s,H=s.stateNode,H.props=E,H.state=s.memoizedState,H.refs={},Gd(s),se=g.contextType,H.context=typeof se=="object"&&se!==null?Cn(se):ga,H.state=s.memoizedState,se=g.getDerivedStateFromProps,typeof se=="function"&&(Md(s,g,se,E),H.state=s.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(se=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),se!==H.state&&Od.enqueueReplaceState(H,H.state,null),Hl(s,E,H,I),ql(),H.state=s.memoizedState),typeof H.componentDidMount=="function"&&(s.flags|=4194308),E=!0}else if(n===null){H=s.stateNode;var me=s.memoizedProps,Ee=Bo(g,me);H.props=Ee;var Ne=H.context,Je=g.contextType;se=ga,typeof Je=="object"&&Je!==null&&(se=Cn(Je));var st=g.getDerivedStateFromProps;Je=typeof st=="function"||typeof H.getSnapshotBeforeUpdate=="function",me=s.pendingProps!==me,Je||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(me||Ne!==se)&&Py(s,H,E,se),Xi=!1;var He=s.memoizedState;H.state=He,Hl(s,E,H,I),ql(),Ne=s.memoizedState,me||He!==Ne||Xi?(typeof st=="function"&&(Md(s,g,st,E),Ne=s.memoizedState),(Ee=Xi||Ny(s,g,Ee,E,He,Ne,se))?(Je||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(s.flags|=4194308)):(typeof H.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=E,s.memoizedState=Ne),H.props=E,H.state=Ne,H.context=se,E=Ee):(typeof H.componentDidMount=="function"&&(s.flags|=4194308),E=!1)}else{H=s.stateNode,zd(n,s),se=s.memoizedProps,Je=Bo(g,se),H.props=Je,st=s.pendingProps,He=H.context,Ne=g.contextType,Ee=ga,typeof Ne=="object"&&Ne!==null&&(Ee=Cn(Ne)),me=g.getDerivedStateFromProps,(Ne=typeof me=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==st||He!==Ee)&&Py(s,H,E,Ee),Xi=!1,He=s.memoizedState,H.state=He,Hl(s,E,H,I),ql();var Ye=s.memoizedState;se!==st||He!==Ye||Xi||n!==null&&n.dependencies!==null&&Dc(n.dependencies)?(typeof me=="function"&&(Md(s,g,me,E),Ye=s.memoizedState),(Je=Xi||Ny(s,g,Je,E,He,Ye,Ee)||n!==null&&n.dependencies!==null&&Dc(n.dependencies))?(Ne||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(E,Ye,Ee),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(E,Ye,Ee)),typeof H.componentDidUpdate=="function"&&(s.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof H.componentDidUpdate!="function"||se===n.memoizedProps&&He===n.memoizedState||(s.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===n.memoizedProps&&He===n.memoizedState||(s.flags|=1024),s.memoizedProps=E,s.memoizedState=Ye),H.props=E,H.state=Ye,H.context=Ee,E=Je):(typeof H.componentDidUpdate!="function"||se===n.memoizedProps&&He===n.memoizedState||(s.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===n.memoizedProps&&He===n.memoizedState||(s.flags|=1024),E=!1)}return H=E,Vl(n,s),E=(s.flags&128)!==0,H||E?(H=s.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:H.render(),s.flags|=1,n!==null&&E?(s.child=No(s,n.child,null,I),s.child=No(s,null,g,I)):_n(n,s,g,I),s.memoizedState=H.state,n=s.child):n=di(n,s,I),n}function Ky(n,s,g,E){return kl(),s.flags|=256,_n(n,s,g,E),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Dd(n){return{baseLanes:n,cachePool:$m()}}function Rd(n,s,g){return n=n!==null?n.childLanes&~g:0,s&&(n|=Ts),n}function Jy(n,s,g){var E=s.pendingProps,I=!1,H=(s.flags&128)!==0,se;if((se=H)||(se=n!==null&&n.memoizedState===null?!1:(on.current&2)!==0),se&&(I=!0,s.flags&=-129),se=(s.flags&32)!==0,s.flags&=-33,n===null){if($t){if(I?Gi(s):zi(),$t){var me=bn,Ee;if(Ee=me){e:{for(Ee=me,me=Xs;Ee.nodeType!==8;){if(!me){me=null;break e}if(Ee=Ns(Ee.nextSibling),Ee===null){me=null;break e}}me=Ee}me!==null?(s.memoizedState={dehydrated:me,treeContext:Do!==null?{id:li,overflow:ui}:null,retryLane:536870912},Ee=js(18,null,null,0),Ee.stateNode=me,Ee.return=s,s.child=Ee,Nn=s,bn=null,Ee=!0):Ee=!1}Ee||Lo(s)}if(me=s.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return me.data==="$!"?s.lanes=16:s.lanes=536870912,null;ci(s)}return me=E.children,E=E.fallback,I?(zi(),I=s.mode,me=Nd({mode:"hidden",children:me},I),E=qo(E,I,g,null),me.return=s,E.return=s,me.sibling=E,s.child=me,I=s.child,I.memoizedState=Dd(g),I.childLanes=Rd(n,se,g),s.memoizedState=Cd,E):(Gi(s),Ld(s,me))}if(Ee=n.memoizedState,Ee!==null&&(me=Ee.dehydrated,me!==null)){if(H)s.flags&256?(Gi(s),s.flags&=-257,s=Pd(n,s,g)):s.memoizedState!==null?(zi(),s.child=n.child,s.flags|=128,s=null):(zi(),I=E.fallback,me=s.mode,E=Nd({mode:"visible",children:E.children},me),I=qo(I,me,g,null),I.flags|=2,E.return=s,I.return=s,E.sibling=I,s.child=E,No(s,n.child,null,g),E=s.child,E.memoizedState=Dd(g),E.childLanes=Rd(n,se,g),s.memoizedState=Cd,s=I);else if(Gi(s),me.data==="$!"){if(se=me.nextSibling&&me.nextSibling.dataset,se)var Ne=se.dgst;se=Ne,E=Error(t(419)),E.stack="",E.digest=se,Cl({value:E,source:null,stack:null}),s=Pd(n,s,g)}else if(hn||Gl(n,s,g,!1),se=(g&n.childLanes)!==0,hn||se){if(se=_r,se!==null){if(E=g&-g,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(se.suspendedLanes|g))!==0?0:E,E!==0&&E!==Ee.retryLane)throw Ee.retryLane=E,Vi(n,E),Pn(se,n,E),zy}me.data==="$?"||hf(),s=Pd(n,s,g)}else me.data==="$?"?(s.flags|=128,s.child=n.child,s=zb.bind(null,n),me._reactRetry=s,s=null):(n=Ee.treeContext,bn=Ns(me.nextSibling),Nn=s,$t=!0,Rs=null,Xs=!1,n!==null&&(bs[_s++]=li,bs[_s++]=ui,bs[_s++]=Do,li=n.id,ui=n.overflow,Do=s),s=Ld(s,E.children),s.flags|=4096);return s}return I?(zi(),I=E.fallback,me=s.mode,Ee=n.child,Ne=Ee.sibling,E=$i(Ee,{mode:"hidden",children:E.children}),E.subtreeFlags=Ee.subtreeFlags&31457280,Ne!==null?I=$i(Ne,I):(I=qo(I,me,g,null),I.flags|=2),I.return=s,E.return=s,E.sibling=I,s.child=E,E=I,I=s.child,me=n.child.memoizedState,me===null?me=Dd(g):(Ee=me.cachePool,Ee!==null?(Ne=an._currentValue,Ee=Ee.parent!==Ne?{parent:Ne,pool:Ne}:Ee):Ee=$m(),me={baseLanes:me.baseLanes|g,cachePool:Ee}),I.memoizedState=me,I.childLanes=Rd(n,se,g),s.memoizedState=Cd,E):(Gi(s),g=n.child,n=g.sibling,g=$i(g,{mode:"visible",children:E.children}),g.return=s,g.sibling=null,n!==null&&(se=s.deletions,se===null?(s.deletions=[n],s.flags|=16):se.push(n)),s.child=g,s.memoizedState=null,g)}function Ld(n,s){return s=Nd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Nd(n,s){return jg(n,s,0,null)}function Pd(n,s,g){return No(s,n.child,null,g),n=Ld(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $y(n,s,g){n.lanes|=s;var E=n.alternate;E!==null&&(E.lanes|=s),Bd(n.return,s,g)}function Id(n,s,g,E,I){var H=n.memoizedState;H===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:I}:(H.isBackwards=s,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=g,H.tailMode=I)}function eg(n,s,g){var E=s.pendingProps,I=E.revealOrder,H=E.tail;if(_n(n,s,E.children,g),E=on.current,(E&2)!==0)E=E&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$y(n,g,s);else if(n.tag===19)$y(n,g,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}E&=1}switch(ge(on,E),I){case"forwards":for(g=s.child,I=null;g!==null;)n=g.alternate,n!==null&&_c(n)===null&&(I=g),g=g.sibling;g=I,g===null?(I=s.child,s.child=null):(I=g.sibling,g.sibling=null),Id(s,!1,I,g,H);break;case"backwards":for(g=null,I=s.child,s.child=null;I!==null;){if(n=I.alternate,n!==null&&_c(n)===null){s.child=I;break}n=I.sibling,I.sibling=g,g=I,I=n}Id(s,!0,g,null,H);break;case"together":Id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function di(n,s,g){if(n!==null&&(s.dependencies=n.dependencies),eo|=s.lanes,(g&s.childLanes)===0)if(n!==null){if(Gl(n,s,g,!1),(g&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,g=$i(n,n.pendingProps),s.child=g,g.return=s;n.sibling!==null;)n=n.sibling,g=g.sibling=$i(n,n.pendingProps),g.return=s;g.sibling=null}return s.child}function Fd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Dc(n)))}function Ab(n,s,g){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),Wi(s,an,n.memoizedState.cache),kl();break;case 27:case 5:Ae(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 13:var E=s.memoizedState;if(E!==null)return E.dehydrated!==null?(Gi(s),s.flags|=128,null):(g&s.child.childLanes)!==0?Jy(n,s,g):(Gi(s),n=di(n,s,g),n!==null?n.sibling:null);Gi(s);break;case 19:var I=(n.flags&128)!==0;if(E=(g&s.childLanes)!==0,E||(Gl(n,s,g,!1),E=(g&s.childLanes)!==0),I){if(E)return eg(n,s,g);s.flags|=128}if(I=s.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ge(on,on.current),E)break;return null;case 22:case 23:return s.lanes=0,Xy(n,s,g);case 24:Wi(s,an,n.memoizedState.cache)}return di(n,s,g)}function tg(n,s,g){if(n!==null)if(n.memoizedProps!==s.pendingProps)hn=!0;else{if(!Fd(n,g)&&(s.flags&128)===0)return hn=!1,Ab(n,s,g);hn=(n.flags&131072)!==0}else hn=!1,$t&&(s.flags&1048576)!==0&&Um(s,mc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var E=s.elementType,I=E._init;if(E=I(E._payload),s.type=E,typeof E=="function")Jd(E)?(n=Bo(E,n),s.tag=1,s=Qy(null,s,E,n,g)):(s.tag=0,s=kd(null,s,E,n,g));else{if(E!=null){if(I=E.$$typeof,I===u){s.tag=11,s=qy(null,s,E,n,g);break e}else if(I===h){s.tag=14,s=Hy(null,s,E,n,g);break e}}throw s=O(E)||E,Error(t(306,s,""))}}return s;case 0:return kd(n,s,s.type,s.pendingProps,g);case 1:return E=s.type,I=Bo(E,s.pendingProps),Qy(n,s,E,I,g);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(t(387));var H=s.pendingProps;I=s.memoizedState,E=I.element,zd(n,s),Hl(s,H,null,g);var se=s.memoizedState;if(H=se.cache,Wi(s,an,H),H!==I.cache&&Vd(s,[an],g,!0),ql(),H=se.element,I.isDehydrated)if(I={element:H,isDehydrated:!1,cache:se.cache},s.updateQueue.baseState=I,s.memoizedState=I,s.flags&256){s=Ky(n,s,H,g);break e}else if(H!==E){E=vs(Error(t(424)),s),Cl(E),s=Ky(n,s,H,g);break e}else for(bn=Ns(s.stateNode.containerInfo.firstChild),Nn=s,$t=!0,Rs=null,Xs=!0,g=Ym(s,null,H,g),s.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(kl(),H===E){s=di(n,s,g);break e}_n(n,s,H,g)}s=s.child}return s;case 26:return Vl(n,s),n===null?(g=sv(s.type,null,s.pendingProps,null))?s.memoizedState=g:$t||(g=s.type,n=s.pendingProps,E=Yc(_e.current).createElement(g),E[Nr]=s,E[Yr]=n,xn(E,g,n),Ct(E),s.stateNode=E):s.memoizedState=sv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ae(s),n===null&&$t&&(E=s.stateNode=tv(s.type,s.pendingProps,_e.current),Nn=s,Xs=!0,bn=Ns(E.firstChild)),E=s.pendingProps.children,n!==null||$t?_n(n,s,E,g):s.child=No(s,null,E,g),Vl(n,s),s.child;case 5:return n===null&&$t&&((I=E=bn)&&(E=i1(E,s.type,s.pendingProps,Xs),E!==null?(s.stateNode=E,Nn=s,bn=Ns(E.firstChild),Xs=!1,I=!0):I=!1),I||Lo(s)),Ae(s),I=s.type,H=s.pendingProps,se=n!==null?n.memoizedProps:null,E=H.children,Tf(I,H)?E=null:se!==null&&Tf(I,se)&&(s.flags|=32),s.memoizedState!==null&&(I=dd(n,s,wb,null,null,g),ou._currentValue=I),Vl(n,s),_n(n,s,E,g),s.child;case 6:return n===null&&$t&&((n=g=bn)&&(g=o1(g,s.pendingProps,Xs),g!==null?(s.stateNode=g,Nn=s,bn=null,n=!0):n=!1),n||Lo(s)),null;case 13:return Jy(n,s,g);case 4:return de(s,s.stateNode.containerInfo),E=s.pendingProps,n===null?s.child=No(s,null,E,g):_n(n,s,E,g),s.child;case 11:return qy(n,s,s.type,s.pendingProps,g);case 7:return _n(n,s,s.pendingProps,g),s.child;case 8:return _n(n,s,s.pendingProps.children,g),s.child;case 12:return _n(n,s,s.pendingProps.children,g),s.child;case 10:return E=s.pendingProps,Wi(s,s.type,E.value),_n(n,s,E.children,g),s.child;case 9:return I=s.type._context,E=s.pendingProps.children,Go(s),I=Cn(I),E=E(I),s.flags|=1,_n(n,s,E,g),s.child;case 14:return Hy(n,s,s.type,s.pendingProps,g);case 15:return Wy(n,s,s.type,s.pendingProps,g);case 19:return eg(n,s,g);case 22:return Xy(n,s,g);case 24:return Go(s),E=Cn(an),n===null?(I=cd(),I===null&&(I=_r,H=ld(),I.pooledCache=H,H.refCount++,H!==null&&(I.pooledCacheLanes|=g),I=H),s.memoizedState={parent:E,cache:I},Gd(s),Wi(s,an,I)):((n.lanes&g)!==0&&(zd(n,s),Hl(s,null,null,g),ql()),I=n.memoizedState,H=s.memoizedState,I.parent!==E?(I={parent:E,cache:E},s.memoizedState=I,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=I),Wi(s,an,E)):(E=H.cache,Wi(s,an,E),E!==I.cache&&Vd(s,[an],g,!0))),_n(n,s,s.pendingProps.children,g),s.child;case 29:throw s.pendingProps}throw Error(t(156,s.tag))}var Ud=ne(null),Vo=null,fi=null;function Wi(n,s,g){ge(Ud,s._currentValue),s._currentValue=g}function pi(n){n._currentValue=Ud.current,pe(Ud)}function Bd(n,s,g){for(;n!==null;){var E=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,E!==null&&(E.childLanes|=s)):E!==null&&(E.childLanes&s)!==s&&(E.childLanes|=s),n===g)break;n=n.return}}function Vd(n,s,g,E){var I=n.child;for(I!==null&&(I.return=n);I!==null;){var H=I.dependencies;if(H!==null){var se=I.child;H=H.firstContext;e:for(;H!==null;){var me=H;H=I;for(var Ee=0;Ee<s.length;Ee++)if(me.context===s[Ee]){H.lanes|=g,me=H.alternate,me!==null&&(me.lanes|=g),Bd(H.return,g,n),E||(se=null);break e}H=me.next}}else if(I.tag===18){if(se=I.return,se===null)throw Error(t(341));se.lanes|=g,H=se.alternate,H!==null&&(H.lanes|=g),Bd(se,g,n),se=null}else se=I.child;if(se!==null)se.return=I;else for(se=I;se!==null;){if(se===n){se=null;break}if(I=se.sibling,I!==null){I.return=se.return,se=I;break}se=se.return}I=se}}function Gl(n,s,g,E){n=null;for(var I=s,H=!1;I!==null;){if(!H){if((I.flags&524288)!==0)H=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var se=I.alternate;if(se===null)throw Error(t(387));if(se=se.memoizedProps,se!==null){var me=I.type;Zt(I.pendingProps.value,se.value)||(n!==null?n.push(me):n=[me])}}else if(I===le.current){if(se=I.alternate,se===null)throw Error(t(387));se.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}I=I.return}n!==null&&Vd(s,n,g,E),s.flags|=262144}function Dc(n){for(n=n.firstContext;n!==null;){if(!Zt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Go(n){Vo=n,fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Cn(n){return rg(Vo,n)}function Rc(n,s){return Vo===null&&Go(n),rg(n,s)}function rg(n,s){var g=s._currentValue;if(s={context:s,memoizedValue:g,next:null},fi===null){if(n===null)throw Error(t(308));fi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else fi=fi.next=s;return g}var Xi=!1;function Gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Yi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,s,g){var E=n.updateQueue;if(E===null)return null;if(E=E.shared,(Lr&2)!==0){var I=E.pending;return I===null?s.next=s:(s.next=I.next,I.next=s),E.pending=s,s=fc(n),Im(n,null,g),s}return dc(n,E,s,g),fc(n)}function zl(n,s,g){if(s=s.updateQueue,s!==null&&(s=s.shared,(g&4194176)!==0)){var E=s.lanes;E&=n.pendingLanes,g|=E,s.lanes=g,Xr(n,g)}}function qd(n,s){var g=n.updateQueue,E=n.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var I=null,H=null;if(g=g.firstBaseUpdate,g!==null){do{var se={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};H===null?I=H=se:H=H.next=se,g=g.next}while(g!==null);H===null?I=H=s:H=H.next=s}else I=H=s;g={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:H,shared:E.shared,callbacks:E.callbacks},n.updateQueue=g;return}n=g.lastBaseUpdate,n===null?g.firstBaseUpdate=s:n.next=s,g.lastBaseUpdate=s}var Hd=!1;function ql(){if(Hd){var n=Sa;if(n!==null)throw n}}function Hl(n,s,g,E){Hd=!1;var I=n.updateQueue;Xi=!1;var H=I.firstBaseUpdate,se=I.lastBaseUpdate,me=I.shared.pending;if(me!==null){I.shared.pending=null;var Ee=me,Ne=Ee.next;Ee.next=null,se===null?H=Ne:se.next=Ne,se=Ee;var Je=n.alternate;Je!==null&&(Je=Je.updateQueue,me=Je.lastBaseUpdate,me!==se&&(me===null?Je.firstBaseUpdate=Ne:me.next=Ne,Je.lastBaseUpdate=Ee))}if(H!==null){var st=I.baseState;se=0,Je=Ne=Ee=null,me=H;do{var He=me.lane&-536870913,Ye=He!==me.lane;if(Ye?(Kt&He)===He:(E&He)===He){He!==0&&He===wa&&(Hd=!0),Je!==null&&(Je=Je.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Et=n,Ft=me;He=s;var Ur=g;switch(Ft.tag){case 1:if(Et=Ft.payload,typeof Et=="function"){st=Et.call(Ur,st,He);break e}st=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Ft.payload,He=typeof Et=="function"?Et.call(Ur,st,He):Et,He==null)break e;st=F({},st,He);break e;case 2:Xi=!0}}He=me.callback,He!==null&&(n.flags|=64,Ye&&(n.flags|=8192),Ye=I.callbacks,Ye===null?I.callbacks=[He]:Ye.push(He))}else Ye={lane:He,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Je===null?(Ne=Je=Ye,Ee=st):Je=Je.next=Ye,se|=He;if(me=me.next,me===null){if(me=I.shared.pending,me===null)break;Ye=me,me=Ye.next,Ye.next=null,I.lastBaseUpdate=Ye,I.shared.pending=null}}while(!0);Je===null&&(Ee=st),I.baseState=Ee,I.firstBaseUpdate=Ne,I.lastBaseUpdate=Je,H===null&&(I.shared.lanes=0),eo|=se,n.lanes=se,n.memoizedState=st}}function ng(n,s){if(typeof n!="function")throw Error(t(191,n));n.call(s)}function sg(n,s){var g=n.callbacks;if(g!==null)for(n.callbacks=null,n=0;n<g.length;n++)ng(g[n],s)}function Wl(n,s){try{var g=s.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var I=E.next;g=I;do{if((g.tag&n)===n){E=void 0;var H=g.create,se=g.inst;E=H(),se.destroy=E}g=g.next}while(g!==I)}}catch(me){gr(s,s.return,me)}}function Qi(n,s,g){try{var E=s.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var H=I.next;E=H;do{if((E.tag&n)===n){var se=E.inst,me=se.destroy;if(me!==void 0){se.destroy=void 0,I=s;var Ee=g;try{me()}catch(Ne){gr(I,Ee,Ne)}}}E=E.next}while(E!==H)}}catch(Ne){gr(s,s.return,Ne)}}function ig(n){var s=n.updateQueue;if(s!==null){var g=n.stateNode;try{sg(s,g)}catch(E){gr(n,n.return,E)}}}function og(n,s,g){g.props=Bo(n.type,n.memoizedProps),g.state=n.memoizedState;try{g.componentWillUnmount()}catch(E){gr(n,s,E)}}function zo(n,s){try{var g=n.ref;if(g!==null){var E=n.stateNode;switch(n.tag){case 26:case 27:case 5:var I=E;break;default:I=E}typeof g=="function"?n.refCleanup=g(I):g.current=I}}catch(H){gr(n,s,H)}}function rs(n,s){var g=n.ref,E=n.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(I){gr(n,s,I)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(I){gr(n,s,I)}else g.current=null}function ag(n){var s=n.type,g=n.memoizedProps,E=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(I){gr(n,n.return,I)}}function lg(n,s,g){try{var E=n.stateNode;e1(E,n.type,g,s),E[Yr]=s}catch(I){gr(n,n.return,I)}}function ug(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Wd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ug(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xd(n,s,g){var E=n.tag;if(E===5||E===6)n=n.stateNode,s?g.nodeType===8?g.parentNode.insertBefore(n,s):g.insertBefore(n,s):(g.nodeType===8?(s=g.parentNode,s.insertBefore(n,g)):(s=g,s.appendChild(n)),g=g._reactRootContainer,g!=null||s.onclick!==null||(s.onclick=Xc));else if(E!==4&&E!==27&&(n=n.child,n!==null))for(Xd(n,s,g),n=n.sibling;n!==null;)Xd(n,s,g),n=n.sibling}function Lc(n,s,g){var E=n.tag;if(E===5||E===6)n=n.stateNode,s?g.insertBefore(n,s):g.appendChild(n);else if(E!==4&&E!==27&&(n=n.child,n!==null))for(Lc(n,s,g),n=n.sibling;n!==null;)Lc(n,s,g),n=n.sibling}var mi=!1,Ir=!1,Yd=!1,cg=typeof WeakSet=="function"?WeakSet:Set,dn=null,hg=!1;function kb(n,s){if(n=n.containerInfo,Sf=eh,n=sr(n),ur(n)){if("selectionStart"in n)var g={start:n.selectionStart,end:n.selectionEnd};else e:{g=(g=n.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var I=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{g.nodeType,H.nodeType}catch{g=null;break e}var se=0,me=-1,Ee=-1,Ne=0,Je=0,st=n,He=null;t:for(;;){for(var Ye;st!==g||I!==0&&st.nodeType!==3||(me=se+I),st!==H||E!==0&&st.nodeType!==3||(Ee=se+E),st.nodeType===3&&(se+=st.nodeValue.length),(Ye=st.firstChild)!==null;)He=st,st=Ye;for(;;){if(st===n)break t;if(He===g&&++Ne===I&&(me=se),He===H&&++Je===E&&(Ee=se),(Ye=st.nextSibling)!==null)break;st=He,He=st.parentNode}st=Ye}g=me===-1||Ee===-1?null:{start:me,end:Ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(jf={focusedElem:n,selectionRange:g},eh=!1,dn=s;dn!==null;)if(s=dn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,dn=n;else for(;dn!==null;){switch(s=dn,H=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&H!==null){n=void 0,g=s,I=H.memoizedProps,H=H.memoizedState,E=g.stateNode;try{var Et=Bo(g.type,I,g.elementType===g.type);n=E.getSnapshotBeforeUpdate(Et,H),E.__reactInternalSnapshotBeforeUpdate=n}catch(Ft){gr(g,g.return,Ft)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,g=n.nodeType,g===9)Of(n);else if(g===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Of(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(t(163))}if(n=s.sibling,n!==null){n.return=s.return,dn=n;break}dn=s.return}return Et=hg,hg=!1,Et}function dg(n,s,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:gi(n,g),E&4&&Wl(5,g);break;case 1:if(gi(n,g),E&4)if(n=g.stateNode,s===null)try{n.componentDidMount()}catch(me){gr(g,g.return,me)}else{var I=Bo(g.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(I,s,n.__reactInternalSnapshotBeforeUpdate)}catch(me){gr(g,g.return,me)}}E&64&&ig(g),E&512&&zo(g,g.return);break;case 3:if(gi(n,g),E&64&&(E=g.updateQueue,E!==null)){if(n=null,g.child!==null)switch(g.child.tag){case 27:case 5:n=g.child.stateNode;break;case 1:n=g.child.stateNode}try{sg(E,n)}catch(me){gr(g,g.return,me)}}break;case 26:gi(n,g),E&512&&zo(g,g.return);break;case 27:case 5:gi(n,g),s===null&&E&4&&ag(g),E&512&&zo(g,g.return);break;case 12:gi(n,g);break;case 13:gi(n,g),E&4&&mg(n,g);break;case 22:if(I=g.memoizedState!==null||mi,!I){s=s!==null&&s.memoizedState!==null||Ir;var H=mi,se=Ir;mi=I,(Ir=s)&&!se?Ki(n,g,(g.subtreeFlags&8772)!==0):gi(n,g),mi=H,Ir=se}E&512&&(g.memoizedProps.mode==="manual"?zo(g,g.return):rs(g,g.return));break;default:gi(n,g)}}function fg(n){var s=n.alternate;s!==null&&(n.alternate=null,fg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&tt(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Jr=null,ns=!1;function yi(n,s,g){for(g=g.child;g!==null;)pg(n,s,g),g=g.sibling}function pg(n,s,g){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(re,g)}catch{}switch(g.tag){case 26:Ir||rs(g,s),yi(n,s,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ir||rs(g,s);var E=Jr,I=ns;for(Jr=g.stateNode,yi(n,s,g),g=g.stateNode,s=g.attributes;s.length;)g.removeAttributeNode(s[0]);tt(g),Jr=E,ns=I;break;case 5:Ir||rs(g,s);case 6:I=Jr;var H=ns;if(Jr=null,yi(n,s,g),Jr=I,ns=H,Jr!==null)if(ns)try{n=Jr,E=g.stateNode,n.nodeType===8?n.parentNode.removeChild(E):n.removeChild(E)}catch(se){gr(g,s,se)}else try{Jr.removeChild(g.stateNode)}catch(se){gr(g,s,se)}break;case 18:Jr!==null&&(ns?(s=Jr,g=g.stateNode,s.nodeType===8?Mf(s.parentNode,g):s.nodeType===1&&Mf(s,g),cu(s)):Mf(Jr,g.stateNode));break;case 4:E=Jr,I=ns,Jr=g.stateNode.containerInfo,ns=!0,yi(n,s,g),Jr=E,ns=I;break;case 0:case 11:case 14:case 15:Ir||Qi(2,g,s),Ir||Qi(4,g,s),yi(n,s,g);break;case 1:Ir||(rs(g,s),E=g.stateNode,typeof E.componentWillUnmount=="function"&&og(g,s,E)),yi(n,s,g);break;case 21:yi(n,s,g);break;case 22:Ir||rs(g,s),Ir=(E=Ir)||g.memoizedState!==null,yi(n,s,g),Ir=E;break;default:yi(n,s,g)}}function mg(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cu(n)}catch(g){gr(s,s.return,g)}}function Cb(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new cg),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new cg),s;default:throw Error(t(435,n.tag))}}function Zd(n,s){var g=Cb(n);s.forEach(function(E){var I=qb.bind(null,n,E);g.has(E)||(g.add(E),E.then(I,I))})}function ws(n,s){var g=s.deletions;if(g!==null)for(var E=0;E<g.length;E++){var I=g[E],H=n,se=s,me=se;e:for(;me!==null;){switch(me.tag){case 27:case 5:Jr=me.stateNode,ns=!1;break e;case 3:Jr=me.stateNode.containerInfo,ns=!0;break e;case 4:Jr=me.stateNode.containerInfo,ns=!0;break e}me=me.return}if(Jr===null)throw Error(t(160));pg(H,se,I),Jr=null,ns=!1,H=I.alternate,H!==null&&(H.return=null),I.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yg(s,n),s=s.sibling}var Ls=null;function yg(n,s){var g=n.alternate,E=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ws(s,n),Ss(n),E&4&&(Qi(3,n,n.return),Wl(3,n),Qi(5,n,n.return));break;case 1:ws(s,n),Ss(n),E&512&&(Ir||g===null||rs(g,g.return)),E&64&&mi&&(n=n.updateQueue,n!==null&&(E=n.callbacks,E!==null&&(g=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var I=Ls;if(ws(s,n),Ss(n),E&512&&(Ir||g===null||rs(g,g.return)),E&4){var H=g!==null?g.memoizedState:null;if(E=n.memoizedState,g===null)if(E===null)if(n.stateNode===null){e:{E=n.type,g=n.memoizedProps,I=I.ownerDocument||I;t:switch(E){case"title":H=I.getElementsByTagName("title")[0],(!H||H[pt]||H[Nr]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=I.createElement(E),I.head.insertBefore(H,I.querySelector("head > title"))),xn(H,E,g),H[Nr]=n,Ct(H),E=H;break e;case"link":var se=av("link","href",I).get(E+(g.href||""));if(se){for(var me=0;me<se.length;me++)if(H=se[me],H.getAttribute("href")===(g.href==null?null:g.href)&&H.getAttribute("rel")===(g.rel==null?null:g.rel)&&H.getAttribute("title")===(g.title==null?null:g.title)&&H.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){se.splice(me,1);break t}}H=I.createElement(E),xn(H,E,g),I.head.appendChild(H);break;case"meta":if(se=av("meta","content",I).get(E+(g.content||""))){for(me=0;me<se.length;me++)if(H=se[me],H.getAttribute("content")===(g.content==null?null:""+g.content)&&H.getAttribute("name")===(g.name==null?null:g.name)&&H.getAttribute("property")===(g.property==null?null:g.property)&&H.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&H.getAttribute("charset")===(g.charSet==null?null:g.charSet)){se.splice(me,1);break t}}H=I.createElement(E),xn(H,E,g),I.head.appendChild(H);break;default:throw Error(t(468,E))}H[Nr]=n,Ct(H),E=H}n.stateNode=E}else lv(I,n.type,n.stateNode);else n.stateNode=ov(I,E,n.memoizedProps);else H!==E?(H===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):H.count--,E===null?lv(I,n.type,n.stateNode):ov(I,E,n.memoizedProps)):E===null&&n.stateNode!==null&&lg(n,n.memoizedProps,g.memoizedProps)}break;case 27:if(E&4&&n.alternate===null){I=n.stateNode,H=n.memoizedProps;try{for(var Ee=I.firstChild;Ee;){var Ne=Ee.nextSibling,Je=Ee.nodeName;Ee[pt]||Je==="HEAD"||Je==="BODY"||Je==="SCRIPT"||Je==="STYLE"||Je==="LINK"&&Ee.rel.toLowerCase()==="stylesheet"||I.removeChild(Ee),Ee=Ne}for(var st=n.type,He=I.attributes;He.length;)I.removeAttributeNode(He[0]);xn(I,st,H),I[Nr]=n,I[Yr]=H}catch(Et){gr(n,n.return,Et)}}case 5:if(ws(s,n),Ss(n),E&512&&(Ir||g===null||rs(g,g.return)),n.flags&32){I=n.stateNode;try{vn(I,"")}catch(Et){gr(n,n.return,Et)}}E&4&&n.stateNode!=null&&(I=n.memoizedProps,lg(n,I,g!==null?g.memoizedProps:I)),E&1024&&(Yd=!0);break;case 6:if(ws(s,n),Ss(n),E&4){if(n.stateNode===null)throw Error(t(162));E=n.memoizedProps,g=n.stateNode;try{g.nodeValue=E}catch(Et){gr(n,n.return,Et)}}break;case 3:if(Kc=null,I=Ls,Ls=Zc(s.containerInfo),ws(s,n),Ls=I,Ss(n),E&4&&g!==null&&g.memoizedState.isDehydrated)try{cu(s.containerInfo)}catch(Et){gr(n,n.return,Et)}Yd&&(Yd=!1,gg(n));break;case 4:E=Ls,Ls=Zc(n.stateNode.containerInfo),ws(s,n),Ss(n),Ls=E;break;case 12:ws(s,n),Ss(n);break;case 13:ws(s,n),Ss(n),n.child.flags&8192&&n.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(sf=it()),E&4&&(E=n.updateQueue,E!==null&&(n.updateQueue=null,Zd(n,E)));break;case 22:if(E&512&&(Ir||g===null||rs(g,g.return)),Ee=n.memoizedState!==null,Ne=g!==null&&g.memoizedState!==null,Je=mi,st=Ir,mi=Je||Ee,Ir=st||Ne,ws(s,n),Ir=st,mi=Je,Ss(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,E&8192&&(s._visibility=Ee?s._visibility&-2:s._visibility|1,Ee&&(s=mi||Ir,g===null||Ne||s||Ma(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(g=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(g===null){Ne=g=s;try{if(I=Ne.stateNode,Ee)H=I.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{se=Ne.stateNode,me=Ne.memoizedProps.style;var Ye=me!=null&&me.hasOwnProperty("display")?me.display:null;se.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Et){gr(Ne,Ne.return,Et)}}}else if(s.tag===6){if(g===null){Ne=s;try{Ne.stateNode.nodeValue=Ee?"":Ne.memoizedProps}catch(Et){gr(Ne,Ne.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;g===s&&(g=null),s=s.return}g===s&&(g=null),s.sibling.return=s.return,s=s.sibling}E&4&&(E=n.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,Zd(n,g))));break;case 19:ws(s,n),Ss(n),E&4&&(E=n.updateQueue,E!==null&&(n.updateQueue=null,Zd(n,E)));break;case 21:break;default:ws(s,n),Ss(n)}}function Ss(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var g=n.return;g!==null;){if(ug(g)){var E=g;break e}g=g.return}throw Error(t(160))}switch(E.tag){case 27:var I=E.stateNode,H=Wd(n);Lc(n,H,I);break;case 5:var se=E.stateNode;E.flags&32&&(vn(se,""),E.flags&=-33);var me=Wd(n);Lc(n,me,se);break;case 3:case 4:var Ee=E.stateNode.containerInfo,Ne=Wd(n);Xd(n,Ne,Ee);break;default:throw Error(t(161))}}}catch(Je){gr(n,n.return,Je)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function gg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;gg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dg(n,s.alternate,s),s=s.sibling}function Ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Qi(4,s,s.return),Ma(s);break;case 1:rs(s,s.return);var g=s.stateNode;typeof g.componentWillUnmount=="function"&&og(s,s.return,g),Ma(s);break;case 26:case 27:case 5:rs(s,s.return),Ma(s);break;case 22:rs(s,s.return),s.memoizedState===null&&Ma(s);break;default:Ma(s)}n=n.sibling}}function Ki(n,s,g){for(g=g&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var E=s.alternate,I=n,H=s,se=H.flags;switch(H.tag){case 0:case 11:case 15:Ki(I,H,g),Wl(4,H);break;case 1:if(Ki(I,H,g),E=H,I=E.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ne){gr(E,E.return,Ne)}if(E=H,I=E.updateQueue,I!==null){var me=E.stateNode;try{var Ee=I.shared.hiddenCallbacks;if(Ee!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Ee.length;I++)ng(Ee[I],me)}catch(Ne){gr(E,E.return,Ne)}}g&&se&64&&ig(H),zo(H,H.return);break;case 26:case 27:case 5:Ki(I,H,g),g&&E===null&&se&4&&ag(H),zo(H,H.return);break;case 12:Ki(I,H,g);break;case 13:Ki(I,H,g),g&&se&4&&mg(I,H);break;case 22:H.memoizedState===null&&Ki(I,H,g),zo(H,H.return);break;default:Ki(I,H,g)}s=s.sibling}}function Qd(n,s){var g=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(g=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==g&&(n!=null&&n.refCount++,g!=null&&Pl(g))}function Kd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n))}function Ji(n,s,g,E){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vg(n,s,g,E),s=s.sibling}function vg(n,s,g,E){var I=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(n,s,g,E),I&2048&&Wl(9,s);break;case 3:Ji(n,s,g,E),I&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n)));break;case 12:if(I&2048){Ji(n,s,g,E),n=s.stateNode;try{var H=s.memoizedProps,se=H.id,me=H.onPostCommit;typeof me=="function"&&me(se,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Ee){gr(s,s.return,Ee)}}else Ji(n,s,g,E);break;case 23:break;case 22:H=s.stateNode,s.memoizedState!==null?H._visibility&4?Ji(n,s,g,E):Xl(n,s):H._visibility&4?Ji(n,s,g,E):(H._visibility|=4,Oa(n,s,g,E,(s.subtreeFlags&10256)!==0)),I&2048&&Qd(s.alternate,s);break;case 24:Ji(n,s,g,E),I&2048&&Kd(s.alternate,s);break;default:Ji(n,s,g,E)}}function Oa(n,s,g,E,I){for(I=I&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var H=n,se=s,me=g,Ee=E,Ne=se.flags;switch(se.tag){case 0:case 11:case 15:Oa(H,se,me,Ee,I),Wl(8,se);break;case 23:break;case 22:var Je=se.stateNode;se.memoizedState!==null?Je._visibility&4?Oa(H,se,me,Ee,I):Xl(H,se):(Je._visibility|=4,Oa(H,se,me,Ee,I)),I&&Ne&2048&&Qd(se.alternate,se);break;case 24:Oa(H,se,me,Ee,I),I&&Ne&2048&&Kd(se.alternate,se);break;default:Oa(H,se,me,Ee,I)}s=s.sibling}}function Xl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var g=n,E=s,I=E.flags;switch(E.tag){case 22:Xl(g,E),I&2048&&Qd(E.alternate,E);break;case 24:Xl(g,E),I&2048&&Kd(E.alternate,E);break;default:Xl(g,E)}s=s.sibling}}var Yl=8192;function Aa(n){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)bg(n),n=n.sibling}function bg(n){switch(n.tag){case 26:Aa(n),n.flags&Yl&&n.memoizedState!==null&&b1(Ls,n.memoizedState,n.memoizedProps);break;case 5:Aa(n);break;case 3:case 4:var s=Ls;Ls=Zc(n.stateNode.containerInfo),Aa(n),Ls=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Yl,Yl=16777216,Aa(n),Yl=s):Aa(n));break;default:Aa(n)}}function _g(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Zl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var g=0;g<s.length;g++){var E=s[g];dn=E,wg(E,n)}_g(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xg(n),n=n.sibling}function xg(n){switch(n.tag){case 0:case 11:case 15:Zl(n),n.flags&2048&&Qi(9,n,n.return);break;case 3:Zl(n);break;case 12:Zl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,Nc(n)):Zl(n);break;default:Zl(n)}}function Nc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var g=0;g<s.length;g++){var E=s[g];dn=E,wg(E,n)}_g(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Qi(8,s,s.return),Nc(s);break;case 22:g=s.stateNode,g._visibility&4&&(g._visibility&=-5,Nc(s));break;default:Nc(s)}n=n.sibling}}function wg(n,s){for(;dn!==null;){var g=dn;switch(g.tag){case 0:case 11:case 15:Qi(8,g,s);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Pl(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,dn=E;else e:for(g=n;dn!==null;){E=dn;var I=E.sibling,H=E.return;if(fg(E),E===g){dn=null;break e}if(I!==null){I.return=H,dn=I;break e}dn=H}}}function Db(n,s,g,E){this.tag=n,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(n,s,g,E){return new Db(n,s,g,E)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,s){var g=n.alternate;return g===null?(g=js(n.tag,s,n.key,n.mode),g.elementType=n.elementType,g.type=n.type,g.stateNode=n.stateNode,g.alternate=n,n.alternate=g):(g.pendingProps=s,g.type=n.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=n.flags&31457280,g.childLanes=n.childLanes,g.lanes=n.lanes,g.child=n.child,g.memoizedProps=n.memoizedProps,g.memoizedState=n.memoizedState,g.updateQueue=n.updateQueue,s=n.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},g.sibling=n.sibling,g.index=n.index,g.ref=n.ref,g.refCleanup=n.refCleanup,g}function Sg(n,s){n.flags&=31457282;var g=n.alternate;return g===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=g.childLanes,n.lanes=g.lanes,n.child=g.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=g.memoizedProps,n.memoizedState=g.memoizedState,n.updateQueue=g.updateQueue,n.type=g.type,s=g.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pc(n,s,g,E,I,H){var se=0;if(E=n,typeof n=="function")Jd(n)&&(se=1);else if(typeof n=="string")se=g1(n,g,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case i:return qo(g.children,I,H,s);case l:se=8,I|=24;break;case b:return n=js(12,g,s,I|2),n.elementType=b,n.lanes=H,n;case c:return n=js(13,g,s,I),n.elementType=c,n.lanes=H,n;case y:return n=js(19,g,s,I),n.elementType=y,n.lanes=H,n;case x:return jg(g,I,H,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v:case a:se=10;break e;case o:se=9;break e;case u:se=11;break e;case h:se=14;break e;case d:se=16,E=null;break e}se=29,g=Error(t(130,n===null?"null":typeof n,"")),E=null}return s=js(se,g,s,I),s.elementType=n,s.type=E,s.lanes=H,s}function qo(n,s,g,E){return n=js(7,n,E,s),n.lanes=g,n}function jg(n,s,g,E){n=js(22,n,E,s),n.elementType=x,n.lanes=g;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=I._current;if(H===null)throw Error(t(456));if((I._pendingVisibility&2)===0){var se=Vi(H,2);se!==null&&(I._pendingVisibility|=2,Pn(se,H,2))}},attach:function(){var H=I._current;if(H===null)throw Error(t(456));if((I._pendingVisibility&2)!==0){var se=Vi(H,2);se!==null&&(I._pendingVisibility&=-3,Pn(se,H,2))}}};return n.stateNode=I,n}function $d(n,s,g){return n=js(6,n,null,s),n.lanes=g,n}function ef(n,s,g){return s=js(4,n.children!==null?n.children:[],n.key,s),s.lanes=g,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function vi(n){n.flags|=4}function Tg(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!uv(s)){if(s=xs.current,s!==null&&((Kt&4194176)===Kt?Ys!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||s!==Ys))throw Rl=id,Gm;n.flags|=8192}}function Ic(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?en():536870912,n.lanes|=s,Ca|=s)}function Ql(n,s){if(!$t)switch(n.tailMode){case"hidden":s=n.tail;for(var g=null;s!==null;)s.alternate!==null&&(g=s),s=s.sibling;g===null?n.tail=null:g.sibling=null;break;case"collapsed":g=n.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:E.sibling=null}}function Rr(n){var s=n.alternate!==null&&n.alternate.child===n.child,g=0,E=0;if(s)for(var I=n.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags&31457280,E|=I.flags&31457280,I.return=n,I=I.sibling;else for(I=n.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=n,I=I.sibling;return n.subtreeFlags|=E,n.childLanes=g,s}function Rb(n,s,g){var E=s.pendingProps;switch(nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(s),null;case 1:return Rr(s),null;case 3:return g=s.stateNode,E=null,n!==null&&(E=n.memoizedState.cache),s.memoizedState.cache!==E&&(s.flags|=2048),pi(an),xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(n===null||n.child===null)&&(Al(s)?vi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rs!==null&&(uf(Rs),Rs=null))),Rr(s),null;case 26:return g=s.memoizedState,n===null?(vi(s),g!==null?(Rr(s),Tg(s,g)):(Rr(s),s.flags&=-16777217)):g?g!==n.memoizedState?(vi(s),Rr(s),Tg(s,g)):(Rr(s),s.flags&=-16777217):(n.memoizedProps!==E&&vi(s),Rr(s),s.flags&=-16777217),null;case 27:Se(s),g=_e.current;var I=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==E&&vi(s);else{if(!E){if(s.stateNode===null)throw Error(t(166));return Rr(s),null}n=he.current,Al(s)?Bm(s):(n=tv(I,E,g),s.stateNode=n,vi(s))}return Rr(s),null;case 5:if(Se(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==E&&vi(s);else{if(!E){if(s.stateNode===null)throw Error(t(166));return Rr(s),null}if(n=he.current,Al(s))Bm(s);else{switch(I=Yc(_e.current),n){case 1:n=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:n=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":n=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":n=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":n=I.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof E.is=="string"?I.createElement("select",{is:E.is}):I.createElement("select"),E.multiple?n.multiple=!0:E.size&&(n.size=E.size);break;default:n=typeof E.is=="string"?I.createElement(g,{is:E.is}):I.createElement(g)}}n[Nr]=s,n[Yr]=E;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)n.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=n;e:switch(xn(n,g,E),g){case"button":case"input":case"select":case"textarea":n=!!E.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&vi(s)}}return Rr(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==E&&vi(s);else{if(typeof E!="string"&&s.stateNode===null)throw Error(t(166));if(n=_e.current,Al(s)){if(n=s.stateNode,g=s.memoizedProps,E=null,I=Nn,I!==null)switch(I.tag){case 27:case 5:E=I.memoizedProps}n[Nr]=s,n=!!(n.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||Zg(n.nodeValue,g)),n||Lo(s)}else n=Yc(n).createTextNode(E),n[Nr]=s,s.stateNode=n}return Rr(s),null;case 13:if(E=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(I=Al(s),E!==null&&E.dehydrated!==null){if(n===null){if(!I)throw Error(t(318));if(I=s.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(t(317));I[Nr]=s}else kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rr(s),I=!1}else Rs!==null&&(uf(Rs),Rs=null),I=!0;if(!I)return s.flags&256?(ci(s),s):(ci(s),null)}if(ci(s),(s.flags&128)!==0)return s.lanes=g,s;if(g=E!==null,n=n!==null&&n.memoizedState!==null,g){E=s.child,I=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(I=E.alternate.memoizedState.cachePool.pool);var H=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(H=E.memoizedState.cachePool.pool),H!==I&&(E.flags|=2048)}return g!==n&&g&&(s.child.flags|=8192),Ic(s,s.updateQueue),Rr(s),null;case 4:return xe(),n===null&&_f(s.stateNode.containerInfo),Rr(s),null;case 10:return pi(s.type),Rr(s),null;case 19:if(pe(on),I=s.memoizedState,I===null)return Rr(s),null;if(E=(s.flags&128)!==0,H=I.rendering,H===null)if(E)Ql(I,!1);else{if(Fr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(H=_c(n),H!==null){for(s.flags|=128,Ql(I,!1),n=H.updateQueue,s.updateQueue=n,Ic(s,n),s.subtreeFlags=0,n=g,g=s.child;g!==null;)Sg(g,n),g=g.sibling;return ge(on,on.current&1|2),s.child}n=n.sibling}I.tail!==null&&it()>Fc&&(s.flags|=128,E=!0,Ql(I,!1),s.lanes=4194304)}else{if(!E)if(n=_c(H),n!==null){if(s.flags|=128,E=!0,n=n.updateQueue,s.updateQueue=n,Ic(s,n),Ql(I,!0),I.tail===null&&I.tailMode==="hidden"&&!H.alternate&&!$t)return Rr(s),null}else 2*it()-I.renderingStartTime>Fc&&g!==536870912&&(s.flags|=128,E=!0,Ql(I,!1),s.lanes=4194304);I.isBackwards?(H.sibling=s.child,s.child=H):(n=I.last,n!==null?n.sibling=H:s.child=H,I.last=H)}return I.tail!==null?(s=I.tail,I.rendering=s,I.tail=s.sibling,I.renderingStartTime=it(),s.sibling=null,n=on.current,ge(on,E?n&1|2:n&1),s):(Rr(s),null);case 22:case 23:return ci(s),ad(),E=s.memoizedState!==null,n!==null?n.memoizedState!==null!==E&&(s.flags|=8192):E&&(s.flags|=8192),E?(g&536870912)!==0&&(s.flags&128)===0&&(Rr(s),s.subtreeFlags&6&&(s.flags|=8192)):Rr(s),g=s.updateQueue,g!==null&&Ic(s,g.retryQueue),g=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(g=n.memoizedState.cachePool.pool),E=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(E=s.memoizedState.cachePool.pool),E!==g&&(s.flags|=2048),n!==null&&pe(Po),null;case 24:return g=null,n!==null&&(g=n.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),pi(an),Rr(s),null;case 25:return null}throw Error(t(156,s.tag))}function Lb(n,s){switch(nd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return pi(an),xe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Se(s),null;case 13:if(ci(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));kl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return pe(on),null;case 4:return xe(),null;case 10:return pi(s.type),null;case 22:case 23:return ci(s),ad(),n!==null&&pe(Po),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return pi(an),null;case 25:return null;default:return null}}function Eg(n,s){switch(nd(s),s.tag){case 3:pi(an),xe();break;case 26:case 27:case 5:Se(s);break;case 4:xe();break;case 13:ci(s);break;case 19:pe(on);break;case 10:pi(s.type);break;case 22:case 23:ci(s),ad(),n!==null&&pe(Po);break;case 24:pi(an)}}var Nb={getCacheForType:function(n){var s=Cn(an),g=s.data.get(n);return g===void 0&&(g=n(),s.data.set(n,g)),g}},Pb=typeof WeakMap=="function"?WeakMap:Map,Lr=0,_r=null,Wt=null,Kt=0,xr=0,ss=null,bi=!1,ka=!1,tf=!1,_i=0,Fr=0,eo=0,Ho=0,rf=0,Ts=0,Ca=0,Kl=null,Qs=null,nf=!1,sf=0,Fc=1/0,Uc=null,to=null,Bc=!1,Wo=null,Jl=0,of=0,af=null,$l=0,lf=null;function is(){if((Lr&2)!==0&&Kt!==0)return Kt&-Kt;if(L.T!==null){var n=wa;return n!==0?n:yf()}return tr()}function Mg(){Ts===0&&(Ts=(Kt&536870912)===0||$t?or():536870912);var n=xs.current;return n!==null&&(n.flags|=32),Ts}function Pn(n,s,g){(n===_r&&xr===2||n.cancelPendingCommit!==null)&&(Da(n,0),xi(n,Kt,Ts,!1)),Xt(n,g),((Lr&2)===0||n!==_r)&&(n===_r&&((Lr&2)===0&&(Ho|=g),Fr===4&&xi(n,Kt,Ts,!1)),Ks(n))}function Og(n,s,g){if((Lr&6)!==0)throw Error(t(327));var E=!g&&(s&60)===0&&(s&n.expiredLanes)===0||kt(n,s),I=E?Ub(n,s):df(n,s,!0),H=E;do{if(I===0){ka&&!E&&xi(n,s,0,!1);break}else if(I===6)xi(n,s,0,!bi);else{if(g=n.current.alternate,H&&!Ib(g)){I=df(n,s,!1),H=!1;continue}if(I===2){if(H=s,n.errorRecoveryDisabledLanes&H)var se=0;else se=n.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){s=se;e:{var me=n;I=Kl;var Ee=me.current.memoizedState.isDehydrated;if(Ee&&(Da(me,se).flags|=256),se=df(me,se,!1),se!==2){if(tf&&!Ee){me.errorRecoveryDisabledLanes|=H,Ho|=H,I=4;break e}H=Qs,Qs=I,H!==null&&uf(H)}I=se}if(H=!1,I!==2)continue}}if(I===1){Da(n,0),xi(n,s,0,!0);break}e:{switch(E=n,I){case 0:case 1:throw Error(t(345));case 4:if((s&4194176)===s){xi(E,s,Ts,!bi);break e}break;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(t(329))}if(E.finishedWork=g,E.finishedLanes=s,(s&62914560)===s&&(H=sf+300-it(),10<H)){if(xi(E,s,Ts,!bi),gt(E,0)!==0)break e;E.timeoutHandle=Jg(Ag.bind(null,E,g,Qs,Uc,nf,s,Ts,Ho,Ca,bi,2,-0,0),H);break e}Ag(E,g,Qs,Uc,nf,s,Ts,Ho,Ca,bi,0,-0,0)}}break}while(!0);Ks(n)}function uf(n){Qs===null?Qs=n:Qs.push.apply(Qs,n)}function Ag(n,s,g,E,I,H,se,me,Ee,Ne,Je,st,He){var Ye=s.subtreeFlags;if((Ye&8192||(Ye&16785408)===16785408)&&(iu={stylesheets:null,count:0,unsuspend:v1},bg(s),s=_1(),s!==null)){n.cancelPendingCommit=s(Pg.bind(null,n,g,E,I,se,me,Ee,1,st,He)),xi(n,H,se,!Ne);return}Pg(n,g,E,I,se,me,Ee,Je,st,He)}function Ib(n){for(var s=n;;){var g=s.tag;if((g===0||g===11||g===15)&&s.flags&16384&&(g=s.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var I=g[E],H=I.getSnapshot;I=I.value;try{if(!Zt(H(),I))return!1}catch{return!1}}if(g=s.child,s.subtreeFlags&16384&&g!==null)g.return=s,s=g;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(n,s,g,E){s&=~rf,s&=~Ho,n.suspendedLanes|=s,n.pingedLanes&=~s,E&&(n.warmLanes|=s),E=n.expirationTimes;for(var I=s;0<I;){var H=31-Ge(I),se=1<<H;E[H]=-1,I&=~se}g!==0&&Yt(n,g,s)}function Vc(){return(Lr&6)===0?(eu(0),!1):!0}function cf(){if(Wt!==null){if(xr===0)var n=Wt.return;else n=Wt,fi=Vo=null,md(n),_a=null,Ll=0,n=Wt;for(;n!==null;)Eg(n.alternate,n),n=n.return;Wt=null}}function Da(n,s){n.finishedWork=null,n.finishedLanes=0;var g=n.timeoutHandle;g!==-1&&(n.timeoutHandle=-1,r1(g)),g=n.cancelPendingCommit,g!==null&&(n.cancelPendingCommit=null,g()),cf(),_r=n,Wt=g=$i(n.current,null),Kt=s,xr=0,ss=null,bi=!1,ka=kt(n,s),tf=!1,Ca=Ts=rf=Ho=eo=Fr=0,Qs=Kl=null,nf=!1,(s&8)!==0&&(s|=s&32);var E=n.entangledLanes;if(E!==0)for(n=n.entanglements,E&=s;0<E;){var I=31-Ge(E),H=1<<I;s|=n[I],E&=~H}return _i=s,hc(),g}function kg(n,s){zt=null,L.H=Zs,s===Dl?(s=Hm(),xr=3):s===Gm?(s=Hm(),xr=4):xr=s===zy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ss=s,Wt===null&&(Fr=1,Cc(n,vs(s,n.current)))}function Cg(){var n=L.H;return L.H=Zs,n===null?Zs:n}function Dg(){var n=L.A;return L.A=Nb,n}function hf(){Fr=4,bi||(Kt&4194176)!==Kt&&xs.current!==null||(ka=!0),(eo&134217727)===0&&(Ho&134217727)===0||_r===null||xi(_r,Kt,Ts,!1)}function df(n,s,g){var E=Lr;Lr|=2;var I=Cg(),H=Dg();(_r!==n||Kt!==s)&&(Uc=null,Da(n,s)),s=!1;var se=Fr;e:do try{if(xr!==0&&Wt!==null){var me=Wt,Ee=ss;switch(xr){case 8:cf(),se=6;break e;case 3:case 2:case 6:xs.current===null&&(s=!0);var Ne=xr;if(xr=0,ss=null,Ra(n,me,Ee,Ne),g&&ka){se=0;break e}break;default:Ne=xr,xr=0,ss=null,Ra(n,me,Ee,Ne)}}Fb(),se=Fr;break}catch(Je){kg(n,Je)}while(!0);return s&&n.shellSuspendCounter++,fi=Vo=null,Lr=E,L.H=I,L.A=H,Wt===null&&(_r=null,Kt=0,hc()),se}function Fb(){for(;Wt!==null;)Rg(Wt)}function Ub(n,s){var g=Lr;Lr|=2;var E=Cg(),I=Dg();_r!==n||Kt!==s?(Uc=null,Fc=it()+500,Da(n,s)):ka=kt(n,s);e:do try{if(xr!==0&&Wt!==null){s=Wt;var H=ss;t:switch(xr){case 1:xr=0,ss=null,Ra(n,s,H,1);break;case 2:if(zm(H)){xr=0,ss=null,Lg(s);break}s=function(){xr===2&&_r===n&&(xr=7),Ks(n)},H.then(s,s);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:zm(H)?(xr=0,ss=null,Lg(s)):(xr=0,ss=null,Ra(n,s,H,7));break;case 5:var se=null;switch(Wt.tag){case 26:se=Wt.memoizedState;case 5:case 27:var me=Wt;if(!se||uv(se)){xr=0,ss=null;var Ee=me.sibling;if(Ee!==null)Wt=Ee;else{var Ne=me.return;Ne!==null?(Wt=Ne,Gc(Ne)):Wt=null}break t}}xr=0,ss=null,Ra(n,s,H,5);break;case 6:xr=0,ss=null,Ra(n,s,H,6);break;case 8:cf(),Fr=6;break e;default:throw Error(t(462))}}Bb();break}catch(Je){kg(n,Je)}while(!0);return fi=Vo=null,L.H=E,L.A=I,Lr=g,Wt!==null?0:(_r=null,Kt=0,hc(),Fr)}function Bb(){for(;Wt!==null&&!Pe();)Rg(Wt)}function Rg(n){var s=tg(n.alternate,n,_i);n.memoizedProps=n.pendingProps,s===null?Gc(n):Wt=s}function Lg(n){var s=n,g=s.alternate;switch(s.tag){case 15:case 0:s=Zy(g,s,s.pendingProps,s.type,void 0,Kt);break;case 11:s=Zy(g,s,s.pendingProps,s.type.render,s.ref,Kt);break;case 5:md(s);default:Eg(g,s),s=Wt=Sg(s,_i),s=tg(g,s,_i)}n.memoizedProps=n.pendingProps,s===null?Gc(n):Wt=s}function Ra(n,s,g,E){fi=Vo=null,md(s),_a=null,Ll=0;var I=s.return;try{if(Ob(n,I,s,g,Kt)){Fr=1,Cc(n,vs(g,n.current)),Wt=null;return}}catch(H){if(I!==null)throw Wt=I,H;Fr=1,Cc(n,vs(g,n.current)),Wt=null;return}s.flags&32768?($t||E===1?n=!0:ka||(Kt&536870912)!==0?n=!1:(bi=n=!0,(E===2||E===3||E===6)&&(E=xs.current,E!==null&&E.tag===13&&(E.flags|=16384))),Ng(s,n)):Gc(s)}function Gc(n){var s=n;do{if((s.flags&32768)!==0){Ng(s,bi);return}n=s.return;var g=Rb(s.alternate,s,_i);if(g!==null){Wt=g;return}if(s=s.sibling,s!==null){Wt=s;return}Wt=s=n}while(s!==null);Fr===0&&(Fr=5)}function Ng(n,s){do{var g=Lb(n.alternate,n);if(g!==null){g.flags&=32767,Wt=g;return}if(g=n.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!s&&(n=n.sibling,n!==null)){Wt=n;return}Wt=n=g}while(n!==null);Fr=6,Wt=null}function Pg(n,s,g,E,I,H,se,me,Ee,Ne){var Je=L.T,st=B.p;try{B.p=2,L.T=null,Vb(n,s,g,E,st,I,H,se,me,Ee,Ne)}finally{L.T=Je,B.p=st}}function Vb(n,s,g,E,I,H,se,me){do La();while(Wo!==null);if((Lr&6)!==0)throw Error(t(327));var Ee=n.finishedWork;if(E=n.finishedLanes,Ee===null)return null;if(n.finishedWork=null,n.finishedLanes=0,Ee===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var Ne=Ee.lanes|Ee.childLanes;if(Ne|=ed,mr(n,E,Ne,H,se,me),n===_r&&(Wt=_r=null,Kt=0),(Ee.subtreeFlags&10256)===0&&(Ee.flags&10256)===0||Bc||(Bc=!0,of=Ne,af=g,Hb(Ce,function(){return La(),null})),g=(Ee.flags&15990)!==0,(Ee.subtreeFlags&15990)!==0||g?(g=L.T,L.T=null,H=B.p,B.p=2,se=Lr,Lr|=4,kb(n,Ee),yg(Ee,n),rr(jf,n.containerInfo),eh=!!Sf,jf=Sf=null,n.current=Ee,dg(n,Ee.alternate,Ee),mt(),Lr=se,B.p=H,L.T=g):n.current=Ee,Bc?(Bc=!1,Wo=n,Jl=E):Ig(n,Ne),Ne=n.pendingLanes,Ne===0&&(to=null),Me(Ee.stateNode),Ks(n),s!==null)for(I=n.onRecoverableError,Ee=0;Ee<s.length;Ee++)Ne=s[Ee],I(Ne.value,{componentStack:Ne.stack});return(Jl&3)!==0&&La(),Ne=n.pendingLanes,(E&4194218)!==0&&(Ne&42)!==0?n===lf?$l++:($l=0,lf=n):$l=0,eu(0),null}function Ig(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pl(s)))}function La(){if(Wo!==null){var n=Wo,s=of;of=0;var g=Gr(Jl),E=L.T,I=B.p;try{if(B.p=32>g?32:g,L.T=null,Wo===null)var H=!1;else{g=af,af=null;var se=Wo,me=Jl;if(Wo=null,Jl=0,(Lr&6)!==0)throw Error(t(331));var Ee=Lr;if(Lr|=4,xg(se.current),vg(se,se.current,me,g),Lr=Ee,eu(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(re,se)}catch{}H=!0}return H}finally{B.p=I,L.T=E,Ig(n,s)}}return!1}function Fg(n,s,g){s=vs(g,s),s=Ad(n.stateNode,s,2),n=Zi(n,s,2),n!==null&&(Xt(n,2),Ks(n))}function gr(n,s,g){if(n.tag===3)Fg(n,n,g);else for(;s!==null;){if(s.tag===3){Fg(s,n,g);break}else if(s.tag===1){var E=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(to===null||!to.has(E))){n=vs(g,n),g=Vy(2),E=Zi(s,g,2),E!==null&&(Gy(g,E,s,n),Xt(E,2),Ks(E));break}}s=s.return}}function ff(n,s,g){var E=n.pingCache;if(E===null){E=n.pingCache=new Pb;var I=new Set;E.set(s,I)}else I=E.get(s),I===void 0&&(I=new Set,E.set(s,I));I.has(g)||(tf=!0,I.add(g),n=Gb.bind(null,n,s,g),s.then(n,n))}function Gb(n,s,g){var E=n.pingCache;E!==null&&E.delete(s),n.pingedLanes|=n.suspendedLanes&g,n.warmLanes&=~g,_r===n&&(Kt&g)===g&&(Fr===4||Fr===3&&(Kt&62914560)===Kt&&300>it()-sf?(Lr&2)===0&&Da(n,0):rf|=g,Ca===Kt&&(Ca=0)),Ks(n)}function Ug(n,s){s===0&&(s=en()),n=Vi(n,s),n!==null&&(Xt(n,s),Ks(n))}function zb(n){var s=n.memoizedState,g=0;s!==null&&(g=s.retryLane),Ug(n,g)}function qb(n,s){var g=0;switch(n.tag){case 13:var E=n.stateNode,I=n.memoizedState;I!==null&&(g=I.retryLane);break;case 19:E=n.stateNode;break;case 22:E=n.stateNode._retryCache;break;default:throw Error(t(314))}E!==null&&E.delete(s),Ug(n,g)}function Hb(n,s){return ke(n,s)}var zc=null,Na=null,pf=!1,qc=!1,mf=!1,Xo=0;function Ks(n){n!==Na&&n.next===null&&(Na===null?zc=Na=n:Na=Na.next=n),qc=!0,pf||(pf=!0,Xb(Wb))}function eu(n,s){if(!mf&&qc){mf=!0;do for(var g=!1,E=zc;E!==null;){if(n!==0){var I=E.pendingLanes;if(I===0)var H=0;else{var se=E.suspendedLanes,me=E.pingedLanes;H=(1<<31-Ge(42|n)+1)-1,H&=I&~(se&~me),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(g=!0,Gg(E,H))}else H=Kt,H=gt(E,E===_r?H:0),(H&3)===0||kt(E,H)||(g=!0,Gg(E,H));E=E.next}while(g);mf=!1}}function Wb(){qc=pf=!1;var n=0;Xo!==0&&(t1()&&(n=Xo),Xo=0);for(var s=it(),g=null,E=zc;E!==null;){var I=E.next,H=Bg(E,s);H===0?(E.next=null,g===null?zc=I:g.next=I,I===null&&(Na=g)):(g=E,(n!==0||(H&3)!==0)&&(qc=!0)),E=I}eu(n)}function Bg(n,s){for(var g=n.suspendedLanes,E=n.pingedLanes,I=n.expirationTimes,H=n.pendingLanes&-62914561;0<H;){var se=31-Ge(H),me=1<<se,Ee=I[se];Ee===-1?((me&g)===0||(me&E)!==0)&&(I[se]=Mt(me,s)):Ee<=s&&(n.expiredLanes|=me),H&=~me}if(s=_r,g=Kt,g=gt(n,n===s?g:0),E=n.callbackNode,g===0||n===s&&xr===2||n.cancelPendingCommit!==null)return E!==null&&E!==null&&Xe(E),n.callbackNode=null,n.callbackPriority=0;if((g&3)===0||kt(n,g)){if(s=g&-g,s===n.callbackPriority)return s;switch(E!==null&&Xe(E),Gr(g)){case 2:case 8:g=ht;break;case 32:g=Ce;break;case 268435456:g=Ie;break;default:g=Ce}return E=Vg.bind(null,n),g=ke(g,E),n.callbackPriority=s,n.callbackNode=g,s}return E!==null&&E!==null&&Xe(E),n.callbackPriority=2,n.callbackNode=null,2}function Vg(n,s){var g=n.callbackNode;if(La()&&n.callbackNode!==g)return null;var E=Kt;return E=gt(n,n===_r?E:0),E===0?null:(Og(n,E,s),Bg(n,it()),n.callbackNode!=null&&n.callbackNode===g?Vg.bind(null,n):null)}function Gg(n,s){if(La())return null;Og(n,s,!0)}function Xb(n){n1(function(){(Lr&6)!==0?ke(dt,n):n()})}function yf(){return Xo===0&&(Xo=or()),Xo}function zg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Eo(""+n)}function qg(n,s){var g=s.ownerDocument.createElement("input");return g.name=s.name,g.value=s.value,n.id&&g.setAttribute("form",n.id),s.parentNode.insertBefore(g,s),n=new FormData(n),g.parentNode.removeChild(g),n}function Yb(n,s,g,E,I){if(s==="submit"&&g&&g.stateNode===I){var H=zg((I[Yr]||null).action),se=E.submitter;se&&(s=(s=se[Yr]||null)?zg(s.formAction):se.getAttribute("formAction"),s!==null&&(H=s,se=null));var me=new Oo("action","action",null,E,I);n.push({event:me,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Xo!==0){var Ee=se?qg(I,se):new FormData(I);jd(g,{pending:!0,data:Ee,method:I.method,action:H},null,Ee)}}else typeof H=="function"&&(me.preventDefault(),Ee=se?qg(I,se):new FormData(I),jd(g,{pending:!0,data:Ee,method:I.method,action:H},H,Ee))},currentTarget:I}]})}}for(var gf=0;gf<Pm.length;gf++){var vf=Pm[gf],Zb=vf.toLowerCase(),Qb=vf[0].toUpperCase()+vf.slice(1);Ds(Zb,"on"+Qb)}Ds(Cm,"onAnimationEnd"),Ds(Dm,"onAnimationIteration"),Ds(Rm,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(fb,"onTransitionRun"),Ds(pb,"onTransitionStart"),Ds(mb,"onTransitionCancel"),Ds(Lm,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function Hg(n,s){s=(s&4)!==0;for(var g=0;g<n.length;g++){var E=n[g],I=E.event;E=E.listeners;e:{var H=void 0;if(s)for(var se=E.length-1;0<=se;se--){var me=E[se],Ee=me.instance,Ne=me.currentTarget;if(me=me.listener,Ee!==H&&I.isPropagationStopped())break e;H=me,I.currentTarget=Ne;try{H(I)}catch(Je){kc(Je)}I.currentTarget=null,H=Ee}else for(se=0;se<E.length;se++){if(me=E[se],Ee=me.instance,Ne=me.currentTarget,me=me.listener,Ee!==H&&I.isPropagationStopped())break e;H=me,I.currentTarget=Ne;try{H(I)}catch(Je){kc(Je)}I.currentTarget=null,H=Ee}}}}function Qt(n,s){var g=s[ni];g===void 0&&(g=s[ni]=new Set);var E=n+"__bubble";g.has(E)||(Wg(s,n,2,!1),g.add(E))}function bf(n,s,g){var E=0;s&&(E|=4),Wg(g,n,E,s)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function _f(n){if(!n[Hc]){n[Hc]=!0,yt.forEach(function(g){g!=="selectionchange"&&(Kb.has(g)||bf(g,!1,n),bf(g,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hc]||(s[Hc]=!0,bf("selectionchange",!1,s))}}function Wg(n,s,g,E){switch(mv(s)){case 2:var I=S1;break;case 8:I=j1;break;default:I=Rf}g=I.bind(null,s,g,n),I=void 0,!jl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(I=!0),E?I!==void 0?n.addEventListener(s,g,{capture:!0,passive:I}):n.addEventListener(s,g,!0):I!==void 0?n.addEventListener(s,g,{passive:I}):n.addEventListener(s,g,!1)}function xf(n,s,g,E,I){var H=E;if((s&1)===0&&(s&2)===0&&E!==null)e:for(;;){if(E===null)return;var se=E.tag;if(se===3||se===4){var me=E.stateNode.containerInfo;if(me===I||me.nodeType===8&&me.parentNode===I)break;if(se===4)for(se=E.return;se!==null;){var Ee=se.tag;if((Ee===3||Ee===4)&&(Ee=se.stateNode.containerInfo,Ee===I||Ee.nodeType===8&&Ee.parentNode===I))return;se=se.return}for(;me!==null;){if(se=It(me),se===null)return;if(Ee=se.tag,Ee===5||Ee===6||Ee===26||Ee===27){E=H=se;continue e}me=me.parentNode}}E=E.return}Qu(function(){var Ne=H,Je=ha(g),st=[];e:{var He=Nm.get(n);if(He!==void 0){var Ye=Oo,Et=n;switch(n){case"keypress":if(Wn(g)===0)break e;case"keydown":case"keyup":Ye=ac;break;case"focusin":Et="focus",Ye=pa;break;case"focusout":Et="blur",Ye=pa;break;case"beforeblur":case"afterblur":Ye=pa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=lr;break;case Cm:case Dm:case Rm:Ye=nc;break;case Lm:Ye=Yh;break;case"scroll":case"scrollend":Ye=Ju;break;case"wheel":Ye=Zh;break;case"copy":case"cut":case"paste":Ye=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=lc;break;case"toggle":case"beforetoggle":Ye=Kh}var Ft=(s&4)!==0,Ur=!Ft&&(n==="scroll"||n==="scrollend"),Ve=Ft?He!==null?He+"Capture":null:He;Ft=[];for(var Le=Ne,qe;Le!==null;){var et=Le;if(qe=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||qe===null||Ve===null||(et=Mo(Le,Ve),et!=null&&Ft.push(ru(Le,et,qe))),Ur)break;Le=Le.return}0<Ft.length&&(He=new Ye(He,Et,null,g,Je),st.push({event:He,listeners:Ft}))}}if((s&7)===0){e:{if(He=n==="mouseover"||n==="pointerover",Ye=n==="mouseout"||n==="pointerout",He&&g!==xl&&(Et=g.relatedTarget||g.fromElement)&&(It(Et)||Et[Cs]))break e;if((Ye||He)&&(He=Je.window===Je?Je:(He=Je.ownerDocument)?He.defaultView||He.parentWindow:window,Ye?(Et=g.relatedTarget||g.toElement,Ye=Ne,Et=Et?It(Et):null,Et!==null&&(Ur=K(Et),Ft=Et.tag,Et!==Ur||Ft!==5&&Ft!==27&&Ft!==6)&&(Et=null)):(Ye=null,Et=Ne),Ye!==Et)){if(Ft=Tl,et="onMouseLeave",Ve="onMouseEnter",Le="mouse",(n==="pointerout"||n==="pointerover")&&(Ft=lc,et="onPointerLeave",Ve="onPointerEnter",Le="pointer"),Ur=Ye==null?He:Gt(Ye),qe=Et==null?He:Gt(Et),He=new Ft(et,Le+"leave",Ye,g,Je),He.target=Ur,He.relatedTarget=qe,et=null,It(Je)===Ne&&(Ft=new Ft(Ve,Le+"enter",Et,g,Je),Ft.target=qe,Ft.relatedTarget=Ur,et=Ft),Ur=et,Ye&&Et)t:{for(Ft=Ye,Ve=Et,Le=0,qe=Ft;qe;qe=Pa(qe))Le++;for(qe=0,et=Ve;et;et=Pa(et))qe++;for(;0<Le-qe;)Ft=Pa(Ft),Le--;for(;0<qe-Le;)Ve=Pa(Ve),qe--;for(;Le--;){if(Ft===Ve||Ve!==null&&Ft===Ve.alternate)break t;Ft=Pa(Ft),Ve=Pa(Ve)}Ft=null}else Ft=null;Ye!==null&&Xg(st,He,Ye,Ft,!1),Et!==null&&Ur!==null&&Xg(st,Ur,Et,Ft,!0)}}e:{if(He=Ne?Gt(Ne):window,Ye=He.nodeName&&He.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&He.type==="file")var _t=we;else if(ue(He))if(Ke)_t=Bt;else{_t=St;var Ht=Nt}else Ye=He.nodeName,!Ye||Ye.toLowerCase()!=="input"||He.type!=="checkbox"&&He.type!=="radio"?Ne&&ca(Ne.elementType)&&(_t=we):_t=Tt;if(_t&&(_t=_t(n,Ne))){ve(st,_t,g,Je);break e}Ht&&Ht(n,He,Ne),n==="focusout"&&Ne&&He.type==="number"&&Ne.memoizedProps.value!=null&&ua(He,"number",He.value)}switch(Ht=Ne?Gt(Ne):window,n){case"focusin":(ue(Ht)||Ht.contentEditable==="true")&&(ir=Ht,zr=Ne,nr=null);break;case"focusout":nr=zr=ir=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,Bi(st,g,Je);break;case"selectionchange":if(cn)break;case"keydown":case"keyup":Bi(st,g,Je)}var Ot;if(Ol)e:{switch(n){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else U?C(n,g)&&(Lt="onCompositionEnd"):n==="keydown"&&g.keyCode===229&&(Lt="onCompositionStart");Lt&&(Dr&&g.locale!=="ko"&&(U||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&U&&(Ot=Ni()):(rn=Je,es="value"in rn?rn.value:rn.textContent,U=!0)),Ht=Wc(Ne,Lt),0<Ht.length&&(Lt=new Ao(Lt,n,null,g,Je),st.push({event:Lt,listeners:Ht}),Ot?Lt.data=Ot:(Ot=N(g),Ot!==null&&(Lt.data=Ot)))),(Ot=cc?X(n,g):$(n,g))&&(Lt=Wc(Ne,"onBeforeInput"),0<Lt.length&&(Ht=new Ao("onBeforeInput","beforeinput",null,g,Je),st.push({event:Ht,listeners:Lt}),Ht.data=Ot)),Yb(st,n,Ne,g,Je)}Hg(st,s)})}function ru(n,s,g){return{instance:n,listener:s,currentTarget:g}}function Wc(n,s){for(var g=s+"Capture",E=[];n!==null;){var I=n,H=I.stateNode;I=I.tag,I!==5&&I!==26&&I!==27||H===null||(I=Mo(n,g),I!=null&&E.unshift(ru(n,I,H)),I=Mo(n,s),I!=null&&E.push(ru(n,I,H))),n=n.return}return E}function Pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xg(n,s,g,E,I){for(var H=s._reactName,se=[];g!==null&&g!==E;){var me=g,Ee=me.alternate,Ne=me.stateNode;if(me=me.tag,Ee!==null&&Ee===E)break;me!==5&&me!==26&&me!==27||Ne===null||(Ee=Ne,I?(Ne=Mo(g,H),Ne!=null&&se.unshift(ru(g,Ne,Ee))):I||(Ne=Mo(g,H),Ne!=null&&se.push(ru(g,Ne,Ee)))),g=g.return}se.length!==0&&n.push({event:s,listeners:se})}var Jb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function Yg(n){return(typeof n=="string"?n:""+n).replace(Jb,`
`).replace($b,"")}function Zg(n,s){return s=Yg(s),Yg(n)===s}function Xc(){}function fr(n,s,g,E,I,H){switch(g){case"children":typeof E=="string"?s==="body"||s==="textarea"&&E===""||vn(n,E):(typeof E=="number"||typeof E=="bigint")&&s!=="body"&&vn(n,""+E);break;case"className":An(n,"class",E);break;case"tabIndex":An(n,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,g,E);break;case"style":ii(n,E,H);break;case"data":if(s!=="object"){An(n,"data",E);break}case"src":case"href":if(E===""&&(s!=="a"||g!=="href")){n.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){n.removeAttribute(g);break}E=Eo(""+E),n.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){n.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(g==="formAction"?(s!=="input"&&fr(n,s,"name",I.name,I,null),fr(n,s,"formEncType",I.formEncType,I,null),fr(n,s,"formMethod",I.formMethod,I,null),fr(n,s,"formTarget",I.formTarget,I,null)):(fr(n,s,"encType",I.encType,I,null),fr(n,s,"method",I.method,I,null),fr(n,s,"target",I.target,I,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){n.removeAttribute(g);break}E=Eo(""+E),n.setAttribute(g,E);break;case"onClick":E!=null&&(n.onclick=Xc);break;case"onScroll":E!=null&&Qt("scroll",n);break;case"onScrollEnd":E!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(t(61));if(g=E.__html,g!=null){if(I.children!=null)throw Error(t(60));n.innerHTML=g}}break;case"multiple":n.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":n.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){n.removeAttribute("xlink:href");break}g=Eo(""+E),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?n.setAttribute(g,""+E):n.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?n.setAttribute(g,""):n.removeAttribute(g);break;case"capture":case"download":E===!0?n.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?n.setAttribute(g,E):n.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?n.setAttribute(g,E):n.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?n.removeAttribute(g):n.setAttribute(g,E);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),xo(n,"popover",E);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":xo(n,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Hh.get(g)||g,xo(n,g,E))}}function wf(n,s,g,E,I,H){switch(g){case"style":ii(n,E,H);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(t(61));if(g=E.__html,g!=null){if(I.children!=null)throw Error(t(60));n.innerHTML=g}}break;case"children":typeof E=="string"?vn(n,E):(typeof E=="number"||typeof E=="bigint")&&vn(n,""+E);break;case"onScroll":E!=null&&Qt("scroll",n);break;case"onScrollEnd":E!=null&&Qt("scrollend",n);break;case"onClick":E!=null&&(n.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(I=g.endsWith("Capture"),s=g.slice(2,I?g.length-7:void 0),H=n[Yr]||null,H=H!=null?H[g]:null,typeof H=="function"&&n.removeEventListener(s,H,I),typeof E=="function")){typeof H!="function"&&H!==null&&(g in n?n[g]=null:n.hasAttribute(g)&&n.removeAttribute(g)),n.addEventListener(s,E,I);break e}g in n?n[g]=E:E===!0?n.setAttribute(g,""):xo(n,g,E)}}}function xn(n,s,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var E=!1,I=!1,H;for(H in g)if(g.hasOwnProperty(H)){var se=g[H];if(se!=null)switch(H){case"src":E=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,s));default:fr(n,s,H,se,g,null)}}I&&fr(n,s,"srcSet",g.srcSet,g,null),E&&fr(n,s,"src",g.src,g,null);return;case"input":Qt("invalid",n);var me=H=se=I=null,Ee=null,Ne=null;for(E in g)if(g.hasOwnProperty(E)){var Je=g[E];if(Je!=null)switch(E){case"name":I=Je;break;case"type":se=Je;break;case"checked":Ee=Je;break;case"defaultChecked":Ne=Je;break;case"value":H=Je;break;case"defaultValue":me=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(t(137,s));break;default:fr(n,s,E,Je,g,null)}}la(n,H,me,Ee,Ne,se,I,!1),wo(n);return;case"select":Qt("invalid",n),E=se=H=null;for(I in g)if(g.hasOwnProperty(I)&&(me=g[I],me!=null))switch(I){case"value":H=me;break;case"defaultValue":se=me;break;case"multiple":E=me;default:fr(n,s,I,me,g,null)}s=H,g=se,n.multiple=!!E,s!=null?si(n,!!E,s,!1):g!=null&&si(n,!!E,g,!0);return;case"textarea":Qt("invalid",n),H=I=E=null;for(se in g)if(g.hasOwnProperty(se)&&(me=g[se],me!=null))switch(se){case"value":E=me;break;case"defaultValue":I=me;break;case"children":H=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(t(91));break;default:fr(n,s,se,me,g,null)}To(n,E,I,H),wo(n);return;case"option":for(Ee in g)if(g.hasOwnProperty(Ee)&&(E=g[Ee],E!=null))switch(Ee){case"selected":n.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:fr(n,s,Ee,E,g,null)}return;case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(E=0;E<tu.length;E++)Qt(tu[E],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in g)if(g.hasOwnProperty(Ne)&&(E=g[Ne],E!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,s));default:fr(n,s,Ne,E,g,null)}return;default:if(ca(s)){for(Je in g)g.hasOwnProperty(Je)&&(E=g[Je],E!==void 0&&wf(n,s,Je,E,g,void 0));return}}for(me in g)g.hasOwnProperty(me)&&(E=g[me],E!=null&&fr(n,s,me,E,g,null))}function e1(n,s,g,E){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,H=null,se=null,me=null,Ee=null,Ne=null,Je=null;for(Ye in g){var st=g[Ye];if(g.hasOwnProperty(Ye)&&st!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":Ee=st;default:E.hasOwnProperty(Ye)||fr(n,s,Ye,null,E,st)}}for(var He in E){var Ye=E[He];if(st=g[He],E.hasOwnProperty(He)&&(Ye!=null||st!=null))switch(He){case"type":H=Ye;break;case"name":I=Ye;break;case"checked":Ne=Ye;break;case"defaultChecked":Je=Ye;break;case"value":se=Ye;break;case"defaultValue":me=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(t(137,s));break;default:Ye!==st&&fr(n,s,He,Ye,E,st)}}vl(n,se,me,Ee,Ne,Je,H,I);return;case"select":Ye=se=me=He=null;for(H in g)if(Ee=g[H],g.hasOwnProperty(H)&&Ee!=null)switch(H){case"value":break;case"multiple":Ye=Ee;default:E.hasOwnProperty(H)||fr(n,s,H,null,E,Ee)}for(I in E)if(H=E[I],Ee=g[I],E.hasOwnProperty(I)&&(H!=null||Ee!=null))switch(I){case"value":He=H;break;case"defaultValue":me=H;break;case"multiple":se=H;default:H!==Ee&&fr(n,s,I,H,E,Ee)}s=me,g=se,E=Ye,He!=null?si(n,!!g,He,!1):!!E!=!!g&&(s!=null?si(n,!!g,s,!0):si(n,!!g,g?[]:"",!1));return;case"textarea":Ye=He=null;for(me in g)if(I=g[me],g.hasOwnProperty(me)&&I!=null&&!E.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:fr(n,s,me,null,E,I)}for(se in E)if(I=E[se],H=g[se],E.hasOwnProperty(se)&&(I!=null||H!=null))switch(se){case"value":He=I;break;case"defaultValue":Ye=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(t(91));break;default:I!==H&&fr(n,s,se,I,E,H)}jo(n,He,Ye);return;case"option":for(var Et in g)if(He=g[Et],g.hasOwnProperty(Et)&&He!=null&&!E.hasOwnProperty(Et))switch(Et){case"selected":n.selected=!1;break;default:fr(n,s,Et,null,E,He)}for(Ee in E)if(He=E[Ee],Ye=g[Ee],E.hasOwnProperty(Ee)&&He!==Ye&&(He!=null||Ye!=null))switch(Ee){case"selected":n.selected=He&&typeof He!="function"&&typeof He!="symbol";break;default:fr(n,s,Ee,He,E,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in g)He=g[Ft],g.hasOwnProperty(Ft)&&He!=null&&!E.hasOwnProperty(Ft)&&fr(n,s,Ft,null,E,He);for(Ne in E)if(He=E[Ne],Ye=g[Ne],E.hasOwnProperty(Ne)&&He!==Ye&&(He!=null||Ye!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(t(137,s));break;default:fr(n,s,Ne,He,E,Ye)}return;default:if(ca(s)){for(var Ur in g)He=g[Ur],g.hasOwnProperty(Ur)&&He!==void 0&&!E.hasOwnProperty(Ur)&&wf(n,s,Ur,void 0,E,He);for(Je in E)He=E[Je],Ye=g[Je],!E.hasOwnProperty(Je)||He===Ye||He===void 0&&Ye===void 0||wf(n,s,Je,He,E,Ye);return}}for(var Ve in g)He=g[Ve],g.hasOwnProperty(Ve)&&He!=null&&!E.hasOwnProperty(Ve)&&fr(n,s,Ve,null,E,He);for(st in E)He=E[st],Ye=g[st],!E.hasOwnProperty(st)||He===Ye||He==null&&Ye==null||fr(n,s,st,He,E,Ye)}var Sf=null,jf=null;function Yc(n){return n.nodeType===9?n:n.ownerDocument}function Qg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kg(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ef=null;function t1(){var n=window.event;return n&&n.type==="popstate"?n===Ef?!1:(Ef=n,!0):(Ef=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(n){return $g.resolve(null).then(n).catch(s1)}:Jg;function s1(n){setTimeout(function(){throw n})}function Mf(n,s){var g=s,E=0;do{var I=g.nextSibling;if(n.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"){if(E===0){n.removeChild(I),cu(s);return}E--}else g!=="$"&&g!=="$?"&&g!=="$!"||E++;g=I}while(g);cu(s)}function Of(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var g=s;switch(s=s.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Of(g),tt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}n.removeChild(g)}}function i1(n,s,g,E){for(;n.nodeType===1;){var I=g;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!E&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(E){if(!n[pt])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(H=n.getAttribute("rel"),H==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(H!==I.rel||n.getAttribute("href")!==(I.href==null?null:I.href)||n.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||n.getAttribute("title")!==(I.title==null?null:I.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(H=n.getAttribute("src"),(H!==(I.src==null?null:I.src)||n.getAttribute("type")!==(I.type==null?null:I.type)||n.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&H&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var H=I.name==null?null:""+I.name;if(I.type==="hidden"&&n.getAttribute("name")===H)return n}else return n;if(n=Ns(n.nextSibling),n===null)break}return null}function o1(n,s,g){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!g||(n=Ns(n.nextSibling),n===null))return null;return n}function Ns(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function ev(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var g=n.data;if(g==="$"||g==="$!"||g==="$?"){if(s===0)return n;s--}else g==="/$"&&s++}n=n.previousSibling}return null}function tv(n,s,g){switch(s=Yc(g),n){case"html":if(n=s.documentElement,!n)throw Error(t(452));return n;case"head":if(n=s.head,!n)throw Error(t(453));return n;case"body":if(n=s.body,!n)throw Error(t(454));return n;default:throw Error(t(451))}}var Es=new Map,rv=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var wi=B.d;B.d={f:a1,r:l1,D:u1,C:c1,L:h1,m:d1,X:p1,S:f1,M:m1};function a1(){var n=wi.f(),s=Vc();return n||s}function l1(n){var s=Ze(n);s!==null&&s.tag===5&&s.type==="form"?Ay(s):wi.r(n)}var Ia=typeof document>"u"?null:document;function nv(n,s,g){var E=Ia;if(E&&typeof s=="string"&&s){var I=Ln(s);I='link[rel="'+n+'"][href="'+I+'"]',typeof g=="string"&&(I+='[crossorigin="'+g+'"]'),rv.has(I)||(rv.add(I),n={rel:n,crossOrigin:g,href:s},E.querySelector(I)===null&&(s=E.createElement("link"),xn(s,"link",n),Ct(s),E.head.appendChild(s)))}}function u1(n){wi.D(n),nv("dns-prefetch",n,null)}function c1(n,s){wi.C(n,s),nv("preconnect",n,s)}function h1(n,s,g){wi.L(n,s,g);var E=Ia;if(E&&n&&s){var I='link[rel="preload"][as="'+Ln(s)+'"]';s==="image"&&g&&g.imageSrcSet?(I+='[imagesrcset="'+Ln(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(I+='[imagesizes="'+Ln(g.imageSizes)+'"]')):I+='[href="'+Ln(n)+'"]';var H=I;switch(s){case"style":H=Fa(n);break;case"script":H=Ua(n)}Es.has(H)||(n=F({rel:"preload",href:s==="image"&&g&&g.imageSrcSet?void 0:n,as:s},g),Es.set(H,n),E.querySelector(I)!==null||s==="style"&&E.querySelector(nu(H))||s==="script"&&E.querySelector(su(H))||(s=E.createElement("link"),xn(s,"link",n),Ct(s),E.head.appendChild(s)))}}function d1(n,s){wi.m(n,s);var g=Ia;if(g&&n){var E=s&&typeof s.as=="string"?s.as:"script",I='link[rel="modulepreload"][as="'+Ln(E)+'"][href="'+Ln(n)+'"]',H=I;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Ua(n)}if(!Es.has(H)&&(n=F({rel:"modulepreload",href:n},s),Es.set(H,n),g.querySelector(I)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(su(H)))return}E=g.createElement("link"),xn(E,"link",n),Ct(E),g.head.appendChild(E)}}}function f1(n,s,g){wi.S(n,s,g);var E=Ia;if(E&&n){var I=ct(E).hoistableStyles,H=Fa(n);s=s||"default";var se=I.get(H);if(!se){var me={loading:0,preload:null};if(se=E.querySelector(nu(H)))me.loading=5;else{n=F({rel:"stylesheet",href:n,"data-precedence":s},g),(g=Es.get(H))&&Af(n,g);var Ee=se=E.createElement("link");Ct(Ee),xn(Ee,"link",n),Ee._p=new Promise(function(Ne,Je){Ee.onload=Ne,Ee.onerror=Je}),Ee.addEventListener("load",function(){me.loading|=1}),Ee.addEventListener("error",function(){me.loading|=2}),me.loading|=4,Qc(se,s,E)}se={type:"stylesheet",instance:se,count:1,state:me},I.set(H,se)}}}function p1(n,s){wi.X(n,s);var g=Ia;if(g&&n){var E=ct(g).hoistableScripts,I=Ua(n),H=E.get(I);H||(H=g.querySelector(su(I)),H||(n=F({src:n,async:!0},s),(s=Es.get(I))&&kf(n,s),H=g.createElement("script"),Ct(H),xn(H,"link",n),g.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(I,H))}}function m1(n,s){wi.M(n,s);var g=Ia;if(g&&n){var E=ct(g).hoistableScripts,I=Ua(n),H=E.get(I);H||(H=g.querySelector(su(I)),H||(n=F({src:n,async:!0,type:"module"},s),(s=Es.get(I))&&kf(n,s),H=g.createElement("script"),Ct(H),xn(H,"link",n),g.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(I,H))}}function sv(n,s,g,E){var I=(I=_e.current)?Zc(I):null;if(!I)throw Error(t(446));switch(n){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(s=Fa(g.href),g=ct(I).hoistableStyles,E=g.get(s),E||(E={type:"style",instance:null,count:0,state:null},g.set(s,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){n=Fa(g.href);var H=ct(I).hoistableStyles,se=H.get(n);if(se||(I=I.ownerDocument||I,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(n,se),(H=I.querySelector(nu(n)))&&!H._p&&(se.instance=H,se.state.loading=5),Es.has(n)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Es.set(n,g),H||y1(I,n,g,se.state))),s&&E===null)throw Error(t(528,""));return se}if(s&&E!==null)throw Error(t(529,""));return null;case"script":return s=g.async,g=g.src,typeof g=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ua(g),g=ct(I).hoistableScripts,E=g.get(s),E||(E={type:"script",instance:null,count:0,state:null},g.set(s,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,n))}}function Fa(n){return'href="'+Ln(n)+'"'}function nu(n){return'link[rel="stylesheet"]['+n+"]"}function iv(n){return F({},n,{"data-precedence":n.precedence,precedence:null})}function y1(n,s,g,E){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?E.loading=1:(s=n.createElement("link"),E.preload=s,s.addEventListener("load",function(){return E.loading|=1}),s.addEventListener("error",function(){return E.loading|=2}),xn(s,"link",g),Ct(s),n.head.appendChild(s))}function Ua(n){return'[src="'+Ln(n)+'"]'}function su(n){return"script[async]"+n}function ov(n,s,g){if(s.count++,s.instance===null)switch(s.type){case"style":var E=n.querySelector('style[data-href~="'+Ln(g.href)+'"]');if(E)return s.instance=E,Ct(E),E;var I=F({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(n.ownerDocument||n).createElement("style"),Ct(E),xn(E,"style",I),Qc(E,g.precedence,n),s.instance=E;case"stylesheet":I=Fa(g.href);var H=n.querySelector(nu(I));if(H)return s.state.loading|=4,s.instance=H,Ct(H),H;E=iv(g),(I=Es.get(I))&&Af(E,I),H=(n.ownerDocument||n).createElement("link"),Ct(H);var se=H;return se._p=new Promise(function(me,Ee){se.onload=me,se.onerror=Ee}),xn(H,"link",E),s.state.loading|=4,Qc(H,g.precedence,n),s.instance=H;case"script":return H=Ua(g.src),(I=n.querySelector(su(H)))?(s.instance=I,Ct(I),I):(E=g,(I=Es.get(H))&&(E=F({},g),kf(E,I)),n=n.ownerDocument||n,I=n.createElement("script"),Ct(I),xn(I,"link",E),n.head.appendChild(I),s.instance=I);case"void":return null;default:throw Error(t(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(E=s.instance,s.state.loading|=4,Qc(E,g.precedence,n));return s.instance}function Qc(n,s,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=E.length?E[E.length-1]:null,H=I,se=0;se<E.length;se++){var me=E[se];if(me.dataset.precedence===s)H=me;else if(H!==I)break}H?H.parentNode.insertBefore(n,H.nextSibling):(s=g.nodeType===9?g.head:g,s.insertBefore(n,s.firstChild))}function Af(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function kf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Kc=null;function av(n,s,g){if(Kc===null){var E=new Map,I=Kc=new Map;I.set(g,E)}else I=Kc,E=I.get(g),E||(E=new Map,I.set(g,E));if(E.has(n))return E;for(E.set(n,null),g=g.getElementsByTagName(n),I=0;I<g.length;I++){var H=g[I];if(!(H[pt]||H[Nr]||n==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var se=H.getAttribute(s)||"";se=n+se;var me=E.get(se);me?me.push(H):E.set(se,[H])}}return E}function lv(n,s,g){n=n.ownerDocument||n,n.head.insertBefore(g,s==="title"?n.querySelector("head > title"):null)}function g1(n,s,g){if(g===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function uv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var iu=null;function v1(){}function b1(n,s,g){if(iu===null)throw Error(t(475));var E=iu;if(s.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var I=Fa(g.href),H=n.querySelector(nu(I));if(H){n=H._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(E.count++,E=Jc.bind(E),n.then(E,E)),s.state.loading|=4,s.instance=H,Ct(H);return}H=n.ownerDocument||n,g=iv(g),(I=Es.get(I))&&Af(g,I),H=H.createElement("link"),Ct(H);var se=H;se._p=new Promise(function(me,Ee){se.onload=me,se.onerror=Ee}),xn(H,"link",g),s.instance=H}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(E.count++,s=Jc.bind(E),n.addEventListener("load",s),n.addEventListener("error",s))}}function _1(){if(iu===null)throw Error(t(475));var n=iu;return n.stylesheets&&n.count===0&&Cf(n,n.stylesheets),0<n.count?function(s){var g=setTimeout(function(){if(n.stylesheets&&Cf(n,n.stylesheets),n.unsuspend){var E=n.unsuspend;n.unsuspend=null,E()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(g)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function Cf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,s.forEach(x1,n),$c=null,Jc.call(n))}function x1(n,s){if(!(s.state.loading&4)){var g=$c.get(n);if(g)var E=g.get(null);else{g=new Map,$c.set(n,g);for(var I=n.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<I.length;H++){var se=I[H];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(g.set(se.dataset.precedence,se),E=se)}E&&g.set(null,E)}I=s.instance,se=I.getAttribute("data-precedence"),H=g.get(se)||E,H===E&&g.set(null,I),g.set(se,I),this.count++,E=Jc.bind(this),I.addEventListener("load",E),I.addEventListener("error",E),H?H.parentNode.insertBefore(I,H.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(I,n.firstChild)),s.state.loading|=4}}var ou={$$typeof:a,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function w1(n,s,g,E,I,H,se,me){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=E,this.onUncaughtError=I,this.onCaughtError=H,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function cv(n,s,g,E,I,H,se,me,Ee,Ne,Je,st){return n=new w1(n,s,g,se,me,Ee,Ne,st),s=1,H===!0&&(s|=24),H=js(3,null,null,s),n.current=H,H.stateNode=n,s=ld(),s.refCount++,n.pooledCache=s,s.refCount++,H.memoizedState={element:E,isDehydrated:g,cache:s},Gd(H),n}function hv(n){return n?(n=ga,n):ga}function dv(n,s,g,E,I,H){I=hv(I),E.context===null?E.context=I:E.pendingContext=I,E=Yi(s),E.payload={element:g},H=H===void 0?null:H,H!==null&&(E.callback=H),g=Zi(n,E,s),g!==null&&(Pn(g,n,s),zl(g,n,s))}function fv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var g=n.retryLane;n.retryLane=g!==0&&g<s?g:s}}function Df(n,s){fv(n,s),(n=n.alternate)&&fv(n,s)}function pv(n){if(n.tag===13){var s=Vi(n,67108864);s!==null&&Pn(s,n,67108864),Df(n,67108864)}}var eh=!0;function S1(n,s,g,E){var I=L.T;L.T=null;var H=B.p;try{B.p=2,Rf(n,s,g,E)}finally{B.p=H,L.T=I}}function j1(n,s,g,E){var I=L.T;L.T=null;var H=B.p;try{B.p=8,Rf(n,s,g,E)}finally{B.p=H,L.T=I}}function Rf(n,s,g,E){if(eh){var I=Lf(E);if(I===null)xf(n,s,E,th,g),yv(n,E);else if(E1(I,n,s,g,E))E.stopPropagation();else if(yv(n,E),s&4&&-1<T1.indexOf(n)){for(;I!==null;){var H=Ze(I);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var se=jt(H.pendingLanes);if(se!==0){var me=H;for(me.pendingLanes|=2,me.entangledLanes|=2;se;){var Ee=1<<31-Ge(se);me.entanglements[1]|=Ee,se&=~Ee}Ks(H),(Lr&6)===0&&(Fc=it()+500,eu(0))}}break;case 13:me=Vi(H,2),me!==null&&Pn(me,H,2),Vc(),Df(H,2)}if(H=Lf(E),H===null&&xf(n,s,E,th,g),H===I)break;I=H}I!==null&&E.stopPropagation()}else xf(n,s,E,null,g)}}function Lf(n){return n=ha(n),Nf(n)}var th=null;function Nf(n){if(th=null,n=It(n),n!==null){var s=K(n);if(s===null)n=null;else{var g=s.tag;if(g===13){if(n=Z(s),n!==null)return n;n=null}else if(g===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return th=n,null}function mv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case dt:return 2;case ht:return 8;case Ce:case Qe:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Pf=!1,ro=null,no=null,so=null,au=new Map,lu=new Map,io=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(n,s){switch(n){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(n,s,g,E,I,H){return n===null||n.nativeEvent!==H?(n={blockedOn:s,domEventName:g,eventSystemFlags:E,nativeEvent:H,targetContainers:[I]},s!==null&&(s=Ze(s),s!==null&&pv(s)),n):(n.eventSystemFlags|=E,s=n.targetContainers,I!==null&&s.indexOf(I)===-1&&s.push(I),n)}function E1(n,s,g,E,I){switch(s){case"focusin":return ro=uu(ro,n,s,g,E,I),!0;case"dragenter":return no=uu(no,n,s,g,E,I),!0;case"mouseover":return so=uu(so,n,s,g,E,I),!0;case"pointerover":var H=I.pointerId;return au.set(H,uu(au.get(H)||null,n,s,g,E,I)),!0;case"gotpointercapture":return H=I.pointerId,lu.set(H,uu(lu.get(H)||null,n,s,g,E,I)),!0}return!1}function gv(n){var s=It(n.target);if(s!==null){var g=K(s);if(g!==null){if(s=g.tag,s===13){if(s=Z(g),s!==null){n.blockedOn=s,tn(n.priority,function(){if(g.tag===13){var E=is(),I=Vi(g,E);I!==null&&Pn(I,g,E),Df(g,E)}});return}}else if(s===3&&g.stateNode.current.memoizedState.isDehydrated){n.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var g=Lf(n.nativeEvent);if(g===null){g=n.nativeEvent;var E=new g.constructor(g.type,g);xl=E,g.target.dispatchEvent(E),xl=null}else return s=Ze(g),s!==null&&pv(s),n.blockedOn=g,!1;s.shift()}return!0}function vv(n,s,g){rh(n)&&g.delete(s)}function M1(){Pf=!1,ro!==null&&rh(ro)&&(ro=null),no!==null&&rh(no)&&(no=null),so!==null&&rh(so)&&(so=null),au.forEach(vv),lu.forEach(vv)}function nh(n,s){n.blockedOn===s&&(n.blockedOn=null,Pf||(Pf=!0,R.unstable_scheduleCallback(R.unstable_NormalPriority,M1)))}var sh=null;function bv(n){sh!==n&&(sh=n,R.unstable_scheduleCallback(R.unstable_NormalPriority,function(){sh===n&&(sh=null);for(var s=0;s<n.length;s+=3){var g=n[s],E=n[s+1],I=n[s+2];if(typeof E!="function"){if(Nf(E||g)===null)continue;break}var H=Ze(g);H!==null&&(n.splice(s,3),s-=3,jd(H,{pending:!0,data:I,method:g.method,action:E},E,I))}}))}function cu(n){function s(Ee){return nh(Ee,n)}ro!==null&&nh(ro,n),no!==null&&nh(no,n),so!==null&&nh(so,n),au.forEach(s),lu.forEach(s);for(var g=0;g<io.length;g++){var E=io[g];E.blockedOn===n&&(E.blockedOn=null)}for(;0<io.length&&(g=io[0],g.blockedOn===null);)gv(g),g.blockedOn===null&&io.shift();if(g=(n.ownerDocument||n).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var I=g[E],H=g[E+1],se=I[Yr]||null;if(typeof H=="function")se||bv(g);else if(se){var me=null;if(H&&H.hasAttribute("formAction")){if(I=H,se=H[Yr]||null)me=se.formAction;else if(Nf(I)!==null)continue}else me=se.action;typeof me=="function"?g[E+1]=me:(g.splice(E,3),E-=3),bv(g)}}}function If(n){this._internalRoot=n}ih.prototype.render=If.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));var g=s.current,E=is();dv(g,E,n,s,null,null)},ih.prototype.unmount=If.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&La(),dv(n.current,2,null,n,null,null),Vc(),s[Cs]=null}};function ih(n){this._internalRoot=n}ih.prototype.unstable_scheduleHydration=function(n){if(n){var s=tr();n={blockedOn:null,target:n,priority:s};for(var g=0;g<io.length&&s!==0&&s<io[g].priority;g++);io.splice(g,0,n),g===0&&gv(n)}};var _v=r.version;if(_v!=="19.0.0")throw Error(t(527,_v,"19.0.0"));B.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ee(s),n=n!==null?ae(n):null,n=n===null?null:n.stateNode,n};var O1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:It,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{re=oh.inject(O1),fe=oh}catch{}}return du.createRoot=function(n,s){if(!j(n))throw Error(t(299));var g=!1,E="",I=Iy,H=Fy,se=Uy,me=null;return s!=null&&(s.unstable_strictMode===!0&&(g=!0),s.identifierPrefix!==void 0&&(E=s.identifierPrefix),s.onUncaughtError!==void 0&&(I=s.onUncaughtError),s.onCaughtError!==void 0&&(H=s.onCaughtError),s.onRecoverableError!==void 0&&(se=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(me=s.unstable_transitionCallbacks)),s=cv(n,1,!1,null,null,g,E,I,H,se,me,null),n[Cs]=s.current,_f(n.nodeType===8?n.parentNode:n),new If(s)},du.hydrateRoot=function(n,s,g){if(!j(n))throw Error(t(299));var E=!1,I="",H=Iy,se=Fy,me=Uy,Ee=null,Ne=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onUncaughtError!==void 0&&(H=g.onUncaughtError),g.onCaughtError!==void 0&&(se=g.onCaughtError),g.onRecoverableError!==void 0&&(me=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ee=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ne=g.formState)),s=cv(n,1,!0,s,g??null,E,I,H,se,me,Ee,Ne),s.context=hv(null),g=s.current,E=is(),I=Yi(E),I.callback=null,Zi(g,I,E),s.current.lanes=E,Xt(s,E),Ks(s),n[Cs]=s.current,_f(n),new ih(s)},du.version="19.0.0",du}var kv;function U1(){if(kv)return Bf.exports;kv=1;function R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R)}catch(r){console.error(r)}}return R(),Bf.exports=F1(),Bf.exports}var B1=U1();function lh(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qf={exports:{}};/*! p5.js v1.11.3 January 22, 2025 */var Cv;function V1(){return Cv||(Cv=1,function(R,r){(function(m){R.exports=m()})(function(){var m;return function t(j,w,f){function p(b,v){if(!w[b]){if(!j[b]){var o=typeof lh=="function"&&lh;if(!v&&o)return o(b,!0);if(i)return i(b,!0);throw(v=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",v}o=w[b]={exports:{}},j[b][0].call(o.exports,function(a){return p(j[b][1][a]||a)},o,o.exports,t,j,w,f)}return w[b].exports}for(var i=typeof lh=="function"&&lh,l=0;l<f.length;l++)p(f[l]);return p}({1:[function(t,j,w){w.byteLength=function(c){var c=o(c),u=c[0],c=c[1];return 3*(u+c)/4-c},w.toByteArray=function(a){var u,c,h=o(a),y=h[0],h=h[1],d=new i(function(T,k){return 3*(T+k)/4-k}(y,h)),x=0,_=0<h?y-4:y;for(c=0;c<_;c+=4)u=p[a.charCodeAt(c)]<<18|p[a.charCodeAt(c+1)]<<12|p[a.charCodeAt(c+2)]<<6|p[a.charCodeAt(c+3)],d[x++]=u>>16&255,d[x++]=u>>8&255,d[x++]=255&u;return h===2&&(u=p[a.charCodeAt(c)]<<2|p[a.charCodeAt(c+1)]>>4,d[x++]=255&u),h===1&&(u=p[a.charCodeAt(c)]<<10|p[a.charCodeAt(c+1)]<<4|p[a.charCodeAt(c+2)]>>2,d[x++]=u>>8&255,d[x++]=255&u),d},w.fromByteArray=function(a){for(var u,c=a.length,y=c%3,h=[],d=0,x=c-y;d<x;d+=16383)h.push(function(_,T,k){for(var M,O=[],L=T;L<k;L+=3)M=(_[L]<<16&16711680)+(_[L+1]<<8&65280)+(255&_[L+2]),O.push(function(F){return f[F>>18&63]+f[F>>12&63]+f[F>>6&63]+f[63&F]}(M));return O.join("")}(a,d,x<d+16383?x:d+16383));return y==1?(u=a[c-1],h.push(f[u>>2]+f[u<<4&63]+"==")):y==2&&(u=(a[c-2]<<8)+a[c-1],h.push(f[u>>10]+f[u>>4&63]+f[u<<2&63]+"=")),h.join("")};for(var f=[],p=[],i=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,v=l.length;b<v;++b)f[b]=l[b],p[l.charCodeAt(b)]=b;function o(a){var u=a.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=a.indexOf("="),u=(a=a===-1?u:a)===u?0:4-a%4,[a,u]}p[45]=62,p[95]=63},{}],2:[function(t,j,w){},{}],3:[function(t,j,w){},{}],4:[function(t,j,w){(function(o){var p=t("base64-js"),i=t("ieee754"),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(w.Buffer=o,w.SlowBuffer=function(A){return+A!=A&&(A=0),o.alloc(+A)},w.INSPECT_MAX_BYTES=50,2147483647);function v(A){if(b<A)throw new RangeError('The value "'+A+'" is invalid for option "size"');return A=new Uint8Array(A),Object.setPrototypeOf(A,o.prototype),A}function o(A,B,W){if(typeof A!="number")return a(A,B,W);if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(A)}function a(A,B,W){if(typeof A=="string"){var J=A,ie=B;if(o.isEncoding(ie=typeof ie=="string"&&ie!==""?ie:"utf8"))return ne=0|d(J,ie),pe=v(ne),pe=(J=pe.write(J,ie))!==ne?pe.slice(0,J):pe;throw new TypeError("Unknown encoding: "+ie)}if(ArrayBuffer.isView(A))return y(A);if(A!=null){if(Y(A,ArrayBuffer)||A&&Y(A.buffer,ArrayBuffer)){var ne=A,J=B,pe=W;if(J<0||ne.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<J+(pe||0))throw new RangeError('"length" is outside of buffer bounds');return ne=J===void 0&&pe===void 0?new Uint8Array(ne):pe===void 0?new Uint8Array(ne,J):new Uint8Array(ne,J,pe),Object.setPrototypeOf(ne,o.prototype),ne}if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ie=A.valueOf&&A.valueOf(),ie!=null&&ie!==A)return o.from(ie,B,W);var ge=function(he){{var be,_e;if(o.isBuffer(he))return be=0|h(he.length),(_e=v(be)).length!==0&&he.copy(_e,0,0,be),_e}if(he.length!==void 0)return typeof he.length!="number"||ee(he.length)?v(0):y(he);if(he.type==="Buffer"&&Array.isArray(he.data))return y(he.data)}(A);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return o.from(A[Symbol.toPrimitive]("string"),B,W)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function u(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function c(A){return u(A),v(A<0?0:0|h(A))}function y(A){for(var B=A.length<0?0:0|h(A.length),W=v(B),J=0;J<B;J+=1)W[J]=255&A[J];return W}function h(A){if(b<=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|A}function d(A,B){if(o.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||Y(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var W=A.length,J=2<arguments.length&&arguments[2]===!0;if(!J&&W===0)return 0;for(var ie=!1;;)switch(B){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return Q(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return K(A).length;default:if(ie)return J?-1:Q(A).length;B=(""+B).toLowerCase(),ie=!0}}function x(A,B,W){var J,ie=!1;if((B=B===void 0||B<0?0:B)>this.length||(W=W===void 0||W>this.length?this.length:W)<=0||(W>>>=0)<=(B>>>=0))return"";for(A=A||"utf8";;)switch(A){case"hex":var ne=this,Se=B,pe=W,_e=ne.length;(!pe||pe<0||_e<pe)&&(pe=_e);for(var ge="",he=Se=!Se||Se<0?0:Se;he<pe;++he)ge+=ae[ne[he]];return ge;case"utf8":case"utf-8":return L(this,B,W);case"ascii":var be=this,_e=B,le=W,de="";le=Math.min(be.length,le);for(var xe=_e;xe<le;++xe)de+=String.fromCharCode(127&be[xe]);return de;case"latin1":case"binary":var Ae=this,Se=B,Te=W,ke="";Te=Math.min(Ae.length,Te);for(var Xe=Se;Xe<Te;++Xe)ke+=String.fromCharCode(Ae[Xe]);return ke;case"base64":return Pe=this,J=W,(mt=B)===0&&J===Pe.length?p.fromByteArray(Pe):p.fromByteArray(Pe.slice(mt,J));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Pe=B,mt=W,it=this.slice(Pe,mt),ut="",dt=0;dt<it.length;dt+=2)ut+=String.fromCharCode(it[dt]+256*it[dt+1]);return ut;default:if(ie)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),ie=!0}}function _(A,B,W){var J=A[B];A[B]=A[W],A[W]=J}function T(A,B,W,J,ie){if(A.length===0)return-1;if(typeof W=="string"?(J=W,W=0):2147483647<W?W=2147483647:W<-2147483648&&(W=-2147483648),(W=(W=ee(W=+W)?ie?0:A.length-1:W)<0?A.length+W:W)>=A.length){if(ie)return-1;W=A.length-1}else if(W<0){if(!ie)return-1;W=0}if(typeof B=="string"&&(B=o.from(B,J)),o.isBuffer(B))return B.length===0?-1:k(A,B,W,J,ie);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?(ie?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(A,B,W):k(A,[B],W,J,ie);throw new TypeError("val must be string, number or Buffer")}function k(A,B,W,J,ie){var ne=1,pe=A.length,ge=B.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(A.length<2||B.length<2)return-1;pe/=ne=2,ge/=2,W/=2}function he(xe,Ae){return ne===1?xe[Ae]:xe.readUInt16BE(Ae*ne)}if(ie)for(var be=-1,_e=W;_e<pe;_e++)if(he(A,_e)===he(B,be===-1?0:_e-be)){if(_e-(be=be===-1?_e:be)+1===ge)return be*ne}else be!==-1&&(_e-=_e-be),be=-1;else for(_e=W=pe<W+ge?pe-ge:W;0<=_e;_e--){for(var le=!0,de=0;de<ge;de++)if(he(A,_e+de)!==he(B,de)){le=!1;break}if(le)return _e}return-1}function M(A,B,W,J){return Z(function(ie){for(var ne=[],pe=0;pe<ie.length;++pe)ne.push(255&ie.charCodeAt(pe));return ne}(B),A,W,J)}function O(A,B,W,J){return Z(function(ie,ne){for(var pe,ge,he=[],be=0;be<ie.length&&!((ne-=2)<0);++be)ge=ie.charCodeAt(be),pe=ge>>8,ge=ge%256,he.push(ge),he.push(pe);return he}(B,A.length-W),A,W,J)}function L(A,B,W){W=Math.min(A.length,W);for(var J=[],ie=B;ie<W;){var ne,pe,ge,he,be=A[ie],_e=null,le=239<be?4:223<be?3:191<be?2:1;if(ie+le<=W)switch(le){case 1:be<128&&(_e=be);break;case 2:(192&(ne=A[ie+1]))==128&&127<(he=(31&be)<<6|63&ne)&&(_e=he);break;case 3:ne=A[ie+1],pe=A[ie+2],(192&ne)==128&&(192&pe)==128&&2047<(he=(15&be)<<12|(63&ne)<<6|63&pe)&&(he<55296||57343<he)&&(_e=he);break;case 4:ne=A[ie+1],pe=A[ie+2],ge=A[ie+3],(192&ne)==128&&(192&pe)==128&&(192&ge)==128&&65535<(he=(15&be)<<18|(63&ne)<<12|(63&pe)<<6|63&ge)&&he<1114112&&(_e=he)}_e===null?(_e=65533,le=1):65535<_e&&(_e-=65536,J.push(_e>>>10&1023|55296),_e=56320|1023&_e),J.push(_e),ie+=le}var de=J,xe=de.length;if(xe<=F)return String.fromCharCode.apply(String,de);for(var Ae="",Se=0;Se<xe;)Ae+=String.fromCharCode.apply(String,de.slice(Se,Se+=F));return Ae}w.kMaxLength=b,(o.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(A,B),A.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=a,Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(A,B,W){return B=B,W=W,u(A=A),!(A<=0)&&B!==void 0?typeof W=="string"?v(A).fill(B,W):v(A).fill(B):v(A)},o.allocUnsafe=c,o.allocUnsafeSlow=c,o.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==o.prototype},o.compare=function(A,B){if(Y(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),Y(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(A)||!o.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===B)return 0;for(var W=A.length,J=B.length,ie=0,ne=Math.min(W,J);ie<ne;++ie)if(A[ie]!==B[ie]){W=A[ie],J=B[ie];break}return W<J?-1:J<W?1:0},o.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(A,B){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return o.alloc(0);if(B===void 0)for(ie=B=0;ie<A.length;++ie)B+=A[ie].length;for(var W=o.allocUnsafe(B),J=0,ie=0;ie<A.length;++ie){var ne=A[ie];if(Y(ne,Uint8Array)&&(ne=o.from(ne)),!o.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(W,J),J+=ne.length}return W},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<A;B+=2)_(this,B,B+1);return this},o.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<A;B+=4)_(this,B,B+3),_(this,B+1,B+2);return this},o.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<A;B+=8)_(this,B,B+7),_(this,B+1,B+6),_(this,B+2,B+5),_(this,B+3,B+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?L(this,0,A):x.apply(this,arguments)},o.prototype.equals=function(A){if(o.isBuffer(A))return this===A||o.compare(this,A)===0;throw new TypeError("Argument must be a Buffer")},o.prototype.inspect=function(){var B="",A=w.INSPECT_MAX_BYTES,B=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim();return this.length>A&&(B+=" ... "),"<Buffer "+B+">"},l&&(o.prototype[l]=o.prototype.inspect),o.prototype.compare=function(A,B,W,J,ie){if(Y(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),!o.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(W===void 0&&(W=A?A.length:0),J===void 0&&(J=0),ie===void 0&&(ie=this.length),(B=B===void 0?0:B)<0||W>A.length||J<0||ie>this.length)throw new RangeError("out of range index");if(ie<=J&&W<=B)return 0;if(ie<=J)return-1;if(W<=B)return 1;if(this===A)return 0;for(var ne=(ie>>>=0)-(J>>>=0),pe=(W>>>=0)-(B>>>=0),ge=Math.min(ne,pe),he=this.slice(J,ie),be=A.slice(B,W),_e=0;_e<ge;++_e)if(he[_e]!==be[_e]){ne=he[_e],pe=be[_e];break}return ne<pe?-1:pe<ne?1:0},o.prototype.includes=function(A,B,W){return this.indexOf(A,B,W)!==-1},o.prototype.indexOf=function(A,B,W){return T(this,A,B,W,!0)},o.prototype.lastIndexOf=function(A,B,W){return T(this,A,B,W,!1)},o.prototype.write=function(A,B,W,J){if(B===void 0)J="utf8",W=this.length,B=0;else if(W===void 0&&typeof B=="string")J=B,W=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(W)?(W>>>=0,J===void 0&&(J="utf8")):(J=W,W=void 0)}var ie=this.length-B;if((W===void 0||ie<W)&&(W=ie),0<A.length&&(W<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");J=J||"utf8";for(var ne,pe,ge,he=!1;;)switch(J){case"hex":var be=this,_e=A,le=B,de=W,xe=(le=Number(le)||0,be.length-le);(!de||xe<(de=Number(de)))&&(de=xe),(xe=_e.length)/2<de&&(de=xe/2);for(var Ae=0;Ae<de;++Ae){var Se=parseInt(_e.substr(2*Ae,2),16);if(ee(Se))return Ae;be[le+Ae]=Se}return Ae;case"utf8":case"utf-8":return xe=B,ge=W,Z(Q(A,(pe=this).length-xe),pe,xe,ge);case"ascii":return M(this,A,B,W);case"latin1":case"binary":return M(this,A,B,W);case"base64":return pe=this,ge=B,ne=W,Z(K(A),pe,ge,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,A,B,W);default:if(he)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),he=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function D(A,B,W){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(W<A+B)throw new RangeError("Trying to access beyond buffer length")}function V(A,B,W,J,ie,ne){if(!o.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie<B||B<ne)throw new RangeError('"value" argument is out of bounds');if(W+J>A.length)throw new RangeError("Index out of range")}function P(A,B,W,J){if(W+J>A.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function G(A,B,W,J,ie){return B=+B,W>>>=0,ie||P(A,0,W,4),i.write(A,B,W,J,23,4),W+4}function z(A,B,W,J,ie){return B=+B,W>>>=0,ie||P(A,0,W,8),i.write(A,B,W,J,52,8),W+8}o.prototype.slice=function(A,B){var W=this.length,W=((A=~~A)<0?(A+=W)<0&&(A=0):W<A&&(A=W),(B=B===void 0?W:~~B)<0?(B+=W)<0&&(B=0):W<B&&(B=W),B<A&&(B=A),this.subarray(A,B));return Object.setPrototypeOf(W,o.prototype),W},o.prototype.readUIntLE=function(A,B,W){A>>>=0,B>>>=0,W||D(A,B,this.length);for(var J=this[A],ie=1,ne=0;++ne<B&&(ie*=256);)J+=this[A+ne]*ie;return J},o.prototype.readUIntBE=function(A,B,W){A>>>=0,B>>>=0,W||D(A,B,this.length);for(var J=this[A+--B],ie=1;0<B&&(ie*=256);)J+=this[A+--B]*ie;return J},o.prototype.readUInt8=function(A,B){return A>>>=0,B||D(A,1,this.length),this[A]},o.prototype.readUInt16LE=function(A,B){return A>>>=0,B||D(A,2,this.length),this[A]|this[A+1]<<8},o.prototype.readUInt16BE=function(A,B){return A>>>=0,B||D(A,2,this.length),this[A]<<8|this[A+1]},o.prototype.readUInt32LE=function(A,B){return A>>>=0,B||D(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},o.prototype.readUInt32BE=function(A,B){return A>>>=0,B||D(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},o.prototype.readIntLE=function(A,B,W){A>>>=0,B>>>=0,W||D(A,B,this.length);for(var J=this[A],ie=1,ne=0;++ne<B&&(ie*=256);)J+=this[A+ne]*ie;return(ie*=128)<=J&&(J-=Math.pow(2,8*B)),J},o.prototype.readIntBE=function(A,B,W){A>>>=0,B>>>=0,W||D(A,B,this.length);for(var J=B,ie=1,ne=this[A+--J];0<J&&(ie*=256);)ne+=this[A+--J]*ie;return(ie*=128)<=ne&&(ne-=Math.pow(2,8*B)),ne},o.prototype.readInt8=function(A,B){return A>>>=0,B||D(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},o.prototype.readInt16LE=function(A,B){return A>>>=0,B||D(A,2,this.length),B=this[A]|this[A+1]<<8,32768&B?4294901760|B:B},o.prototype.readInt16BE=function(A,B){return A>>>=0,B||D(A,2,this.length),B=this[A+1]|this[A]<<8,32768&B?4294901760|B:B},o.prototype.readInt32LE=function(A,B){return A>>>=0,B||D(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},o.prototype.readInt32BE=function(A,B){return A>>>=0,B||D(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},o.prototype.readFloatLE=function(A,B){return A>>>=0,B||D(A,4,this.length),i.read(this,A,!0,23,4)},o.prototype.readFloatBE=function(A,B){return A>>>=0,B||D(A,4,this.length),i.read(this,A,!1,23,4)},o.prototype.readDoubleLE=function(A,B){return A>>>=0,B||D(A,8,this.length),i.read(this,A,!0,52,8)},o.prototype.readDoubleBE=function(A,B){return A>>>=0,B||D(A,8,this.length),i.read(this,A,!1,52,8)},o.prototype.writeUIntLE=function(A,B,W,J){A=+A,B>>>=0,W>>>=0,J||V(this,A,B,W,Math.pow(2,8*W)-1,0);var ie=1,ne=0;for(this[B]=255&A;++ne<W&&(ie*=256);)this[B+ne]=A/ie&255;return B+W},o.prototype.writeUIntBE=function(A,B,W,J){A=+A,B>>>=0,W>>>=0,J||V(this,A,B,W,Math.pow(2,8*W)-1,0);var ie=W-1,ne=1;for(this[B+ie]=255&A;0<=--ie&&(ne*=256);)this[B+ie]=A/ne&255;return B+W},o.prototype.writeUInt8=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,1,255,0),this[B]=255&A,B+1},o.prototype.writeUInt16LE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,2,65535,0),this[B]=255&A,this[B+1]=A>>>8,B+2},o.prototype.writeUInt16BE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,2,65535,0),this[B]=A>>>8,this[B+1]=255&A,B+2},o.prototype.writeUInt32LE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,4,4294967295,0),this[B+3]=A>>>24,this[B+2]=A>>>16,this[B+1]=A>>>8,this[B]=255&A,B+4},o.prototype.writeUInt32BE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,4,4294967295,0),this[B]=A>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=255&A,B+4},o.prototype.writeIntLE=function(A,B,W,J){A=+A,B>>>=0,J||V(this,A,B,W,(J=Math.pow(2,8*W-1))-1,-J);var ie=0,ne=1,pe=0;for(this[B]=255&A;++ie<W&&(ne*=256);)A<0&&pe===0&&this[B+ie-1]!==0&&(pe=1),this[B+ie]=(A/ne>>0)-pe&255;return B+W},o.prototype.writeIntBE=function(A,B,W,J){A=+A,B>>>=0,J||V(this,A,B,W,(J=Math.pow(2,8*W-1))-1,-J);var ie=W-1,ne=1,pe=0;for(this[B+ie]=255&A;0<=--ie&&(ne*=256);)A<0&&pe===0&&this[B+ie+1]!==0&&(pe=1),this[B+ie]=(A/ne>>0)-pe&255;return B+W},o.prototype.writeInt8=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,1,127,-128),this[B]=255&(A=A<0?255+A+1:A),B+1},o.prototype.writeInt16LE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,2,32767,-32768),this[B]=255&A,this[B+1]=A>>>8,B+2},o.prototype.writeInt16BE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,2,32767,-32768),this[B]=A>>>8,this[B+1]=255&A,B+2},o.prototype.writeInt32LE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,4,2147483647,-2147483648),this[B]=255&A,this[B+1]=A>>>8,this[B+2]=A>>>16,this[B+3]=A>>>24,B+4},o.prototype.writeInt32BE=function(A,B,W){return A=+A,B>>>=0,W||V(this,A,B,4,2147483647,-2147483648),this[B]=(A=A<0?4294967295+A+1:A)>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=255&A,B+4},o.prototype.writeFloatLE=function(A,B,W){return G(this,A,B,!0,W)},o.prototype.writeFloatBE=function(A,B,W){return G(this,A,B,!1,W)},o.prototype.writeDoubleLE=function(A,B,W){return z(this,A,B,!0,W)},o.prototype.writeDoubleBE=function(A,B,W){return z(this,A,B,!1,W)},o.prototype.copy=function(A,B,W,J){if(!o.isBuffer(A))throw new TypeError("argument should be a Buffer");if(W=W||0,J||J===0||(J=this.length),B>=A.length&&(B=A.length),(J=0<J&&J<W?W:J)===W||A.length===0||this.length===0)return 0;if((B=B||0)<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length);var ie=(J=A.length-B<J-W?A.length-B+W:J)-W;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,W,J);else if(this===A&&W<B&&B<J)for(var ne=ie-1;0<=ne;--ne)A[ne+B]=this[ne+W];else Uint8Array.prototype.set.call(A,this.subarray(W,J),B);return ie},o.prototype.fill=function(A,B,W,J){if(typeof A=="string"){if(typeof B=="string"?(J=B,B=0,W=this.length):typeof W=="string"&&(J=W,W=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!o.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ie;A.length===1&&(ie=A.charCodeAt(0),(J==="utf8"&&ie<128||J==="latin1")&&(A=ie))}else typeof A=="number"?A&=255:typeof A=="boolean"&&(A=Number(A));if(B<0||this.length<B||this.length<W)throw new RangeError("Out of range index");var ne;if(!(W<=B))if(B>>>=0,W=W===void 0?this.length:W>>>0,typeof(A=A||0)=="number")for(ne=B;ne<W;++ne)this[ne]=A;else{var pe=o.isBuffer(A)?A:o.from(A,J),ge=pe.length;if(ge===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ne=0;ne<W-B;++ne)this[ne+B]=pe[ne%ge]}return this};var q=/[^+/0-9A-Za-z-_]/g;function Q(A,B){B=B||1/0;for(var W,J=A.length,ie=null,ne=[],pe=0;pe<J;++pe){if(55295<(W=A.charCodeAt(pe))&&W<57344){if(!ie){if(56319<W){-1<(B-=3)&&ne.push(239,191,189);continue}if(pe+1===J){-1<(B-=3)&&ne.push(239,191,189);continue}ie=W;continue}if(W<56320){-1<(B-=3)&&ne.push(239,191,189),ie=W;continue}W=65536+(ie-55296<<10|W-56320)}else ie&&-1<(B-=3)&&ne.push(239,191,189);if(ie=null,W<128){if(--B<0)break;ne.push(W)}else if(W<2048){if((B-=2)<0)break;ne.push(W>>6|192,63&W|128)}else if(W<65536){if((B-=3)<0)break;ne.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;ne.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ne}function K(A){return p.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(A))}function Z(A,B,W,J){for(var ie=0;ie<J&&!(ie+W>=B.length||ie>=A.length);++ie)B[ie+W]=A[ie];return ie}function Y(A,B){return A instanceof B||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===B.name}function ee(A){return A!=A}var ae=function(){for(var A="0123456789abcdef",B=new Array(256),W=0;W<16;++W)for(var J=16*W,ie=0;ie<16;++ie)B[J+ie]=A[W]+A[ie];return B}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,j,w){j.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(t,j,w){var f=t("../internals/is-object");j.exports=function(p){if(f(p)||p===null)return p;throw TypeError("Can't set "+String(p)+" as a prototype")}},{"../internals/is-object":75}],7:[function(i,j,w){var f=i("../internals/well-known-symbol"),p=i("../internals/object-create"),i=i("../internals/object-define-property"),l=f("unscopables"),b=Array.prototype;b[l]==null&&i.f(b,l,{configurable:!0,value:p(null)}),j.exports=function(v){b[l][v]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,j,w){var f=t("../internals/string-multibyte").charAt;j.exports=function(p,i,l){return i+(l?f(p,i).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,j,w){j.exports=function(f,p,i){if(f instanceof p)return f;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},{}],10:[function(t,j,w){var f=t("../internals/is-object");j.exports=function(p){if(f(p))return p;throw TypeError(String(p)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,j,w){j.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,j,w){function f(z){return v(z)&&o(G,a(z))}var p,i=P("../internals/array-buffer-native"),l=P("../internals/descriptors"),b=P("../internals/global"),v=P("../internals/is-object"),o=P("../internals/has"),a=P("../internals/classof"),u=P("../internals/create-non-enumerable-property"),c=P("../internals/redefine"),y=P("../internals/object-define-property").f,h=P("../internals/object-get-prototype-of"),d=P("../internals/object-set-prototype-of"),F=P("../internals/well-known-symbol"),P=P("../internals/uid"),x=b.Int8Array,_=x&&x.prototype,T=b.Uint8ClampedArray,T=T&&T.prototype,k=x&&h(x),M=_&&h(_),O=Object.prototype,L=O.isPrototypeOf,F=F("toStringTag"),D=P("TYPED_ARRAY_TAG"),V=i&&!!d&&a(b.opera)!=="Opera",P=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(p in G)b[p]||(V=!1);if((!V||typeof k!="function"||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},V))for(p in G)b[p]&&d(b[p],k);if((!V||!M||M===O)&&(M=k.prototype,V))for(p in G)b[p]&&d(b[p].prototype,M);if(V&&h(T)!==M&&d(T,M),l&&!o(M,F))for(p in P=!0,y(M,F,{get:function(){return v(this)?this[D]:void 0}}),G)b[p]&&u(b[p],D,p);j.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:P&&D,aTypedArray:function(z){if(f(z))return z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(z){if(d){if(L.call(k,z))return z}else for(var q in G)if(o(G,p)&&(q=b[q],q&&(z===q||L.call(q,z))))return z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(z,q,Q){if(l){if(Q)for(var K in G)K=b[K],K&&o(K.prototype,z)&&delete K.prototype[z];M[z]&&!Q||c(M,z,!Q&&V&&_[z]||q)}},exportTypedArrayStaticMethod:function(z,q,Q){var K,Z;if(l){if(d){if(Q)for(K in G)(Z=b[K])&&o(Z,z)&&delete Z[z];if(k[z]&&!Q)return;try{return c(k,z,!Q&&V&&x[z]||q)}catch{}}for(K in G)!(Z=b[K])||Z[z]&&!Q||c(Z,z,q)}},isView:function(z){return z=a(z),z==="DataView"||o(G,z)},isTypedArray:f,TypedArray:k,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(W,j,w){function f(le){return[255&le]}function p(le){return[255&le,le>>8&255]}function i(le){return[255&le,le>>8&255,le>>16&255,le>>24&255]}function l(le){return le[3]<<24|le[2]<<16|le[1]<<8|le[0]}function b(le){return ne(le,23,4)}function v(le){return ne(le,52,8)}function o(le,de){P(le[Y],de,{get:function(){return q(this)[de]}})}function a(ke,de,Te,Ae){if(Te=O(Te),ke=q(ke),Te+de>ke.byteLength)throw ie(ee);var Se=q(ke.buffer).bytes,Te=Te+ke.byteOffset,ke=Se.slice(Te,Te+de);return Ae?ke:ke.reverse()}function u(le,de,xe,Ae,Se,Te){if(xe=O(xe),le=q(le),xe+de>le.byteLength)throw ie(ee);for(var ke=q(le.buffer).bytes,Xe=xe+le.byteOffset,Pe=Ae(+Se),mt=0;mt<de;mt++)ke[Xe+mt]=Pe[Te?mt:de-mt-1]}var c=W("../internals/global"),y=W("../internals/descriptors"),h=W("../internals/array-buffer-native"),d=W("../internals/create-non-enumerable-property"),x=W("../internals/redefine-all"),_=W("../internals/fails"),T=W("../internals/an-instance"),k=W("../internals/to-integer"),M=W("../internals/to-length"),O=W("../internals/to-index"),L=W("../internals/ieee754"),F=W("../internals/object-get-prototype-of"),D=W("../internals/object-set-prototype-of"),V=W("../internals/object-get-own-property-names").f,P=W("../internals/object-define-property").f,G=W("../internals/array-fill"),z=W("../internals/set-to-string-tag"),W=W("../internals/internal-state"),q=W.get,Q=W.set,K="ArrayBuffer",Z="DataView",Y="prototype",ee="Wrong index",ae=c[K],A=ae,B=c[Z],W=B&&B[Y],J=Object.prototype,ie=c.RangeError,ne=L.pack,pe=L.unpack;if(h){if(!_(function(){ae(1)})||!_(function(){new ae(-1)})||_(function(){return new ae,new ae(1.5),new ae(NaN),ae.name!=K})){for(var ge,c=(A=function(xe){return T(this,A),new ae(O(xe))})[Y]=ae[Y],he=V(ae),be=0;he.length>be;)(ge=he[be++])in A||d(A,ge,ae[ge]);c.constructor=A}D&&F(W)!==J&&D(W,J);var L=new B(new A(2)),_e=W.setInt8;L.setInt8(0,2147483648),L.setInt8(1,2147483649),!L.getInt8(0)&&L.getInt8(1)||x(W,{setInt8:function(de,xe){_e.call(this,de,xe<<24>>24)},setUint8:function(de,xe){_e.call(this,de,xe<<24>>24)}},{unsafe:!0})}else A=function(le){T(this,A,K),le=O(le),Q(this,{bytes:G.call(new Array(le),0),byteLength:le}),y||(this.byteLength=le)},B=function(le,Se,xe){T(this,B,Z),T(le,A,Z);var Ae=q(le).byteLength,Se=k(Se);if(Se<0||Ae<Se)throw ie("Wrong offset");if(Ae<Se+(xe=xe===void 0?Ae-Se:M(xe)))throw ie("Wrong length");Q(this,{buffer:le,byteLength:xe,byteOffset:Se}),y||(this.buffer=le,this.byteLength=xe,this.byteOffset=Se)},y&&(o(A,"byteLength"),o(B,"buffer"),o(B,"byteLength"),o(B,"byteOffset")),x(B[Y],{getInt8:function(le){return a(this,1,le)[0]<<24>>24},getUint8:function(le){return a(this,1,le)[0]},getInt16:function(le){return le=a(this,2,le,1<arguments.length?arguments[1]:void 0),(le[1]<<8|le[0])<<16>>16},getUint16:function(le){return le=a(this,2,le,1<arguments.length?arguments[1]:void 0),le[1]<<8|le[0]},getInt32:function(le){return l(a(this,4,le,1<arguments.length?arguments[1]:void 0))},getUint32:function(le){return l(a(this,4,le,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(le){return pe(a(this,4,le,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(le){return pe(a(this,8,le,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(le,de){u(this,1,le,f,de)},setUint8:function(le,de){u(this,1,le,f,de)},setInt16:function(le,de){u(this,2,le,p,de,2<arguments.length?arguments[2]:void 0)},setUint16:function(le,de){u(this,2,le,p,de,2<arguments.length?arguments[2]:void 0)},setInt32:function(le,de){u(this,4,le,i,de,2<arguments.length?arguments[2]:void 0)},setUint32:function(le,de){u(this,4,le,i,de,2<arguments.length?arguments[2]:void 0)},setFloat32:function(le,de){u(this,4,le,b,de,2<arguments.length?arguments[2]:void 0)},setFloat64:function(le,de){u(this,8,le,v,de,2<arguments.length?arguments[2]:void 0)}});z(A,K),z(B,Z),j.exports={ArrayBuffer:A,DataView:B}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,j,w){var f=t("../internals/to-object"),p=t("../internals/to-absolute-index"),i=t("../internals/to-length"),l=Math.min;j.exports=[].copyWithin||function(y,v){var o=f(this),a=i(o.length),u=p(y,a),c=p(v,a),y=2<arguments.length?arguments[2]:void 0,h=l((y===void 0?a:p(y,a))-c,a-u),d=1;for(c<u&&u<c+h&&(d=-1,c+=h-1,u+=h-1);0<h--;)c in o?o[u]=o[c]:delete o[u],u+=d,c+=d;return o}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,j,w){var f=t("../internals/to-object"),p=t("../internals/to-absolute-index"),i=t("../internals/to-length");j.exports=function(l){for(var b=f(this),v=i(b.length),a=arguments.length,o=p(1<a?arguments[1]:void 0,v),a=2<a?arguments[2]:void 0,u=a===void 0?v:p(a,v);o<u;)b[o++]=l;return b}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(i,j,w){var f=i("../internals/array-iteration").forEach,p=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),p=p("forEach"),i=i("forEach");j.exports=p&&i?[].forEach:function(l){return f(this,l,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,j,w){var f=t("../internals/function-bind-context"),p=t("../internals/to-object"),i=t("../internals/call-with-safe-iteration-closing"),l=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),v=t("../internals/create-property"),o=t("../internals/get-iterator-method");j.exports=function(T){var u,c,y,h,d,x,_=p(T),T=typeof this=="function"?this:Array,k=arguments.length,M=1<k?arguments[1]:void 0,O=M!==void 0,L=o(_),F=0;if(O&&(M=f(M,2<k?arguments[2]:void 0,2)),L==null||T==Array&&l(L))for(c=new T(u=b(_.length));F<u;F++)x=O?M(_[F],F):_[F],v(c,F,x);else for(d=(h=L.call(_)).next,c=new T;!(y=d.call(h)).done;F++)x=O?i(h,M,[y.value,F],!0):y.value,v(c,F,x);return c.length=F,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,j,w){function f(b){return function(v,o,a){var u,c=p(v),y=i(c.length),h=l(a,y);if(b&&o!=o){for(;h<y;)if((u=c[h++])!=u)return!0}else for(;h<y;h++)if((b||h in c)&&c[h]===o)return b||h||0;return!b&&-1}}var p=t("../internals/to-indexed-object"),i=t("../internals/to-length"),l=t("../internals/to-absolute-index");j.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,j,w){function f(a){var u=a==1,c=a==2,y=a==3,h=a==4,d=a==6,x=a==5||d;return function(_,T,k,M){for(var O,L,F=l(_),D=i(F),V=p(T,k,3),P=b(D.length),G=0,T=M||v,z=u?T(_,P):c?T(_,0):void 0;G<P;G++)if((x||G in D)&&(L=V(O=D[G],G,F),a)){if(u)z[G]=L;else if(L)switch(a){case 3:return!0;case 5:return O;case 6:return G;case 2:o.call(z,O)}else if(h)return!1}return d?-1:y||h?h:z}}var p=t("../internals/function-bind-context"),i=t("../internals/indexed-object"),l=t("../internals/to-object"),b=t("../internals/to-length"),v=t("../internals/array-species-create"),o=[].push;j.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(a,j,w){var f=a("../internals/to-indexed-object"),p=a("../internals/to-integer"),i=a("../internals/to-length"),o=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),l=Math.min,b=[].lastIndexOf,v=!!b&&1/[1].lastIndexOf(1,-0)<0,o=o("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0});j.exports=v||!o||!a?function(u){if(v)return b.apply(this,arguments)||0;var c=f(this),y=i(c.length),h=y-1;for((h=1<arguments.length?l(h,p(arguments[1])):h)<0&&(h=y+h);0<=h;h--)if(h in c&&c[h]===u)return h||0;return-1}:b},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,j,w){var f=t("../internals/fails"),p=t("../internals/well-known-symbol"),i=t("../internals/engine-v8-version"),l=p("species");j.exports=function(b){return 51<=i||!f(function(){var v=[];return(v.constructor={})[l]=function(){return{foo:1}},v[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,j,w){var f=t("../internals/fails");j.exports=function(p,i){var l=[][p];return!!l&&f(function(){l.call(null,i||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,j,w){function f(o){throw o}var p=t("../internals/descriptors"),i=t("../internals/fails"),l=t("../internals/has"),b=Object.defineProperty,v={};j.exports=function(o,a){var u,c,y,h;return l(v,o)?v[o]:(u=[][o],c=!!l(a=a||{},"ACCESSORS")&&a.ACCESSORS,y=l(a,0)?a[0]:f,h=l(a,1)?a[1]:void 0,v[o]=!!u&&!i(function(){if(c&&!p)return!0;var d={length:-1};c?b(d,1,{enumerable:!0,get:f}):d[1]=1,u.call(d,y,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,j,w){function f(v){return function(o,a,u,c){p(a);var y=i(o),h=l(y),d=b(y.length),x=v?d-1:0,_=v?-1:1;if(u<2)for(;;){if(x in h){c=h[x],x+=_;break}if(x+=_,v?x<0:d<=x)throw TypeError("Reduce of empty array with no initial value")}for(;v?0<=x:x<d;x+=_)x in h&&(c=a(c,h[x],x,y));return c}}var p=t("../internals/a-function"),i=t("../internals/to-object"),l=t("../internals/indexed-object"),b=t("../internals/to-length");j.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,j,w){var f=t("../internals/is-object"),p=t("../internals/is-array"),i=t("../internals/well-known-symbol")("species");j.exports=function(l,b){var v;return new((v=p(l)&&(typeof(v=l.constructor)=="function"&&(v===Array||p(v.prototype))||f(v)&&(v=v[i])===null)?void 0:v)===void 0?Array:v)(b===0?0:b)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,j,w){var f=t("../internals/an-object");j.exports=function(p,i,l,b){try{return b?i(f(l)[0],l[1]):i(l)}catch(v){throw b=p.return,b!==void 0&&f(b.call(p)),v}}},{"../internals/an-object":10}],27:[function(t,j,w){var f=t("../internals/well-known-symbol")("iterator"),p=!1;try{var i=0,l={next:function(){return{done:!!i++}},return:function(){p=!0}};l[f]=function(){return this},Array.from(l,function(){throw 2})}catch{}j.exports=function(b,v){if(!v&&!p)return!1;var o=!1;try{var a={};a[f]=function(){return{next:function(){return{done:o=!0}}}},b(a)}catch{}return o}},{"../internals/well-known-symbol":150}],28:[function(t,j,w){var f={}.toString;j.exports=function(p){return f.call(p).slice(8,-1)}},{}],29:[function(t,j,w){var f=t("../internals/to-string-tag-support"),p=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),l=p(function(){return arguments}())=="Arguments";j.exports=f?p:function(b){var v;return b===void 0?"Undefined":b===null?"Null":typeof(v=function(o,a){try{return o[a]}catch{}}(b=Object(b),i))=="string"?v:l?p(b):(v=p(b))=="Object"&&typeof b.callee=="function"?"Arguments":v}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(y,j,w){var f=y("../internals/object-define-property").f,p=y("../internals/object-create"),i=y("../internals/redefine-all"),l=y("../internals/function-bind-context"),b=y("../internals/an-instance"),v=y("../internals/iterate"),o=y("../internals/define-iterator"),a=y("../internals/set-species"),u=y("../internals/descriptors"),c=y("../internals/internal-metadata").fastKey,y=y("../internals/internal-state"),h=y.set,d=y.getterFor;j.exports={getConstructor:function(x,_,T,k){function M(D,V,P){var G,z=F(D),q=O(D,V);return q?q.value=P:(z.last=q={index:G=c(V,!0),key:V,value:P,previous:V=z.last,next:void 0,removed:!1},z.first||(z.first=q),V&&(V.next=q),u?z.size++:D.size++,G!=="F"&&(z.index[G]=q)),D}function O(G,V){var P,G=F(G),z=c(V);if(z!=="F")return G.index[z];for(P=G.first;P;P=P.next)if(P.key==V)return P}var L=x(function(D,V){b(D,L,_),h(D,{type:_,index:p(null),first:void 0,last:void 0,size:0}),u||(D.size=0),V!=null&&v(V,D[k],D,T)}),F=d(_);return i(L.prototype,{clear:function(){for(var D=F(this),V=D.index,P=D.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete V[P.index],P=P.next;D.first=D.last=void 0,u?D.size=0:this.size=0},delete:function(z){var V,P,G=F(this),z=O(this,z);return z&&(V=z.next,P=z.previous,delete G.index[z.index],z.removed=!0,P&&(P.next=V),V&&(V.previous=P),G.first==z&&(G.first=V),G.last==z&&(G.last=P),u?G.size--:this.size--),!!z},forEach:function(D){for(var V,P=F(this),G=l(D,1<arguments.length?arguments[1]:void 0,3);V=V?V.next:P.first;)for(G(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(D){return!!O(this,D)}}),i(L.prototype,T?{get:function(D){return D=O(this,D),D&&D.value},set:function(D,V){return M(this,D===0?0:D,V)}}:{add:function(D){return M(this,D=D===0?0:D,D)}}),u&&f(L.prototype,"size",{get:function(){return F(this).size}}),L},setStrong:function(x,_,T){var k=_+" Iterator",M=d(_),O=d(k);o(x,_,function(L,F){h(this,{type:k,target:L,state:M(L),kind:F,last:void 0})},function(){for(var L=O(this),F=L.kind,D=L.last;D&&D.removed;)D=D.previous;return L.target&&(L.last=D=D?D.next:L.state.first)?F=="keys"?{value:D.key,done:!1}:F=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}:{value:L.target=void 0,done:!0}},T?"entries":"values",!T,!0),a(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(h,j,w){function f(M){return M.frozen||(M.frozen=new p)}function p(){this.entries=[]}function i(M,O){return _(M.entries,function(L){return L[0]===O})}var l=h("../internals/redefine-all"),b=h("../internals/internal-metadata").getWeakData,v=h("../internals/an-object"),o=h("../internals/is-object"),a=h("../internals/an-instance"),u=h("../internals/iterate"),c=h("../internals/array-iteration"),y=h("../internals/has"),h=h("../internals/internal-state"),d=h.set,x=h.getterFor,_=c.find,T=c.findIndex,k=0;p.prototype={get:function(M){if(M=i(this,M),M)return M[1]},has:function(M){return!!i(this,M)},set:function(M,O){var L=i(this,M);L?L[1]=O:this.entries.push([M,O])},delete:function(M){var O=T(this.entries,function(L){return L[0]===M});return~O&&this.entries.splice(O,1),!!~O}},j.exports={getConstructor:function(M,O,L,F){function D(G,z,q){var Q=P(G),K=b(v(z),!0);return K===!0?f(Q).set(z,q):K[Q.id]=q,G}var V=M(function(G,z){a(G,V,O),d(G,{type:O,id:k++,frozen:void 0}),z!=null&&u(z,G[F],G,L)}),P=x(O);return l(V.prototype,{delete:function(G){var z,q=P(this);return!!o(G)&&((z=b(G))===!0?f(q).delete(G):z&&y(z,q.id)&&delete z[q.id])},has:function(G){var z,q=P(this);return!!o(G)&&((z=b(G))===!0?f(q).has(G):z&&y(z,q.id))}}),l(V.prototype,L?{get:function(G){var z,q=P(this);if(o(G))return(z=b(G))===!0?f(q).get(G):z?z[q.id]:void 0},set:function(G,z){return D(this,G,z)}}:{add:function(G){return D(this,G,!0)}}),V}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/global"),i=t("../internals/is-forced"),l=t("../internals/redefine"),b=t("../internals/internal-metadata"),v=t("../internals/iterate"),o=t("../internals/an-instance"),a=t("../internals/is-object"),u=t("../internals/fails"),c=t("../internals/check-correctness-of-iteration"),y=t("../internals/set-to-string-tag"),h=t("../internals/inherit-if-required");j.exports=function(d,x,_){function T(K){var Z=z[K];l(z,K,K=="add"?function(Y){return Z.call(this,Y===0?0:Y),this}:K=="delete"?function(Y){return!(V&&!a(Y))&&Z.call(this,Y===0?0:Y)}:K=="get"?function(Y){return V&&!a(Y)?void 0:Z.call(this,Y===0?0:Y)}:K=="has"?function(Y){return!(V&&!a(Y))&&Z.call(this,Y===0?0:Y)}:function(Y,ee){return Z.call(this,Y===0?0:Y,ee),this})}var k,M,O,L,F,D=d.indexOf("Map")!==-1,V=d.indexOf("Weak")!==-1,P=D?"set":"add",G=p[d],z=G&&G.prototype,q=G,Q={};return i(d,typeof G!="function"||!(V||z.forEach&&!u(function(){new G().entries().next()})))?(q=_.getConstructor(x,d,D,P),b.REQUIRED=!0):i(d,!0)&&(M=(k=new q)[P](V?{}:-0,1)!=k,O=u(function(){k.has(1)}),L=c(function(K){new G(K)}),F=!V&&u(function(){for(var K=new G,Z=5;Z--;)K[P](Z,Z);return!K.has(-0)}),L||(((q=x(function(K,Z){return o(K,q,d),K=h(new G,K,q),Z!=null&&v(Z,K[P],K,D),K})).prototype=z).constructor=q),(O||F)&&(T("delete"),T("has"),D&&T("get")),(F||M)&&T(P),V&&z.clear&&delete z.clear),Q[d]=q,f({global:!0,forced:q!=G},Q),y(q,d),V||_.setStrong(q,d,D),q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,j,w){var f=t("../internals/has"),p=t("../internals/own-keys"),i=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");j.exports=function(b,v){for(var o=p(v),a=l.f,u=i.f,c=0;c<o.length;c++){var y=o[c];f(b,y)||a(b,y,u(v,y))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,j,w){var f=t("../internals/well-known-symbol")("match");j.exports=function(p){var i=/./;try{"/./"[p](i)}catch{try{return i[f]=!1,"/./"[p](i)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,j,w){t=t("../internals/fails"),j.exports=!t(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(t,j,w){var f=t("../internals/require-object-coercible"),p=/"/g;j.exports=function(o,l,b,v){var o=String(f(o)),a="<"+l;return b!==""&&(a+=" "+b+'="'+String(v).replace(p,"&quot;")+'"'),a+">"+o+"</"+l+">"}},{"../internals/require-object-coercible":115}],37:[function(t,j,w){function f(){return this}var p=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),l=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),v=t("../internals/iterators");j.exports=function(o,a,u){return a+=" Iterator",o.prototype=i(p,{next:l(1,u)}),b(o,a,!1,!0),v[a]=f,o}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");j.exports=f?function(l,b,v){return p.f(l,b,i(1,v))}:function(l,b,v){return l[b]=v,l}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,j,w){j.exports=function(f,p){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:p}}},{}],40:[function(t,j,w){var f=t("../internals/to-primitive"),p=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");j.exports=function(l,b,v){b=f(b),b in l?p.f(l,b,i(0,v)):l[b]=v}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(h,j,w){function f(){return this}var p=h("../internals/export"),i=h("../internals/create-iterator-constructor"),l=h("../internals/object-get-prototype-of"),b=h("../internals/object-set-prototype-of"),v=h("../internals/set-to-string-tag"),o=h("../internals/create-non-enumerable-property"),a=h("../internals/redefine"),u=h("../internals/well-known-symbol"),c=h("../internals/is-pure"),y=h("../internals/iterators"),h=h("../internals/iterators-core"),d=h.IteratorPrototype,x=h.BUGGY_SAFARI_ITERATORS,_=u("iterator"),T="values",k="entries";j.exports=function(M,O,L,Q,D,V,P){i(L,O,Q);function G(A){if(A===D&&ee)return ee;if(!x&&A in Z)return Z[A];switch(A){case"keys":case T:case k:return function(){return new L(this,A)}}return function(){return new L(this)}}var z,q,Q=O+" Iterator",K=!1,Z=M.prototype,Y=Z[_]||Z["@@iterator"]||D&&Z[D],ee=!x&&Y||G(D),ae=O=="Array"&&Z.entries||Y;if(ae&&(ae=l(ae.call(new M)),d!==Object.prototype&&ae.next&&(c||l(ae)===d||(b?b(ae,d):typeof ae[_]!="function"&&o(ae,_,f)),v(ae,Q,!0,!0),c&&(y[Q]=f))),D==T&&Y&&Y.name!==T&&(K=!0,ee=function(){return Y.call(this)}),c&&!P||Z[_]===ee||o(Z,_,ee),y[O]=ee,D)if(z={values:G(T),keys:V?ee:G("keys"),entries:G(k)},P)for(q in z)!x&&!K&&q in Z||a(Z,q,z[q]);else p({target:O,proto:!0,forced:x||K},z);return z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,j,w){var f=t("../internals/path"),p=t("../internals/has"),i=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;j.exports=function(b){var v=f.Symbol||(f.Symbol={});p(v,b)||l(v,b,{value:i.f(b)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,j,w){t=t("../internals/fails"),j.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(p,j,w){var f=p("../internals/global"),p=p("../internals/is-object"),i=f.document,l=p(i)&&p(i.createElement);j.exports=function(b){return l?i.createElement(b):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,j,w){j.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,j,w){t=t("../internals/engine-user-agent"),j.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,j,w){t=t("../internals/get-built-in"),j.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(i,j,w){var f,p,l=i("../internals/global"),i=i("../internals/engine-user-agent"),l=l.process,l=l&&l.versions,l=l&&l.v8;l?p=(f=l.split("."))[0]+f[1]:i&&(!(f=i.match(/Edge\/(\d+)/))||74<=f[1])&&(f=i.match(/Chrome\/(\d+)/))&&(p=f[1]),j.exports=p&&+p},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,j,w){j.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,j,w){var f=t("../internals/global"),p=t("../internals/object-get-own-property-descriptor").f,i=t("../internals/create-non-enumerable-property"),l=t("../internals/redefine"),b=t("../internals/set-global"),v=t("../internals/copy-constructor-properties"),o=t("../internals/is-forced");j.exports=function(a,u){var c,y,h,d=a.target,x=a.global,_=a.stat,T=x?f:_?f[d]||b(d,{}):(f[d]||{}).prototype;if(T)for(c in u){if(y=u[c],h=a.noTargetGet?(h=p(T,c))&&h.value:T[c],!o(x?c:d+(_?".":"#")+c,a.forced)&&h!==void 0){if(typeof y==typeof h)continue;v(y,h)}(a.sham||h&&h.sham)&&i(y,"sham",!0),l(T,c,y,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,j,w){j.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(u,j,w){u("../modules/es.regexp.exec");var f=u("../internals/redefine"),p=u("../internals/fails"),i=u("../internals/well-known-symbol"),l=u("../internals/regexp-exec"),b=u("../internals/create-non-enumerable-property"),v=i("species"),o=!p(function(){var h=/./;return h.exec=function(){var d=[];return d.groups={a:"7"},d},"".replace(h,"$<a>")!=="7"}),a="a".replace(/./,"$0")==="$0",u=i("replace"),c=!!/./[u]&&/./[u]("a","$0")==="",y=!p(function(){var d=/(?:)/,h=d.exec,d=(d.exec=function(){return h.apply(this,arguments)},"ab".split(d));return d.length!==2||d[0]!=="a"||d[1]!=="b"});j.exports=function(h,d,x,_){var T,k,M=i(h),O=!p(function(){var F={};return F[M]=function(){return 7},""[h](F)!=7}),L=O&&!p(function(){var F=!1,D=/a/;return h==="split"&&((D={constructor:{}}).constructor[v]=function(){return D},D.flags="",D[M]=/./[M]),D.exec=function(){return F=!0,null},D[M](""),!F});O&&L&&(h!=="replace"||o&&a&&!c)&&(h!=="split"||y)||(T=/./[M],x=(L=x(M,""[h],function(F,D,V,P,G){return D.exec===l?O&&!G?{done:!0,value:T.call(D,V,P)}:{done:!0,value:F.call(V,D,P)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}))[0],k=L[1],f(String.prototype,h,x),f(RegExp.prototype,M,d==2?function(F,D){return k.call(F,this,D)}:function(F){return k.call(F,this)})),_&&b(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,j,w){function f(b,v,o,a,u,c,y,h){for(var d,x=u,_=0,T=!!y&&l(y,h,3);_<a;){if(_ in o){if(d=T?T(o[_],_,v):o[_],0<c&&p(d))x=f(b,v,d,i(d.length),x,c-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");b[x]=d}x++}_++}return x}var p=t("../internals/is-array"),i=t("../internals/to-length"),l=t("../internals/function-bind-context");j.exports=f},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,j,w){t=t("../internals/fails"),j.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,j,w){var f=t("../internals/a-function");j.exports=function(p,i,l){if(f(p),i===void 0)return p;switch(l){case 0:return function(){return p.call(i)};case 1:return function(b){return p.call(i,b)};case 2:return function(b,v){return p.call(i,b,v)};case 3:return function(b,v,o){return p.call(i,b,v,o)}}return function(){return p.apply(i,arguments)}}},{"../internals/a-function":5}],56:[function(t,j,w){var f=t("../internals/a-function"),p=t("../internals/is-object"),i=[].slice,l={};j.exports=Function.bind||function(b){var v=f(this),o=i.call(arguments,1),a=function(){var u=o.concat(i.call(arguments));if(this instanceof a){var c=v,y=u.length,h=u;if(!(y in l)){for(var d=[],x=0;x<y;x++)d[x]="a["+x+"]";l[y]=Function("C,a","return new C("+d.join(",")+")")}return l[y](c,h)}return v.apply(b,u)};return p(v.prototype)&&(a.prototype=v.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,j,w){function f(l){return typeof l=="function"?l:void 0}var p=t("../internals/path"),i=t("../internals/global");j.exports=function(l,b){return arguments.length<2?f(p[l])||f(i[l]):p[l]&&p[l][b]||i[l]&&i[l][b]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,j,w){var f=t("../internals/classof"),p=t("../internals/iterators"),i=t("../internals/well-known-symbol")("iterator");j.exports=function(l){if(l!=null)return l[i]||l["@@iterator"]||p[f(l)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,j,w){var f=t("../internals/an-object"),p=t("../internals/get-iterator-method");j.exports=function(i){var l=p(i);if(typeof l!="function")throw TypeError(String(i)+" is not iterable");return f(l.call(i))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,j,w){(function(f){function p(i){return i&&i.Math==Math&&i}j.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,j,w){var f={}.hasOwnProperty;j.exports=function(p,i){return f.call(p,i)}},{}],62:[function(t,j,w){j.exports={}},{}],63:[function(t,j,w){var f=t("../internals/global");j.exports=function(p,i){var l=f.console;l&&l.error&&(arguments.length===1?l.error(p):l.error(p,i))}},{"../internals/global":60}],64:[function(t,j,w){t=t("../internals/get-built-in"),j.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/fails"),i=t("../internals/document-create-element");j.exports=!f&&!p(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,j,w){var f=Math.abs,p=Math.pow,i=Math.floor,l=Math.log,b=Math.LN2;j.exports={pack:function(v,o,x){var u,c,y,h=new Array(x),d=8*x-o-1,x=(1<<d)-1,_=x>>1,T=o===23?p(2,-24)-p(2,-77):0,k=v<0||v===0&&1/v<0?1:0,M=0;for((v=f(v))!=v||v===1/0?(c=v!=v?1:0,u=x):(u=i(l(v)/b),v*(y=p(2,-u))<1&&(u--,y*=2),2<=(v+=1<=u+_?T/y:T*p(2,1-_))*y&&(u++,y/=2),x<=u+_?(c=0,u=x):1<=u+_?(c=(v*y-1)*p(2,o),u+=_):(c=v*p(2,_-1)*p(2,o),u=0));8<=o;h[M++]=255&c,c/=256,o-=8);for(u=u<<o|c,d+=o;0<d;h[M++]=255&u,u/=256,d-=8);return h[--M]|=128*k,h},unpack:function(v,o){var a,u=v.length,x=8*u-o-1,c=(1<<x)-1,y=c>>1,h=x-7,d=u-1,x=v[d--],_=127&x;for(x>>=7;0<h;_=256*_+v[d],d--,h-=8);for(a=_&(1<<-h)-1,_>>=-h,h+=o;0<h;a=256*a+v[d],d--,h-=8);if(_===0)_=1-y;else{if(_===c)return a?NaN:x?-1/0:1/0;a+=p(2,o),_-=y}return(x?-1:1)*a*p(2,_-o)}}},{}],67:[function(t,j,w){var f=t("../internals/fails"),p=t("../internals/classof-raw"),i="".split;j.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return p(l)=="String"?i.call(l,""):Object(l)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,j,w){var f=t("../internals/is-object"),p=t("../internals/object-set-prototype-of");j.exports=function(i,l,b){return p&&typeof(l=l.constructor)=="function"&&l!==b&&f(l=l.prototype)&&l!==b.prototype&&p(i,l),i}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(f,j,w){var f=f("../internals/shared-store"),p=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(i){return p.call(i)}),j.exports=f.inspectSource},{"../internals/shared-store":121}],70:[function(t,j,w){function f(h){b(h,a,{value:{objectID:"O"+ ++u,weakData:{}}})}var p=t("../internals/hidden-keys"),i=t("../internals/is-object"),l=t("../internals/has"),b=t("../internals/object-define-property").f,v=t("../internals/uid"),o=t("../internals/freezing"),a=v("meta"),u=0,c=Object.isExtensible||function(){return!0},y=j.exports={REQUIRED:!1,fastKey:function(h,d){if(!i(h))return typeof h=="symbol"?h:(typeof h=="string"?"S":"P")+h;if(!l(h,a)){if(!c(h))return"F";if(!d)return"E";f(h)}return h[a].objectID},getWeakData:function(h,d){if(!l(h,a)){if(!c(h))return!0;if(!d)return!1;f(h)}return h[a].weakData},onFreeze:function(h){return o&&y.REQUIRED&&c(h)&&!l(h,a)&&f(h),h}};p[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(x,j,w){var f,p,i,l,b,v,o,a,u=x("../internals/native-weak-map"),_=x("../internals/global"),c=x("../internals/is-object"),y=x("../internals/create-non-enumerable-property"),h=x("../internals/has"),d=x("../internals/shared-key"),x=x("../internals/hidden-keys"),_=_.WeakMap;o=u?(f=new _,p=f.get,i=f.has,l=f.set,b=function(T,k){return l.call(f,T,k),k},v=function(T){return p.call(f,T)||{}},function(T){return i.call(f,T)}):(x[a=d("state")]=!0,b=function(T,k){return y(T,a,k),k},v=function(T){return h(T,a)?T[a]:{}},function(T){return h(T,a)}),j.exports={set:b,get:v,has:o,enforce:function(T){return o(T)?v(T):b(T,{})},getterFor:function(T){return function(k){if(c(k)&&(k=v(k)).type===T)return k;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,j,w){var f=t("../internals/well-known-symbol"),p=t("../internals/iterators"),i=f("iterator"),l=Array.prototype;j.exports=function(b){return b!==void 0&&(p.Array===b||l[i]===b)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,j,w){var f=t("../internals/classof-raw");j.exports=Array.isArray||function(p){return f(p)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,j,w){function f(a,u){return(a=b[l(a)])==o||a!=v&&(typeof u=="function"?p(u):!!u)}var p=t("../internals/fails"),i=/#|\.prototype\./,l=f.normalize=function(a){return String(a).replace(i,".").toLowerCase()},b=f.data={},v=f.NATIVE="N",o=f.POLYFILL="P";j.exports=f},{"../internals/fails":51}],75:[function(t,j,w){j.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],76:[function(t,j,w){j.exports=!1},{}],77:[function(t,j,w){var f=t("../internals/is-object"),p=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("match");j.exports=function(l){var b;return f(l)&&((b=l[i])!==void 0?!!b:p(l)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,j,w){function f(a,u){this.stopped=a,this.result=u}var p=t("../internals/an-object"),i=t("../internals/is-array-iterator-method"),l=t("../internals/to-length"),b=t("../internals/function-bind-context"),v=t("../internals/get-iterator-method"),o=t("../internals/call-with-safe-iteration-closing");(j.exports=function(a,u,c,y,h){var d,x,_,T,k,M,O=b(u,c,y?2:1);if(h)d=a;else{if(typeof(u=v(a))!="function")throw TypeError("Target is not iterable");if(i(u)){for(x=0,_=l(a.length);x<_;x++)if((T=y?O(p(M=a[x])[0],M[1]):O(a[x]))&&T instanceof f)return T;return new f(!1)}d=u.call(a)}for(k=d.next;!(M=k.call(d)).done;)if(typeof(T=o(d,O,M.value,y))=="object"&&T&&T instanceof f)return T;return new f(!1)}).stop=function(a){return new f(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(v,j,w){var f,p,i=v("../internals/object-get-prototype-of"),l=v("../internals/create-non-enumerable-property"),b=v("../internals/has"),o=v("../internals/well-known-symbol"),v=v("../internals/is-pure"),o=o("iterator"),a=!1;[].keys&&("next"in(p=[].keys())?(i=i(i(p)))!==Object.prototype&&(f=i):a=!0),f==null&&(f={}),v||b(f,o)||l(f,o,function(){return this}),j.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,j,w){j.exports={}},{}],81:[function(t,j,w){j.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],82:[function(y,j,w){var f,p,i,l,b,v,o,a,u=y("../internals/global"),k=y("../internals/object-get-own-property-descriptor").f,T=y("../internals/classof-raw"),c=y("../internals/task").set,y=y("../internals/engine-is-ios"),h=u.MutationObserver||u.WebKitMutationObserver,d=u.process,x=u.Promise,_=T(d)=="process",T=k(u,"queueMicrotask"),k=T&&T.value;k||(f=function(){var M,O;for(_&&(M=d.domain)&&M.exit();p;){O=p.fn,p=p.next;try{O()}catch(L){throw p?l():i=void 0,L}}i=void 0,M&&M.enter()},l=_?function(){d.nextTick(f)}:h&&!y?(b=!0,v=document.createTextNode(""),new h(f).observe(v,{characterData:!0}),function(){v.data=b=!b}):x&&x.resolve?(o=x.resolve(void 0),a=o.then,function(){a.call(o,f)}):function(){c.call(u,f)}),j.exports=k||function(M){M={fn:M,next:void 0},i&&(i.next=M),p||(p=M,l()),i=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,j,w){t=t("../internals/global"),j.exports=t.Promise},{"../internals/global":60}],84:[function(t,j,w){t=t("../internals/fails"),j.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,j,w){var f=t("../internals/fails"),p=t("../internals/well-known-symbol"),i=t("../internals/is-pure"),l=p("iterator");j.exports=!f(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),v=b.searchParams,o="";return b.pathname="c%20d",v.forEach(function(a,u){v.delete("b"),o+=u+a}),i&&!b.toJSON||!v.sort||b.href!=="http://a/c%20d?a=1&c=3"||v.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!v[l]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||o!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(f,j,w){var p=f("../internals/global"),f=f("../internals/inspect-source"),p=p.WeakMap;j.exports=typeof p=="function"&&/native code/.test(f(p))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,j,w){function f(i){var l,b;this.promise=new i(function(v,o){if(l!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");l=v,b=o}),this.resolve=p(l),this.reject=p(b)}var p=t("../internals/a-function");j.exports.f=function(i){return new f(i)}},{"../internals/a-function":5}],88:[function(t,j,w){var f=t("../internals/is-regexp");j.exports=function(p){if(f(p))throw TypeError("The method doesn't accept regular expressions");return p}},{"../internals/is-regexp":77}],89:[function(t,j,w){var f=t("../internals/global").isFinite;j.exports=Number.isFinite||function(p){return typeof p=="number"&&f(p)}},{"../internals/global":60}],90:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/fails"),i=t("../internals/object-keys"),l=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),v=t("../internals/to-object"),o=t("../internals/indexed-object"),a=Object.assign,u=Object.defineProperty;j.exports=!a||p(function(){var c,y,h,d;return!(!f||a({b:1},a(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(y={},d="abcdefghijklmnopqrst",(c={})[h=Symbol()]=7,d.split("").forEach(function(x){y[x]=x}),a({},c)[h]!=7||i(a({},y)).join("")!=d)})?function(c,y){for(var h=v(c),d=arguments.length,x=1,_=l.f,T=b.f;x<d;)for(var k,M=o(arguments[x++]),O=_?i(M).concat(_(M)):i(M),L=O.length,F=0;F<L;)k=O[F++],f&&!T.call(M,k)||(h[k]=M[k]);return h}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(u,j,w){function f(){}var p,i=u("../internals/an-object"),l=u("../internals/object-define-properties"),b=u("../internals/enum-bug-keys"),v=u("../internals/hidden-keys"),o=u("../internals/html"),a=u("../internals/document-create-element"),u=u("../internals/shared-key"),c="prototype",y="script",h=u("IE_PROTO"),d=function(_){return"<"+y+">"+_+"</"+y+">"},x=function(){try{p=document.domain&&new ActiveXObject("htmlfile")}catch{}x=p?((_=p).write(d("")),_.close(),T=_.parentWindow.Object,_=null,T):(_=a("iframe"),T="java"+y+":",_.style.display="none",o.appendChild(_),_.src=String(T),(T=_.contentWindow.document).open(),T.write(d("document.F=Object")),T.close(),T.F);for(var _,T,k=b.length;k--;)delete x[c][b[k]];return x()};v[h]=!0,j.exports=Object.create||function(_,T){var k;return _!==null?(f[c]=i(_),k=new f,f[c]=null,k[h]=_):k=x(),T===void 0?k:l(k,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/object-define-property"),i=t("../internals/an-object"),l=t("../internals/object-keys");j.exports=f?Object.defineProperties:function(b,v){i(b);for(var o,a=l(v),u=a.length,c=0;c<u;)p.f(b,o=a[c++],v[o]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/ie8-dom-define"),i=t("../internals/an-object"),l=t("../internals/to-primitive"),b=Object.defineProperty;w.f=f?b:function(v,o,a){if(i(v),o=l(o,!0),i(a),p)try{return b(v,o,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(v[o]=a.value),v}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),l=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),v=t("../internals/has"),o=t("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;w.f=f?a:function(u,c){if(u=l(u),c=b(c,!0),o)try{return a(u,c)}catch{}if(v(u,c))return i(!p.f.call(u,c),u[c])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,j,w){var f=t("../internals/to-indexed-object"),p=t("../internals/object-get-own-property-names").f,i={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];j.exports.f=function(b){if(!l||i.call(b)!="[object Window]")return p(f(b));try{return p(b)}catch{return l.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,j,w){var f=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys").concat("length","prototype");w.f=Object.getOwnPropertyNames||function(i){return f(i,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,j,w){w.f=Object.getOwnPropertySymbols},{}],98:[function(l,j,w){var f=l("../internals/has"),p=l("../internals/to-object"),i=l("../internals/shared-key"),l=l("../internals/correct-prototype-getter"),b=i("IE_PROTO"),v=Object.prototype;j.exports=l?Object.getPrototypeOf:function(o){return o=p(o),f(o,b)?o[b]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?v:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,j,w){var f=t("../internals/has"),p=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,l=t("../internals/hidden-keys");j.exports=function(b,v){var o,a=p(b),u=0,c=[];for(o in a)!f(l,o)&&f(a,o)&&c.push(o);for(;v.length>u;)!f(a,o=v[u++])||~i(c,o)||c.push(o);return c}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,j,w){var f=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys");j.exports=Object.keys||function(i){return f(i,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,j,w){var f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,i=p&&!f.call({1:2},1);w.f=i?function(l){return l=p(this,l),!!l&&l.enumerable}:f},{}],102:[function(t,j,w){var f=t("../internals/an-object"),p=t("../internals/a-possible-prototype");j.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,l=!1,b={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),l=b instanceof Array}catch{}return function(v,o){return f(v),p(o),l?i.call(v,o):v.__proto__=o,v}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,j,w){function f(v){return function(o){for(var a,u=l(o),c=i(u),y=c.length,h=0,d=[];h<y;)a=c[h++],p&&!b.call(u,a)||d.push(v?[a,u[a]]:u[a]);return d}}var p=t("../internals/descriptors"),i=t("../internals/object-keys"),l=t("../internals/to-indexed-object"),b=t("../internals/object-property-is-enumerable").f;j.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,j,w){var f=t("../internals/to-string-tag-support"),p=t("../internals/classof");j.exports=f?{}.toString:function(){return"[object "+p(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,j,w){var f=t("../internals/get-built-in"),p=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),l=t("../internals/an-object");j.exports=f("Reflect","ownKeys")||function(b){var v=p.f(l(b)),o=i.f;return o?v.concat(o(b)):v}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,j,w){t=t("../internals/global"),j.exports=t},{"../internals/global":60}],107:[function(t,j,w){j.exports=function(f){try{return{error:!1,value:f()}}catch(p){return{error:!0,value:p}}}},{}],108:[function(t,j,w){var f=t("../internals/an-object"),p=t("../internals/is-object"),i=t("../internals/new-promise-capability");j.exports=function(l,b){return f(l),p(b)&&b.constructor===l?b:((0,(l=i.f(l)).resolve)(b),l.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,j,w){var f=t("../internals/redefine");j.exports=function(p,i,l){for(var b in i)f(p,b,i[b],l);return p}},{"../internals/redefine":110}],110:[function(v,j,w){var f=v("../internals/global"),p=v("../internals/create-non-enumerable-property"),i=v("../internals/has"),l=v("../internals/set-global"),b=v("../internals/inspect-source"),v=v("../internals/internal-state"),o=v.get,a=v.enforce,u=String(String).split("String");(j.exports=function(c,y,h,T){var x=!!T&&!!T.unsafe,_=!!T&&!!T.enumerable,T=!!T&&!!T.noTargetGet;typeof h=="function"&&(typeof y!="string"||i(h,"name")||p(h,"name",y),a(h).source=u.join(typeof y=="string"?y:"")),c===f?_?c[y]=h:l(y,h):(x?!T&&c[y]&&(_=!0):delete c[y],_?c[y]=h:p(c,y,h))})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,j,w){var f=t("./classof-raw"),p=t("./regexp-exec");j.exports=function(i,l){var b=i.exec;if(typeof b=="function"){if(b=b.call(i,l),typeof b!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(f(i)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return p.call(i,l)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(l,j,w){var f,p,i=l("./regexp-flags"),l=l("./regexp-sticky-helpers"),b=RegExp.prototype.exec,v=String.prototype.replace,o=b,a=(f=/a/,p=/b*/g,b.call(f,"a"),b.call(p,"a"),f.lastIndex!==0||p.lastIndex!==0),u=l.UNSUPPORTED_Y||l.BROKEN_CARET,c=/()??/.exec("")[1]!==void 0;j.exports=o=a||c||u?function(y){var h,d,x,_,T=this,k=u&&T.sticky,M=i.call(T),O=T.source,L=0,F=y;return k&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),F=String(y).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&y[T.lastIndex-1]!==`
`)&&(O="(?: "+O+")",F=" "+F,L++),d=new RegExp("^(?:"+O+")",M)),c&&(d=new RegExp("^"+O+"$(?!\\s)",M)),a&&(h=T.lastIndex),x=b.call(k?d:T,F),k?x?(x.input=x.input.slice(L),x[0]=x[0].slice(L),x.index=T.lastIndex,T.lastIndex+=x[0].length):T.lastIndex=0:a&&x&&(T.lastIndex=T.global?x.index+x[0].length:h),c&&x&&1<x.length&&v.call(x[0],d,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}:o},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,j,w){var f=t("../internals/an-object");j.exports=function(){var p=f(this),i="";return p.global&&(i+="g"),p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.dotAll&&(i+="s"),p.unicode&&(i+="u"),p.sticky&&(i+="y"),i}},{"../internals/an-object":10}],114:[function(t,j,w){t=t("./fails");function f(p,i){return RegExp(p,i)}w.UNSUPPORTED_Y=t(function(){var p=f("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),w.BROKEN_CARET=t(function(){var p=f("^r","gy");return p.lastIndex=2,p.exec("str")!=null})},{"./fails":51}],115:[function(t,j,w){j.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],116:[function(t,j,w){j.exports=Object.is||function(f,p){return f===p?f!==0||1/f==1/p:f!=f&&p!=p}},{}],117:[function(t,j,w){var f=t("../internals/global"),p=t("../internals/create-non-enumerable-property");j.exports=function(i,l){try{p(f,i,l)}catch{f[i]=l}return l}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,j,w){var f=t("../internals/get-built-in"),p=t("../internals/object-define-property"),i=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),b=i("species");j.exports=function(o){var o=f(o),a=p.f;l&&o&&!o[b]&&a(o,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,j,w){var f=t("../internals/object-define-property").f,p=t("../internals/has"),i=t("../internals/well-known-symbol")("toStringTag");j.exports=function(l,b,v){l&&!p(l=v?l:l.prototype,i)&&f(l,i,{configurable:!0,value:b})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,j,w){var f=t("../internals/shared"),p=t("../internals/uid"),i=f("keys");j.exports=function(l){return i[l]||(i[l]=p(l))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(f,j,w){var i=f("../internals/global"),f=f("../internals/set-global"),p="__core-js_shared__",i=i[p]||f(p,{});j.exports=i},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,j,w){var f=t("../internals/is-pure"),p=t("../internals/shared-store");(j.exports=function(i,l){return p[i]||(p[i]=l!==void 0?l:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,j,w){var f=t("../internals/an-object"),p=t("../internals/a-function"),i=t("../internals/well-known-symbol")("species");j.exports=function(v,b){var v=f(v).constructor;return v===void 0||(v=f(v)[i])==null?b:p(v)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,j,w){var f=t("../internals/fails");j.exports=function(p){return f(function(){var i=""[p]('"');return i!==i.toLowerCase()||3<i.split('"').length})}},{"../internals/fails":51}],125:[function(t,j,w){function f(l){return function(a,u){var o,a=String(i(a)),u=p(u),c=a.length;return u<0||c<=u?l?"":void 0:(o=a.charCodeAt(u))<55296||56319<o||u+1===c||(c=a.charCodeAt(u+1))<56320||57343<c?l?a.charAt(u):o:l?a.slice(u,u+2):c-56320+(o-55296<<10)+65536}}var p=t("../internals/to-integer"),i=t("../internals/require-object-coercible");j.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,j,w){t=t("../internals/engine-user-agent"),j.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,j,w){function f(v){return function(c,d,h){var c=String(l(c)),y=c.length,h=h===void 0?" ":String(h),d=p(d);return d<=y||h==""?c:((y=i.call(h,b((d=d-y)/h.length))).length>d&&(y=y.slice(0,d)),v?c+y:y+c)}}var p=t("../internals/to-length"),i=t("../internals/string-repeat"),l=t("../internals/require-object-coercible"),b=Math.ceil;j.exports={start:f(!1),end:f(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,j,w){function f(x){return x+22+75*(x<26)}function p(x){var _,T=[],k=(x=function(Y){for(var ee=[],ae=0,A=Y.length;ae<A;){var B,W=Y.charCodeAt(ae++);55296<=W&&W<=56319&&ae<A?(64512&(B=Y.charCodeAt(ae++)))==56320?ee.push(((1023&W)<<10)+(1023&B)+65536):(ee.push(W),ae--):ee.push(W)}return ee}(x)).length,M=128,O=0,L=72;for(P=0;P<x.length;P++)(_=x[P])<128&&T.push(d(_));var F=T.length,D=F;for(F&&T.push("-");D<k;){for(var V=i,P=0;P<x.length;P++)M<=(_=x[P])&&_<V&&(V=_);var G=D+1;if(V-M>h((i-O)/G))throw RangeError(c);for(O+=(V-M)*G,M=V,P=0;P<x.length;P++){if((_=x[P])<M&&++O>i)throw RangeError(c);if(_==M){for(var z=O,q=l;;q+=l){var Q=q<=L?1:L+b<=q?b:q-L;if(z<Q)break;var K=z-Q,Z=l-Q;T.push(d(f(Q+K%Z))),z=h(K/Z)}T.push(d(f(z))),L=function(Y,ee,ae){var A=0;for(Y=ae?h(Y/o):Y>>1,Y+=h(Y/ee);y*b>>1<Y;A+=l)Y=h(Y/y);return h(A+(y+1)*Y/(Y+v))}(O,G,D==F),O=0,++D}}++O,++M}return T.join("")}var i=2147483647,l=36,b=26,v=38,o=700,a=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",y=l-1,h=Math.floor,d=String.fromCharCode;j.exports=function(x){for(var _,T=[],k=x.toLowerCase().replace(u,".").split("."),M=0;M<k.length;M++)_=k[M],T.push(a.test(_)?"xn--"+p(_):_);return T.join(".")}},{}],129:[function(t,j,w){var f=t("../internals/to-integer"),p=t("../internals/require-object-coercible");j.exports="".repeat||function(i){var l=String(p(this)),b="",v=f(i);if(v<0||v==1/0)throw RangeError("Wrong number of repetitions");for(;0<v;(v>>>=1)&&(l+=l))1&v&&(b+=l);return b}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,j,w){var f=t("../internals/fails"),p=t("../internals/whitespaces");j.exports=function(i){return f(function(){return!!p[i]()||""[i]()!=""||p[i].name!==i})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(i,j,w){function f(v){return function(o){return o=String(p(o)),1&v&&(o=o.replace(l,"")),o=2&v?o.replace(b,""):o}}var p=i("../internals/require-object-coercible"),i="["+i("../internals/whitespaces")+"]",l=RegExp("^"+i+i+"*"),b=RegExp(i+i+"*$");j.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(y,j,w){function f(D){return function(){F(D)}}function p(D){F(D.data)}function i(D){b.postMessage(D+"",h.protocol+"//"+h.host)}var l,b=y("../internals/global"),v=y("../internals/fails"),o=y("../internals/classof-raw"),a=y("../internals/function-bind-context"),u=y("../internals/html"),c=y("../internals/document-create-element"),y=y("../internals/engine-is-ios"),h=b.location,d=b.setImmediate,x=b.clearImmediate,_=b.process,T=b.MessageChannel,k=b.Dispatch,M=0,O={},L="onreadystatechange",F=function(D){var V;O.hasOwnProperty(D)&&(V=O[D],delete O[D],V())};d&&x||(d=function(D){for(var V=[],P=1;P<arguments.length;)V.push(arguments[P++]);return O[++M]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,V)},l(M),M},x=function(D){delete O[D]},o(_)=="process"?l=function(D){_.nextTick(f(D))}:k&&k.now?l=function(D){k.now(f(D))}:T&&!y?(y=(o=new T).port2,o.port1.onmessage=p,l=a(y.postMessage,y,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||v(i)||h.protocol==="file:"?l=L in c("script")?function(D){u.appendChild(c("script"))[L]=function(){u.removeChild(this),F(D)}}:function(D){setTimeout(f(D),0)}:(l=i,b.addEventListener("message",p,!1))),j.exports={set:d,clear:x}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,j,w){var f=t("../internals/classof-raw");j.exports=function(p){if(typeof p!="number"&&f(p)!="Number")throw TypeError("Incorrect invocation");return+p}},{"../internals/classof-raw":28}],134:[function(t,j,w){var f=t("../internals/to-integer"),p=Math.max,i=Math.min;j.exports=function(l,b){return l=f(l),l<0?p(l+b,0):i(l,b)}},{"../internals/to-integer":137}],135:[function(t,j,w){var f=t("../internals/to-integer"),p=t("../internals/to-length");j.exports=function(l){if(l===void 0)return 0;var l=f(l),b=p(l);if(l!==b)throw RangeError("Wrong length or index");return b}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,j,w){var f=t("../internals/indexed-object"),p=t("../internals/require-object-coercible");j.exports=function(i){return f(p(i))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,j,w){var f=Math.ceil,p=Math.floor;j.exports=function(i){return isNaN(i=+i)?0:(0<i?p:f)(i)}},{}],138:[function(t,j,w){var f=t("../internals/to-integer"),p=Math.min;j.exports=function(i){return 0<i?p(f(i),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,j,w){var f=t("../internals/require-object-coercible");j.exports=function(p){return Object(f(p))}},{"../internals/require-object-coercible":115}],140:[function(t,j,w){var f=t("../internals/to-positive-integer");j.exports=function(p,i){if(p=f(p),p%i)throw RangeError("Wrong offset");return p}},{"../internals/to-positive-integer":141}],141:[function(t,j,w){var f=t("../internals/to-integer");j.exports=function(p){if(p=f(p),p<0)throw RangeError("The argument can't be less than 0");return p}},{"../internals/to-integer":137}],142:[function(t,j,w){var f=t("../internals/is-object");j.exports=function(p,i){if(!f(p))return p;var l,b;if(i&&typeof(l=p.toString)=="function"&&!f(b=l.call(p))||typeof(l=p.valueOf)=="function"&&!f(b=l.call(p))||!i&&typeof(l=p.toString)=="function"&&!f(b=l.call(p)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,j,w){var f={};f[t("../internals/well-known-symbol")("toStringTag")]="z",j.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,j,w){function f(Se,Te){for(var ke=0,Xe=Te.length,Pe=new(le(Se))(Xe);ke<Xe;)Pe[ke]=Te[ke++];return Pe}function p(Se,Te){B(Se,Te,{get:function(){return ae(this)[Te]}})}function i(Se){return Se instanceof ne||(Se=F(Se))=="ArrayBuffer"||Se=="SharedArrayBuffer"}function l(Se,Te){return de(Se)&&typeof Te!="symbol"&&Te in Se&&String(+Te)==String(Te)}function b(Se,Te){return l(Se,Te=O(Te,!0))?x(2,Se[Te]):W(Se,Te)}function v(Se,Te,ke){return!(l(Se,Te=O(Te,!0))&&D(ke)&&L(ke,"value"))||L(ke,"get")||L(ke,"set")||ke.configurable||L(ke,"writable")&&!ke.writable||L(ke,"enumerable")&&!ke.enumerable?B(Se,Te,ke):(Se[Te]=ke.value,Se)}var o=t("../internals/export"),a=t("../internals/global"),u=t("../internals/descriptors"),c=t("../internals/typed-array-constructors-require-wrappers"),y=t("../internals/array-buffer-view-core"),h=t("../internals/array-buffer"),d=t("../internals/an-instance"),x=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),T=t("../internals/to-length"),k=t("../internals/to-index"),M=t("../internals/to-offset"),O=t("../internals/to-primitive"),L=t("../internals/has"),F=t("../internals/classof"),D=t("../internals/is-object"),V=t("../internals/object-create"),P=t("../internals/object-set-prototype-of"),G=t("../internals/object-get-own-property-names").f,z=t("../internals/typed-array-from"),q=t("../internals/array-iteration").forEach,Q=t("../internals/set-species"),K=t("../internals/object-define-property"),Z=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),ee=t("../internals/inherit-if-required"),ae=Y.get,A=Y.set,B=K.f,W=Z.f,J=Math.round,ie=a.RangeError,ne=h.ArrayBuffer,pe=h.DataView,ge=y.NATIVE_ARRAY_BUFFER_VIEWS,he=y.TYPED_ARRAY_TAG,be=y.TypedArray,_e=y.TypedArrayPrototype,le=y.aTypedArrayConstructor,de=y.isTypedArray,xe="BYTES_PER_ELEMENT",Ae="Wrong length";u?(ge||(Z.f=b,K.f=v,p(_e,"buffer"),p(_e,"byteOffset"),p(_e,"byteLength"),p(_e,"length")),o({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:b,defineProperty:v}),j.exports=function(Ce,Te,ke){function Xe(Ie,oe){B(Ie,oe,{get:function(){var ce=this,re=oe;return(ce=ae(ce)).view[it](re*Pe+ce.byteOffset,!0)},set:function(ce){var re=this,fe=oe;re=ae(re),ke&&(ce=(ce=J(ce))<0?0:255<ce?255:255&ce),re.view[ut](fe*Pe+re.byteOffset,ce,!0)},enumerable:!0})}var Pe=Ce.match(/\d+$/)[0]/8,mt=Ce+(ke?"Clamped":"")+"Array",it="get"+Ce,ut="set"+Ce,dt=a[mt],ht=dt,Ce=ht&&ht.prototype,Qe={};ge?c&&(ht=Te(function(Ie,oe,ce,re){return d(Ie,ht,mt),ee(D(oe)?i(oe)?re!==void 0?new dt(oe,M(ce,Pe),re):ce!==void 0?new dt(oe,M(ce,Pe)):new dt(oe):de(oe)?f(ht,oe):z.call(ht,oe):new dt(k(oe)),Ie,ht)}),P&&P(ht,be),q(G(dt),function(Ie){Ie in ht||_(ht,Ie,dt[Ie])}),ht.prototype=Ce):(ht=Te(function(Ie,oe,ce,re){d(Ie,ht,mt);var fe,Me,De=0,Ge=0;if(D(oe)){if(!i(oe))return de(oe)?f(ht,oe):z.call(ht,oe);var rt=oe,Ge=M(ce,Pe),ce=oe.byteLength;if(re===void 0){if(ce%Pe||(fe=ce-Ge)<0)throw ie(Ae)}else if(ce<(fe=T(re)*Pe)+Ge)throw ie(Ae);Me=fe/Pe}else Me=k(oe),rt=new ne(fe=Me*Pe);for(A(Ie,{buffer:rt,byteOffset:Ge,byteLength:fe,length:Me,view:new pe(rt)});De<Me;)Xe(Ie,De++)}),P&&P(ht,be),Ce=ht.prototype=V(_e)),Ce.constructor!==ht&&_(Ce,"constructor",ht),he&&_(Ce,he,mt),Qe[mt]=ht,o({global:!0,forced:ht!=dt,sham:!ge},Qe),xe in ht||_(ht,xe,Pe),xe in Ce||_(Ce,xe,Pe),Q(mt)}):j.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(l,j,w){var f=l("../internals/global"),p=l("../internals/fails"),i=l("../internals/check-correctness-of-iteration"),l=l("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,b=f.ArrayBuffer,v=f.Int8Array;j.exports=!l||!p(function(){v(1)})||!p(function(){new v(-1)})||!i(function(o){new v,new v(null),new v(1.5),new v(o)},!0)||p(function(){return new v(new b(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,j,w){var f=t("../internals/to-object"),p=t("../internals/to-length"),i=t("../internals/get-iterator-method"),l=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),v=t("../internals/array-buffer-view-core").aTypedArrayConstructor;j.exports=function(o){var a,u,c,y,h,d,x=f(o),_=arguments.length,T=1<_?arguments[1]:void 0,k=T!==void 0,M=i(x);if(M!=null&&!l(M))for(d=(h=M.call(x)).next,x=[];!(y=d.call(h)).done;)x.push(y.value);for(k&&2<_&&(T=b(T,arguments[2],2)),u=p(x.length),c=new(v(this))(u),a=0;a<u;a++)c[a]=k?T(x[a],a):x[a];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,j,w){var f=0,p=Math.random();j.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++f+p).toString(36)}},{}],148:[function(t,j,w){t=t("../internals/native-symbol"),j.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,j,w){t=t("../internals/well-known-symbol"),w.f=t},{"../internals/well-known-symbol":150}],150:[function(v,j,w){var f=v("../internals/global"),p=v("../internals/shared"),i=v("../internals/has"),l=v("../internals/uid"),b=v("../internals/native-symbol"),v=v("../internals/use-symbol-as-uid"),o=p("wks"),a=f.Symbol,u=v?a:a&&a.withoutSetter||l;j.exports=function(c){return i(o,c)||(b&&i(a,c)?o[c]=a[c]:o[c]=u("Symbol."+c)),o[c]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,j,w){j.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(i,j,w){var f=i("../internals/export"),p=i("../internals/global"),b=i("../internals/array-buffer"),i=i("../internals/set-species"),l="ArrayBuffer",b=b[l];f({global:!0,forced:p[l]!==b},{ArrayBuffer:b}),i(l)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(x,j,w){var f=x("../internals/export"),p=x("../internals/fails"),i=x("../internals/is-array"),l=x("../internals/is-object"),b=x("../internals/to-object"),v=x("../internals/to-length"),o=x("../internals/create-property"),a=x("../internals/array-species-create"),u=x("../internals/array-method-has-species-support"),d=x("../internals/well-known-symbol"),x=x("../internals/engine-v8-version"),c=d("isConcatSpreadable"),y=9007199254740991,h="Maximum allowed index exceeded",d=51<=x||!p(function(){var _=[];return _[c]=!1,_.concat()[0]!==_}),x=u("concat");f({target:"Array",proto:!0,forced:!d||!x},{concat:function(_){for(var T,k,M,O,L,F=b(this),D=a(F,0),V=0,P=-1,G=arguments.length;P<G;P++)if(L=void 0,!l(O=M=P===-1?F:arguments[P])||((L=O[c])!==void 0?!L:!i(O))){if(y<=V)throw TypeError(h);o(D,V++,M)}else{if(k=v(M.length),y<V+k)throw TypeError(h);for(T=0;T<k;T++,V++)T in M&&o(D,V,M[T])}return D.length=V,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(i,j,w){var f=i("../internals/export"),p=i("../internals/array-copy-within"),i=i("../internals/add-to-unscopables");f({target:"Array",proto:!0},{copyWithin:p}),i("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(l,j,w){var f=l("../internals/export"),p=l("../internals/array-iteration").every,i=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),i=i("every"),l=l("every");f({target:"Array",proto:!0,forced:!i||!l},{every:function(b){return p(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(i,j,w){var f=i("../internals/export"),p=i("../internals/array-fill"),i=i("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:p}),i("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(l,j,w){var f=l("../internals/export"),p=l("../internals/array-iteration").filter,i=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),i=i("filter"),l=l("filter");f({target:"Array",proto:!0,forced:!i||!l},{filter:function(b){return p(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(v,j,w){var f=v("../internals/export"),p=v("../internals/array-iteration").findIndex,i=v("../internals/add-to-unscopables"),v=v("../internals/array-method-uses-to-length"),l="findIndex",b=!0,v=v(l);l in[]&&Array(1)[l](function(){b=!1}),f({target:"Array",proto:!0,forced:b||!v},{findIndex:function(o){return p(this,o,1<arguments.length?arguments[1]:void 0)}}),i(l)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/flatten-into-array"),i=t("../internals/to-object"),l=t("../internals/to-length"),b=t("../internals/a-function"),v=t("../internals/array-species-create");f({target:"Array",proto:!0},{flatMap:function(o){var a,u=i(this),c=l(u.length);return b(o),(a=v(u,0)).length=p(a,u,u,c,0,1,o,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/flatten-into-array"),i=t("../internals/to-object"),l=t("../internals/to-length"),b=t("../internals/to-integer"),v=t("../internals/array-species-create");f({target:"Array",proto:!0},{flat:function(){var o=arguments.length?arguments[0]:void 0,a=i(this),u=l(a.length),c=v(a,0);return c.length=p(c,a,a,u,0,o===void 0?1:b(o)),c}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(p,j,w){var f=p("../internals/export"),p=p("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/array-from");f({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(i){Array.from(i)})},{from:p})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/array-includes").includes,i=t("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(l){return p(this,l,1<arguments.length?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(v,j,w){var f=v("../internals/export"),p=v("../internals/array-includes").indexOf,b=v("../internals/array-method-is-strict"),v=v("../internals/array-method-uses-to-length"),i=[].indexOf,l=!!i&&1/[1].indexOf(1,-0)<0,b=b("indexOf"),v=v("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:l||!b||!v},{indexOf:function(o){return l?i.apply(this,arguments)||0:p(this,o,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(b,j,w){var f=b("../internals/to-indexed-object"),p=b("../internals/add-to-unscopables"),i=b("../internals/iterators"),l=b("../internals/internal-state"),b=b("../internals/define-iterator"),v="Array Iterator",o=l.set,a=l.getterFor(v);j.exports=b(Array,"Array",function(u,c){o(this,{type:v,target:f(u),index:0,kind:c})},function(){var u=a(this),c=u.target,y=u.kind,h=u.index++;return!c||h>=c.length?{value:u.target=void 0,done:!0}:y=="keys"?{value:h,done:!1}:y=="values"?{value:c[h],done:!1}:{value:[h,c[h]],done:!1}},"values"),i.Arguments=i.Array,p("keys"),p("values"),p("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(b,j,w){var f=b("../internals/export"),l=b("../internals/indexed-object"),p=b("../internals/to-indexed-object"),b=b("../internals/array-method-is-strict"),i=[].join,l=l!=Object,b=b("join",",");f({target:"Array",proto:!0,forced:l||!b},{join:function(v){return i.call(p(this),v===void 0?",":v)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(p,j,w){var f=p("../internals/export"),p=p("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:p!==[].lastIndexOf},{lastIndexOf:p})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(l,j,w){var f=l("../internals/export"),p=l("../internals/array-iteration").map,i=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),i=i("map"),l=l("map");f({target:"Array",proto:!0,forced:!i||!l},{map:function(b){return p(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(c,j,w){var f=c("../internals/export"),p=c("../internals/is-object"),i=c("../internals/is-array"),l=c("../internals/to-absolute-index"),b=c("../internals/to-length"),v=c("../internals/to-indexed-object"),o=c("../internals/create-property"),a=c("../internals/well-known-symbol"),u=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),u=u("slice"),c=c("slice",{ACCESSORS:!0,0:0,1:2}),y=a("species"),h=[].slice,d=Math.max;f({target:"Array",proto:!0,forced:!u||!c},{slice:function(x,_){var T,k,M,O=v(this),L=b(O.length),F=l(x,L),D=l(_===void 0?L:_,L);if(i(O)&&((T=typeof(T=O.constructor)=="function"&&(T===Array||i(T.prototype))||p(T)&&(T=T[y])===null?void 0:T)===Array||T===void 0))return h.call(O,F,D);for(k=new(T===void 0?Array:T)(d(D-F,0)),M=0;F<D;F++,M++)F in O&&o(k,M,O[F]);return k.length=M,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(l,j,w){var f=l("../internals/export"),p=l("../internals/array-iteration").some,i=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),i=i("some"),l=l("some");f({target:"Array",proto:!0,forced:!i||!l},{some:function(b){return p(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(u,j,w){var f=u("../internals/export"),p=u("../internals/to-absolute-index"),i=u("../internals/to-integer"),l=u("../internals/to-length"),b=u("../internals/to-object"),v=u("../internals/array-species-create"),o=u("../internals/create-property"),a=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),a=a("splice"),u=u("splice",{ACCESSORS:!0,0:0,1:2}),c=Math.max,y=Math.min;f({target:"Array",proto:!0,forced:!a||!u},{splice:function(V,d){var x,_,T,k,M,O,L=b(this),F=l(L.length),D=p(V,F),V=arguments.length;if(V===0?x=_=0:_=V===1?(x=0,F-D):(x=V-2,y(c(i(d),0),F-D)),9007199254740991<F+x-_)throw TypeError("Maximum allowed length exceeded");for(T=v(L,_),k=0;k<_;k++)(M=D+k)in L&&o(T,k,L[M]);if(x<(T.length=_)){for(k=D;k<F-_;k++)O=k+x,(M=k+_)in L?L[O]=L[M]:delete L[O];for(k=F;F-_+x<k;k--)delete L[k-1]}else if(_<x)for(k=F-_;D<k;k--)O=k+x-1,(M=k+_-1)in L?L[O]=L[M]:delete L[O];for(k=0;k<x;k++)L[k+D]=arguments[k+2];return L.length=F-_+x,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,j,w){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,j,w){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(p,j,w){var f=p("../internals/descriptors"),p=p("../internals/object-define-property").f,i=Function.prototype,l=i.toString,b=/^\s*function ([^ (]*)/;!f||"name"in i||p(i,"name",{configurable:!0,get:function(){try{return l.call(this).match(b)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(p,j,w){var f=p("../internals/collection"),p=p("../internals/collection-strong");j.exports=f("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(f,j,w){var f=f("../internals/export"),p=Math.hypot,i=Math.abs,l=Math.sqrt;f({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(b,v){for(var o,a,u=0,c=0,y=arguments.length,h=0;c<y;)h<(o=i(arguments[c++]))?(u=u*(a=h/o)*a+1,h=o):u+=0<o?(a=o/h)*a:o;return h===1/0?1/0:h*l(u)}})},{"../internals/export":50}],177:[function(f,j,w){var f=f("../internals/export"),p=Math.log,i=Math.LN2;f({target:"Math",stat:!0},{log2:function(l){return p(l)/i}})},{"../internals/export":50}],178:[function(t,j,w){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,j,w){function f(P){var G,z,q,Q,K,Z,Y,ee=u(P,!1);if(typeof ee=="string"&&2<ee.length){if((P=(ee=_(ee)).charCodeAt(0))===43||P===45){if((G=ee.charCodeAt(2))===88||G===120)return NaN}else if(P===48){switch(ee.charCodeAt(1)){case 66:case 98:z=2,q=49;break;case 79:case 111:z=8,q=55;break;default:return+ee}for(K=(Q=ee.slice(2)).length,Z=0;Z<K;Z++)if((Y=Q.charCodeAt(Z))<48||q<Y)return NaN;return parseInt(Q,z)}}return+ee}var p=t("../internals/descriptors"),i=t("../internals/global"),l=t("../internals/is-forced"),b=t("../internals/redefine"),v=t("../internals/has"),o=t("../internals/classof-raw"),a=t("../internals/inherit-if-required"),u=t("../internals/to-primitive"),c=t("../internals/fails"),y=t("../internals/object-create"),h=t("../internals/object-get-own-property-names").f,d=t("../internals/object-get-own-property-descriptor").f,x=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,T="Number",k=i[T],M=k.prototype,O=o(y(M))==T;if(l(T,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var L,F=function(G){var G=arguments.length<1?0:G,z=this;return z instanceof F&&(O?c(function(){M.valueOf.call(z)}):o(z)!=T)?a(new k(f(G)),z,F):f(G)},D=p?h(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),V=0;D.length>V;V++)v(k,L=D[V])&&!v(F,L)&&x(F,L,d(k,L));(F.prototype=M).constructor=F,b(i,T,F)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,j,w){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,j,w){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(v,j,w){function f(u,c,y){return c===0?y:c%2==1?f(u,c-1,y*u):f(u*u,c/2,y)}var p=v("../internals/export"),i=v("../internals/to-integer"),l=v("../internals/this-number-value"),b=v("../internals/string-repeat"),v=v("../internals/fails"),o=1 .toFixed,a=Math.floor;p({target:"Number",proto:!0,forced:o&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!v(function(){o.call({})})},{toFixed:function(T){function c(L,F){for(var D=-1,V=F;++D<6;)V+=L*k[D],k[D]=V%1e7,V=a(V/1e7)}function y(L){for(var F=6,D=0;0<=--F;)D+=k[F],k[F]=a(D/L),D=D%L*1e7}function h(){for(var L,F=6,D="";0<=--F;)D===""&&F!==0&&k[F]===0||(L=String(k[F]),D=D===""?L:D+b.call("0",7-L.length)+L);return D}var d,x,_=l(this),T=i(T),k=[0,0,0,0,0,0],M="",O="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return String(_);if(_<0&&(M="-",_=-_),1e-21<_)if(_=(d=function(L){for(var F=0,D=L;4096<=D;)F+=12,D/=4096;for(;2<=D;)F+=1,D/=2;return F}(_*f(2,69,1))-69)<0?_*f(2,-d,1):_/f(2,d,1),_*=4503599627370496,0<(d=52-d)){for(c(0,_),x=T;7<=x;)c(1e7,0),x-=7;for(c(f(10,x,1),0),x=d-1;23<=x;)y(1<<23),x-=23;y(1<<x),c(1,1),y(2),O=h()}else c(0,_),c(1<<-d,0),O=h()+b.call("0",T);return O=0<T?M+((_=O.length)<=T?"0."+b.call("0",T-_)+O:O.slice(0,_-T)+"."+O.slice(_-T)):M+O}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(p,j,w){var f=p("../internals/export"),p=p("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/object-to-array").entries;f({target:"Object",stat:!0},{entries:function(i){return p(i)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/iterate"),i=t("../internals/create-property");f({target:"Object",stat:!0},{fromEntries:function(l){var b={};return p(l,function(v,o){i(b,v,o)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(l,j,w){var f=l("../internals/export"),b=l("../internals/fails"),p=l("../internals/to-indexed-object"),i=l("../internals/object-get-own-property-descriptor").f,l=l("../internals/descriptors"),b=b(function(){i(1)});f({target:"Object",stat:!0,forced:!l||b,sham:!l},{getOwnPropertyDescriptor:function(v,o){return i(p(v),o)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(i,j,w){var f=i("../internals/export"),p=i("../internals/fails"),i=i("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(b,j,w){var f=b("../internals/export"),p=b("../internals/fails"),i=b("../internals/to-object"),l=b("../internals/object-get-prototype-of"),b=b("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:p(function(){l(1)}),sham:!b},{getPrototypeOf:function(v){return l(i(v))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/to-object"),i=t("../internals/object-keys");f({target:"Object",stat:!0,forced:t("../internals/fails")(function(){i(1)})},{keys:function(l){return i(p(l))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(i,j,w){var f=i("../internals/to-string-tag-support"),p=i("../internals/redefine"),i=i("../internals/object-to-string");f||p(Object.prototype,"toString",i,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(ke,j,w){var f,p,i,l,b=ke("../internals/export"),v=ke("../internals/is-pure"),o=ke("../internals/global"),a=ke("../internals/get-built-in"),u=ke("../internals/native-promise-constructor"),c=ke("../internals/redefine"),y=ke("../internals/redefine-all"),h=ke("../internals/set-to-string-tag"),d=ke("../internals/set-species"),x=ke("../internals/is-object"),_=ke("../internals/a-function"),T=ke("../internals/an-instance"),k=ke("../internals/classof-raw"),M=ke("../internals/inspect-source"),O=ke("../internals/iterate"),L=ke("../internals/check-correctness-of-iteration"),F=ke("../internals/species-constructor"),D=ke("../internals/task").set,V=ke("../internals/microtask"),P=ke("../internals/promise-resolve"),G=ke("../internals/host-report-errors"),z=ke("../internals/new-promise-capability"),q=ke("../internals/perform"),Q=ke("../internals/internal-state"),K=ke("../internals/is-forced"),Xe=ke("../internals/well-known-symbol"),Z=ke("../internals/engine-v8-version"),Y=Xe("species"),ee="Promise",ae=Q.get,A=Q.set,B=Q.getterFor(ee),W=u,J=o.TypeError,ie=o.document,ne=o.process,pe=a("fetch"),ge=z.f,he=ge,be=k(ne)=="process",_e=!!(ie&&ie.createEvent&&o.dispatchEvent),le="unhandledrejection",de="rejectionhandled",xe=1,Ae=2,Se=1,Te=2,ke=K(ee,function(){var Qe,Ie;return M(W)===String(W)&&(Z===66||!be&&typeof PromiseRejectionEvent!="function")?!0:!(!v||W.prototype.finally)||!(51<=Z&&/native code/.test(W))&&(Ie=function(oe){oe(function(){},function(){})},((Qe=W.resolve(1)).constructor={})[Y]=Ie,!(Qe.then(function(){})instanceof Ie))}),Xe=ke||!L(function(Qe){W.all(Qe).catch(function(){})}),Pe=function(Qe){var Ie;return!(!x(Qe)||typeof(Ie=Qe.then)!="function")&&Ie},mt=function(Qe,Ie,oe){var ce;Ie.notified||(Ie.notified=!0,ce=Ie.reactions,V(function(){for(var re,fe,Me=Ie.value,De=Ie.state==xe,Ge=0;ce.length>Ge;){var rt,at,lt,ft=ce[Ge++],Rt=De?ft.ok:ft.fail,jt=ft.resolve,gt=ft.reject,kt=ft.domain;try{Rt?(De||(Ie.rejection===Te&&function(Mt,or){D.call(o,function(){be?ne.emit("rejectionHandled",Mt):it(de,Mt,or.value)})}(Qe,Ie),Ie.rejection=Se),Rt===!0?rt=Me:(kt&&kt.enter(),rt=Rt(Me),kt&&(kt.exit(),lt=!0)),rt===ft.promise?gt(J("Promise-chain cycle")):(at=Pe(rt))?at.call(rt,jt,gt):jt(rt)):gt(Me)}catch(Mt){kt&&!lt&&kt.exit(),gt(Mt)}}Ie.reactions=[],Ie.notified=!1,oe&&!Ie.rejection&&(re=Qe,fe=Ie,D.call(o,function(){var Mt=fe.value,or=ut(fe);if(or&&(or=q(function(){be?ne.emit("unhandledRejection",Mt,re):it(le,re,Mt)}),fe.rejection=be||ut(fe)?Te:Se,or.error))throw or.value}))}))},it=function(Qe,Ie,oe){var ce;_e?((ce=ie.createEvent("Event")).promise=Ie,ce.reason=oe,ce.initEvent(Qe,!1,!0),o.dispatchEvent(ce)):ce={promise:Ie,reason:oe},(Ie=o["on"+Qe])?Ie(ce):Qe===le&&G("Unhandled promise rejection",oe)},ut=function(Qe){return Qe.rejection!==Se&&!Qe.parent},dt=function(Qe,Ie,oe,ce){return function(re){Qe(Ie,oe,re,ce)}},ht=function(Qe,Ie,oe,ce){Ie.done||(Ie.done=!0,(Ie=ce||Ie).value=oe,Ie.state=Ae,mt(Qe,Ie,!0))},Ce=function(Qe,Ie,oe,ce){if(!Ie.done){Ie.done=!0,ce&&(Ie=ce);try{if(Qe===oe)throw J("Promise can't be resolved itself");var re=Pe(oe);re?V(function(){var fe={done:!1};try{re.call(oe,dt(Ce,Qe,fe,Ie),dt(ht,Qe,fe,Ie))}catch(Me){ht(Qe,fe,Me,Ie)}}):(Ie.value=oe,Ie.state=xe,mt(Qe,Ie,!1))}catch(fe){ht(Qe,{done:!1},fe,Ie)}}};ke&&(W=function(Qe){T(this,W,ee),_(Qe),f.call(this);var Ie=ae(this);try{Qe(dt(Ce,this,Ie),dt(ht,this,Ie))}catch(oe){ht(this,Ie,oe)}},(f=function(Qe){A(this,{type:ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(W.prototype,{then:function(Qe,Ie){var oe=B(this),ce=ge(F(this,W));return ce.ok=typeof Qe!="function"||Qe,ce.fail=typeof Ie=="function"&&Ie,ce.domain=be?ne.domain:void 0,oe.parent=!0,oe.reactions.push(ce),oe.state!=0&&mt(this,oe,!1),ce.promise},catch:function(Qe){return this.then(void 0,Qe)}}),p=function(){var Qe=new f,Ie=ae(Qe);this.promise=Qe,this.resolve=dt(Ce,Qe,Ie),this.reject=dt(ht,Qe,Ie)},z.f=ge=function(Qe){return Qe===W||Qe===i?new p:he(Qe)},v||typeof u!="function"||(l=u.prototype.then,c(u.prototype,"then",function(Qe,Ie){var oe=this;return new W(function(ce,re){l.call(oe,ce,re)}).then(Qe,Ie)},{unsafe:!0}),typeof pe=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(Qe){return P(W,pe.apply(o,arguments))}}))),b({global:!0,wrap:!0,forced:ke},{Promise:W}),h(W,ee,!1,!0),d(ee),i=a(ee),b({target:ee,stat:!0,forced:ke},{reject:function(Qe){var Ie=ge(this);return Ie.reject.call(void 0,Qe),Ie.promise}}),b({target:ee,stat:!0,forced:v||ke},{resolve:function(Qe){return P(v&&this===i?W:this,Qe)}}),b({target:ee,stat:!0,forced:Xe},{all:function(Qe){var Ie=this,oe=ge(Ie),ce=oe.resolve,re=oe.reject,fe=q(function(){var Me=_(Ie.resolve),De=[],Ge=0,rt=1;O(Qe,function(at){var lt=Ge++,ft=!1;De.push(void 0),rt++,Me.call(Ie,at).then(function(Rt){ft||(ft=!0,De[lt]=Rt,--rt||ce(De))},re)}),--rt||ce(De)});return fe.error&&re(fe.value),oe.promise},race:function(Qe){var Ie=this,oe=ge(Ie),ce=oe.reject,re=q(function(){var fe=_(Ie.resolve);O(Qe,function(Me){fe.call(Ie,Me).then(oe.resolve,ce)})});return re.error&&ce(re.value),oe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(o,j,w){var f=o("../internals/export"),y=o("../internals/get-built-in"),p=o("../internals/a-function"),i=o("../internals/an-object"),l=o("../internals/is-object"),b=o("../internals/object-create"),v=o("../internals/function-bind"),o=o("../internals/fails"),a=y("Reflect","construct"),u=o(function(){function h(){}return!(a(function(){},[],h)instanceof h)}),c=!o(function(){a(function(){})}),y=u||c;f({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(h,d){p(h),i(d);var x=arguments.length<3?h:p(arguments[2]);if(c&&!u)return a(h,d,x);if(h==x){switch(d.length){case 0:return new h;case 1:return new h(d[0]);case 2:return new h(d[0],d[1]);case 3:return new h(d[0],d[1],d[2]);case 4:return new h(d[0],d[1],d[2],d[3])}var _=[null];return _.push.apply(_,d),new(v.apply(h,_))}return _=x.prototype,x=b(l(_)?_:Object.prototype),_=Function.apply.call(h,x,d),l(_)?_:x}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/is-object"),i=t("../internals/an-object"),l=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),v=t("../internals/object-get-prototype-of");f({target:"Reflect",stat:!0},{get:function o(a,u){var c,y=arguments.length<3?a:arguments[2];return i(a)===y?a[u]:(c=b.f(a,u))?l(c,"value")?c.value:c.get===void 0?void 0:c.get.call(y):p(c=v(a))?o(c,u,y):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,j,w){var f=t("../internals/descriptors"),p=t("../internals/global"),i=t("../internals/is-forced"),l=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,v=t("../internals/object-get-own-property-names").f,o=t("../internals/is-regexp"),a=t("../internals/regexp-flags"),u=t("../internals/regexp-sticky-helpers"),c=t("../internals/redefine"),y=t("../internals/fails"),h=t("../internals/internal-state").set,d=t("../internals/set-species"),x=t("../internals/well-known-symbol")("match"),_=p.RegExp,T=_.prototype,k=/a/g,M=/a/g,O=new _(k)!==k,L=u.UNSUPPORTED_Y;if(f&&i("RegExp",!O||L||y(function(){return M[x]=!1,_(k)!=k||_(M)==M||_(k,"i")!="/a/i"}))){for(var F=function(P,G){var z,q=this instanceof F,Q=o(P),K=G===void 0;return!q&&Q&&P.constructor===F&&K?P:(O?Q&&!K&&(P=P.source):P instanceof F&&(K&&(G=a.call(P)),P=P.source),L&&(z=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,"")),Q=l(O?new _(P,G):_(P,G),q?this:T,F),L&&z&&h(Q,{sticky:z}),Q)},D=v(_),V=0;D.length>V;)(function(P){P in F||b(F,P,{configurable:!0,get:function(){return _[P]},set:function(G){_[P]=G}})})(D[V++]);(T.constructor=F).prototype=T,c(p,"RegExp",F)}d("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(p,j,w){var f=p("../internals/export"),p=p("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(l,j,w){var f=l("../internals/redefine"),p=l("../internals/an-object"),o=l("../internals/fails"),i=l("../internals/regexp-flags"),l="toString",b=RegExp.prototype,v=b[l],o=o(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),a=v.name!=l;(o||a)&&f(RegExp.prototype,l,function(){var u=p(this),c=String(u.source),y=u.flags;return"/"+c+"/"+String(y===void 0&&u instanceof RegExp&&!("flags"in b)?i.call(u):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(p,j,w){var f=p("../internals/collection"),p=p("../internals/collection-strong");j.exports=f("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(v,j,w){var f=v("../internals/export"),p=v("../internals/object-get-own-property-descriptor").f,i=v("../internals/to-length"),l=v("../internals/not-a-regexp"),b=v("../internals/require-object-coercible"),u=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),o="".endsWith,a=Math.min,u=u("endsWith");f({target:"String",proto:!0,forced:!!(v||u||!(f=p(String.prototype,"endsWith"))||f.writable)&&!u},{endsWith:function(c){var y=String(b(this)),h=(l(c),1<arguments.length?arguments[1]:void 0),d=i(y.length),h=h===void 0?d:a(i(h),d),d=String(c);return o?o.call(y,d,h):y.slice(h-d.length,h)===d}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(l){return!!~String(i(this)).indexOf(p(l),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(i,j,w){var f=i("../internals/string-multibyte").charAt,p=i("../internals/internal-state"),i=i("../internals/define-iterator"),l="String Iterator",b=p.set,v=p.getterFor(l);i(String,"String",function(o){b(this,{type:l,string:String(o),index:0})},function(){var o=v(this),a=o.string,u=o.index;return u>=a.length?{value:void 0,done:!0}:(a=f(a,u),o.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,j,w){var f=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),i=t("../internals/to-length"),l=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),v=t("../internals/regexp-exec-abstract");f("match",1,function(o,a,u){return[function(c){var y=l(this),h=c==null?void 0:c[o];return h!==void 0?h.call(c,y):new RegExp(c)[o](String(y))},function(c){var y=u(a,c,this);if(y.done)return y.value;var h=p(c),d=String(this);if(!h.global)return v(h,d);for(var x=h.unicode,_=[],T=h.lastIndex=0;(k=v(h,d))!==null;){var k=String(k[0]);(_[T]=k)===""&&(h.lastIndex=b(d,i(h.lastIndex),x)),T++}return T===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/string-pad").start;f({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(i){return p(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,j,w){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,j,w){var f=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),i=t("../internals/to-object"),l=t("../internals/to-length"),b=t("../internals/to-integer"),v=t("../internals/require-object-coercible"),o=t("../internals/advance-string-index"),a=t("../internals/regexp-exec-abstract"),u=Math.max,c=Math.min,y=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g;f("replace",2,function(x,_,T,k){var M=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=k.REPLACE_KEEPS_$0,L=M?"$":"$0";return[function(F,D){var V=v(this),P=F==null?void 0:F[x];return P!==void 0?P.call(F,V,D):_.call(String(V),F,D)},function(F,D){if(!M&&O||typeof D=="string"&&D.indexOf(L)===-1){var V=T(_,F,this,D);if(V.done)return V.value}for(var P,G=p(F),z=String(this),q=typeof D=="function",Q=(q||(D=String(D)),G.global),K=(Q&&(P=G.unicode,G.lastIndex=0),[]);(A=a(G,z))!==null&&(K.push(A),Q);)String(A[0])===""&&(G.lastIndex=o(z,l(G.lastIndex),P));for(var Z,Y="",ee=0,ae=0;ae<K.length;ae++){for(var A=K[ae],B=String(A[0]),W=u(c(b(A.index),z.length),0),J=[],ie=1;ie<A.length;ie++)J.push((Z=A[ie])===void 0?Z:String(Z));var ne=A.groups,pe=q?(pe=[B].concat(J,W,z),ne!==void 0&&pe.push(ne),String(D.apply(void 0,pe))):function(ge,he,be,_e,le,de){var xe=be+ge.length,Ae=_e.length,Se=d;return le!==void 0&&(le=i(le),Se=h),_.call(de,Se,function(Te,ke){var Xe;switch(ke.charAt(0)){case"$":return"$";case"&":return ge;case"`":return he.slice(0,be);case"'":return he.slice(xe);case"<":Xe=le[ke.slice(1,-1)];break;default:var Pe,mt=+ke;if(mt==0)return Te;if(Ae<mt)return(Pe=y(mt/10))!==0&&Pe<=Ae?_e[Pe-1]===void 0?ke.charAt(1):_e[Pe-1]+ke.charAt(1):Te;Xe=_e[mt-1]}return Xe===void 0?"":Xe})}(B,z,W,J,ne,D);ee<=W&&(Y+=z.slice(ee,W)+pe,ee=W+B.length)}return Y+z.slice(ee)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,j,w){var f=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),i=t("../internals/require-object-coercible"),l=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");f("search",1,function(v,o,a){return[function(u){var c=i(this),y=u==null?void 0:u[v];return y!==void 0?y.call(u,c):new RegExp(u)[v](String(c))},function(u){var c,y=a(o,u,this);return y.done?y.value:(y=p(u),u=String(this),c=y.lastIndex,l(c,0)||(y.lastIndex=0),u=b(y,u),l(y.lastIndex,c)||(y.lastIndex=c),u===null?-1:u.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(c,j,w){var f=c("../internals/fix-regexp-well-known-symbol-logic"),p=c("../internals/is-regexp"),i=c("../internals/an-object"),l=c("../internals/require-object-coercible"),b=c("../internals/species-constructor"),v=c("../internals/advance-string-index"),o=c("../internals/to-length"),a=c("../internals/regexp-exec-abstract"),u=c("../internals/regexp-exec"),c=c("../internals/fails"),y=[].push,h=Math.min,d=4294967295,x=!c(function(){return!RegExp(d,"y")});f("split",2,function(_,T,k){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(O,L){var F=String(l(this)),D=L===void 0?d:L>>>0;if(D==0)return[];if(O===void 0)return[F];if(!p(O))return T.call(F,O,D);for(var V,P,G,z=[],L=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(O.sticky?"y":""),q=0,Q=new RegExp(O.source,L+"g");(V=u.call(Q,F))&&!(q<(P=Q.lastIndex)&&(z.push(F.slice(q,V.index)),1<V.length&&V.index<F.length&&y.apply(z,V.slice(1)),G=V[0].length,q=P,z.length>=D));)Q.lastIndex===V.index&&Q.lastIndex++;return q===F.length?!G&&Q.test("")||z.push(""):z.push(F.slice(q)),z.length>D?z.slice(0,D):z}:"0".split(void 0,0).length?function(O,L){return O===void 0&&L===0?[]:T.call(this,O,L)}:T;return[function(O,L){var F=l(this),D=O==null?void 0:O[_];return D!==void 0?D.call(O,F,L):M.call(String(F),O,L)},function(V,L){var F=k(M,V,this,L,M!==T);if(F.done)return F.value;var F=i(V),D=String(this),V=b(F,RegExp),P=F.unicode,G=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(x?"y":"g"),z=new V(x?F:"^(?:"+F.source+")",G),q=L===void 0?d:L>>>0;if(q==0)return[];if(D.length===0)return a(z,D)===null?[D]:[];for(var Q=0,K=0,Z=[];K<D.length;){z.lastIndex=x?K:0;var Y,ee=a(z,x?D:D.slice(K));if(ee===null||(Y=h(o(z.lastIndex+(x?0:K)),D.length))===Q)K=v(D,K,P);else{if(Z.push(D.slice(Q,K)),Z.length===q)return Z;for(var ae=1;ae<=ee.length-1;ae++)if(Z.push(ee[ae]),Z.length===q)return Z;K=Q=Y}}return Z.push(D.slice(Q)),Z}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(v,j,w){var f=v("../internals/export"),p=v("../internals/object-get-own-property-descriptor").f,i=v("../internals/to-length"),l=v("../internals/not-a-regexp"),b=v("../internals/require-object-coercible"),u=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),o="".startsWith,a=Math.min,u=u("startsWith");f({target:"String",proto:!0,forced:!!(v||u||!(f=p(String.prototype,"startsWith"))||f.writable)&&!u},{startsWith:function(d){var y=String(b(this)),h=(l(d),i(a(1<arguments.length?arguments[1]:void 0,y.length))),d=String(d);return o?o.call(y,d,h):y.slice(h,h+d.length)===d}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/create-html");f({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return p(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,j,w){var f=t("../internals/export"),p=t("../internals/string-trim").trim;f({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return p(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(h,j,w){var f,p,i,l,b,v=h("../internals/export"),o=h("../internals/descriptors"),a=h("../internals/global"),u=h("../internals/has"),c=h("../internals/is-object"),y=h("../internals/object-define-property").f,h=h("../internals/copy-constructor-properties"),d=a.Symbol;!o||typeof d!="function"||"description"in d.prototype&&d().description===void 0||(f={},h(p=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof p?new d(x):x===void 0?d():d(x);return x===""&&(f[_]=!0),_},d),(a=p.prototype=d.prototype).constructor=p,i=a.toString,l=String(d("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,y(a,"description",{configurable:!0,get:function(){var x=c(this)?this.valueOf():this,_=i.call(x);return u(f,x)?"":(x=l?_.slice(7,-1):_.replace(b,"$1"))===""?void 0:x}}),v({global:!0,forced:!0},{Symbol:p}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,j,w){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(he,j,w){function f(re,fe){var Me=Xe[re]=F(de[ge]);return be(Me,{type:pe,tag:re,description:fe}),u||(Me.description=fe),Me}function p(re,De){T(re);var Me=M(De),De=D(Me).concat(ce(Me));return ie(De,function(Ge){u&&!oe.call(Me,Ge)||Ie(re,Ge,Me[Ge])}),re}function i(De,Ge){var Me,De=M(De),Ge=O(Ge,!0);if(De!==le||!d(Xe,Ge)||d(Pe,Ge))return!(Me=Ae(De,Ge))||!d(Xe,Ge)||d(De,ne)&&De[ne][Ge]||(Me.enumerable=!0),Me}function l(fe){var fe=Te(M(fe)),Me=[];return ie(fe,function(De){d(Xe,De)||d(ee,De)||Me.push(De)}),Me}var b=he("../internals/export"),v=he("../internals/global"),o=he("../internals/get-built-in"),a=he("../internals/is-pure"),u=he("../internals/descriptors"),c=he("../internals/native-symbol"),y=he("../internals/use-symbol-as-uid"),h=he("../internals/fails"),d=he("../internals/has"),x=he("../internals/is-array"),_=he("../internals/is-object"),T=he("../internals/an-object"),k=he("../internals/to-object"),M=he("../internals/to-indexed-object"),O=he("../internals/to-primitive"),L=he("../internals/create-property-descriptor"),F=he("../internals/object-create"),D=he("../internals/object-keys"),V=he("../internals/object-get-own-property-names"),P=he("../internals/object-get-own-property-names-external"),G=he("../internals/object-get-own-property-symbols"),z=he("../internals/object-get-own-property-descriptor"),q=he("../internals/object-define-property"),Q=he("../internals/object-property-is-enumerable"),K=he("../internals/create-non-enumerable-property"),Z=he("../internals/redefine"),Y=he("../internals/shared"),ut=he("../internals/shared-key"),ee=he("../internals/hidden-keys"),ae=he("../internals/uid"),A=he("../internals/well-known-symbol"),B=he("../internals/well-known-symbol-wrapped"),W=he("../internals/define-well-known-symbol"),J=he("../internals/set-to-string-tag"),dt=he("../internals/internal-state"),ie=he("../internals/array-iteration").forEach,ne=ut("hidden"),pe="Symbol",ge="prototype",he=A("toPrimitive"),be=dt.set,_e=dt.getterFor(pe),le=Object[ge],de=v.Symbol,xe=o("JSON","stringify"),Ae=z.f,Se=q.f,Te=P.f,ke=Q.f,Xe=Y("symbols"),Pe=Y("op-symbols"),mt=Y("string-to-symbol-registry"),it=Y("symbol-to-string-registry"),ut=Y("wks"),dt=v.QObject,ht=!dt||!dt[ge]||!dt[ge].findChild,Ce=u&&h(function(){return F(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!=7})?function(re,fe,Me){var De=Ae(le,fe);De&&delete le[fe],Se(re,fe,Me),De&&re!==le&&Se(le,fe,De)}:Se,Qe=y?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof de},Ie=function(re,fe,Me){return re===le&&Ie(Pe,fe,Me),T(re),fe=O(fe,!0),T(Me),(d(Xe,fe)?(Me.enumerable?(d(re,ne)&&re[ne][fe]&&(re[ne][fe]=!1),Me=F(Me,{enumerable:L(0,!1)})):(d(re,ne)||Se(re,ne,L(1,{})),re[ne][fe]=!0),Ce):Se)(re,fe,Me)},oe=function(fe){var fe=O(fe,!0),Me=ke.call(this,fe);return!(this===le&&d(Xe,fe)&&!d(Pe,fe))&&(!(Me||!d(this,fe)||!d(Xe,fe)||d(this,ne)&&this[ne][fe])||Me)},ce=function(Me){var fe=Me===le,Me=Te(fe?Pe:M(Me)),De=[];return ie(Me,function(Ge){!d(Xe,Ge)||fe&&!d(le,Ge)||De.push(Xe[Ge])}),De};c||(Z((de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,fe=ae(re),Me=function(De){this===le&&Me.call(Pe,De),d(this,ne)&&d(this[ne],fe)&&(this[ne][fe]=!1),Ce(this,fe,L(1,De))};return u&&ht&&Ce(le,fe,{configurable:!0,set:Me}),f(fe,re)})[ge],"toString",function(){return _e(this).tag}),Z(de,"withoutSetter",function(re){return f(ae(re),re)}),Q.f=oe,q.f=Ie,z.f=i,V.f=P.f=l,G.f=ce,B.f=function(re){return f(A(re),re)},u&&(Se(de[ge],"description",{configurable:!0,get:function(){return _e(this).description}}),a||Z(le,"propertyIsEnumerable",oe,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:de}),ie(D(ut),function(re){W(re)}),b({target:pe,stat:!0,forced:!c},{for:function(Me){var fe,Me=String(Me);return d(mt,Me)?mt[Me]:(fe=de(Me),mt[Me]=fe,it[fe]=Me,fe)},keyFor:function(re){if(!Qe(re))throw TypeError(re+" is not a symbol");if(d(it,re))return it[re]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),b({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(re,fe){return fe===void 0?F(re):p(F(re),fe)},defineProperty:Ie,defineProperties:p,getOwnPropertyDescriptor:i}),b({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:l,getOwnPropertySymbols:ce}),b({target:"Object",stat:!0,forced:h(function(){G.f(1)})},{getOwnPropertySymbols:function(re){return G.f(k(re))}}),xe&&b({target:"JSON",stat:!0,forced:!c||h(function(){var re=de();return xe([re])!="[null]"||xe({a:re})!="{}"||xe(Object(re))!="{}"})},{stringify:function(re,fe,Me){for(var De,Ge=[re],rt=1;rt<arguments.length;)Ge.push(arguments[rt++]);if((_(De=fe)||re!==void 0)&&!Qe(re))return x(fe)||(fe=function(at,lt){if(typeof De=="function"&&(lt=De.call(this,at,lt)),!Qe(lt))return lt}),Ge[1]=fe,xe.apply(null,Ge)}}),de[ge][he]||K(de[ge],he,de[ge].valueOf),J(de,pe),ee[ne]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-copy-within"),i=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(l,b){return p.call(i(this),l,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").every,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-fill"),i=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(l){return p.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").filter,i=t("../internals/species-constructor"),l=f.aTypedArray,b=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(v){for(var o=p(l(this),v,1<arguments.length?arguments[1]:void 0),v=i(this,this.constructor),a=0,u=o.length,c=new(b(v))(u);a<u;)c[a]=o[a++];return c})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").findIndex,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").find,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,j,w){t("../internals/typed-array-constructor")("Float32",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],220:[function(t,j,w){t("../internals/typed-array-constructor")("Float64",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],221:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").forEach,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(l){p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").includes,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").indexOf,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,j,w){t("../internals/typed-array-constructor")("Int16",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],225:[function(t,j,w){t("../internals/typed-array-constructor")("Int32",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],226:[function(p,j,w){function f(){return i.call(v(this))}var u=p("../internals/global"),a=p("../internals/array-buffer-view-core"),o=p("../modules/es.array.iterator"),p=p("../internals/well-known-symbol")("iterator"),u=u.Uint8Array,i=o.values,l=o.keys,b=o.entries,v=a.aTypedArray,o=a.exportTypedArrayMethod,a=u&&u.prototype[p],u=!!a&&(a.name=="values"||a.name==null);o("entries",function(){return b.call(v(this))}),o("keys",function(){return l.call(v(this))}),o("values",f,!u),o(p,f,!u)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(p,j,w){var p=p("../internals/array-buffer-view-core"),f=p.aTypedArray,p=p.exportTypedArrayMethod,i=[].join;p("join",function(l){return i.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-last-index-of"),i=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(l){return p.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").map,i=t("../internals/species-constructor"),l=f.aTypedArray,b=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(v){return p(l(this),v,1<arguments.length?arguments[1]:void 0,function(o,a){return new(b(i(o,o.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").right,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(l){return p(i(this),l,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").left,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(l){return p(i(this),l,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(p,j,w){var p=p("../internals/array-buffer-view-core"),f=p.aTypedArray,p=p.exportTypedArrayMethod,i=Math.floor;p("reverse",function(){for(var l,b=f(this).length,v=i(b/2),o=0;o<v;)l=this[o],this[o++]=this[--b],this[b]=l;return this})},{"../internals/array-buffer-view-core":12}],233:[function(b,j,w){var f=b("../internals/array-buffer-view-core"),p=b("../internals/to-length"),i=b("../internals/to-offset"),l=b("../internals/to-object"),b=b("../internals/fails"),v=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(o){v(this);var a=i(1<arguments.length?arguments[1]:void 0,1),u=this.length,c=l(o),y=p(c.length),h=0;if(u<y+a)throw RangeError("Wrong length");for(;h<y;)this[a+h]=c[h++]},b(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(p,j,w){var b=p("../internals/array-buffer-view-core"),f=p("../internals/species-constructor"),p=p("../internals/fails"),i=b.aTypedArray,l=b.aTypedArrayConstructor,b=b.exportTypedArrayMethod,v=[].slice;b("slice",function(o,a){for(var u=v.call(i(this),o,a),o=f(this,this.constructor),c=0,y=u.length,h=new(l(o))(y);c<y;)h[c]=u[c++];return h},p(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").some,i=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(l){return p(i(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(p,j,w){var p=p("../internals/array-buffer-view-core"),f=p.aTypedArray,p=p.exportTypedArrayMethod,i=[].sort;p("sort",function(l){return i.call(f(this),l)})},{"../internals/array-buffer-view-core":12}],237:[function(t,j,w){var f=t("../internals/array-buffer-view-core"),p=t("../internals/to-length"),i=t("../internals/to-absolute-index"),l=t("../internals/species-constructor"),b=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(c,o){var a=b(this),u=a.length,c=i(c,u);return new(l(a,a.constructor))(a.buffer,a.byteOffset+c*a.BYTES_PER_ELEMENT,p((o===void 0?u:i(o,u))-c))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(p,j,w){var b=p("../internals/global"),f=p("../internals/array-buffer-view-core"),p=p("../internals/fails"),i=b.Int8Array,l=f.aTypedArray,b=f.exportTypedArrayMethod,v=[].toLocaleString,o=[].slice,a=!!i&&p(function(){v.call(new i(1))});b("toLocaleString",function(){return v.apply(a?o.call(l(this)):l(this),arguments)},p(function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()})||!p(function(){i.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(p,j,w){var f=p("../internals/array-buffer-view-core").exportTypedArrayMethod,b=p("../internals/fails"),p=p("../internals/global").Uint8Array,p=p&&p.prototype||{},i=[].toString,l=[].join,b=(b(function(){i.call({})})&&(i=function(){return l.call(this)}),p.toString!=i);f("toString",i,b)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,j,w){t("../internals/typed-array-constructor")("Uint16",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],241:[function(t,j,w){t("../internals/typed-array-constructor")("Uint32",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],242:[function(t,j,w){t("../internals/typed-array-constructor")("Uint8",function(f){return function(p,i,l){return f(this,p,i,l)}})},{"../internals/typed-array-constructor":144}],243:[function(t,j,w){t("../internals/typed-array-constructor")("Uint8",function(f){return function(p,i,l){return f(this,p,i,l)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(d,T,w){function f(k){return function(){return k(this,arguments.length?arguments[0]:void 0)}}var p,i,l,b,v,x=d("../internals/global"),o=d("../internals/redefine-all"),a=d("../internals/internal-metadata"),u=d("../internals/collection"),c=d("../internals/collection-weak"),y=d("../internals/is-object"),h=d("../internals/internal-state").enforce,d=d("../internals/native-weak-map"),x=!x.ActiveXObject&&"ActiveXObject"in x,_=Object.isExtensible,T=T.exports=u("WeakMap",f,c);d&&x&&(p=c.getConstructor(f,"WeakMap",!0),a.REQUIRED=!0,u=T.prototype,i=u.delete,l=u.has,b=u.get,v=u.set,o(u,{delete:function(k){var M;return y(k)&&!_(k)?((M=h(this)).frozen||(M.frozen=new p),i.call(this,k)||M.frozen.delete(k)):i.call(this,k)},has:function(k){var M;return y(k)&&!_(k)?((M=h(this)).frozen||(M.frozen=new p),l.call(this,k)||M.frozen.has(k)):l.call(this,k)},get:function(k){var M;return!y(k)||_(k)||((M=h(this)).frozen||(M.frozen=new p),l.call(this,k))?b.call(this,k):M.frozen.get(k)},set:function(k,M){var O;return!y(k)||_(k)||((O=h(this)).frozen||(O.frozen=new p),l.call(this,k))?v.call(this,k,M):O.frozen.set(k,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,j,w){var f,p=t("../internals/global"),i=t("../internals/dom-iterables"),l=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(f in i){var v=p[f],v=v&&v.prototype;if(v&&v.forEach!==l)try{b(v,"forEach",l)}catch{v.forEach=l}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(v,j,w){var f,p=v("../internals/global"),i=v("../internals/dom-iterables"),l=v("../modules/es.array.iterator"),b=v("../internals/create-non-enumerable-property"),v=v("../internals/well-known-symbol"),o=v("iterator"),a=v("toStringTag"),u=l.values;for(f in i){var c=p[f],y=c&&c.prototype;if(y){if(y[o]!==u)try{b(y,o,u)}catch{y[o]=u}if(y[a]||b(y,a,f),i[f]){for(var h in l)if(y[h]!==l[h])try{b(y,h,l[h])}catch{y[h]=l[h]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ne,j,w){ne("../modules/es.array.iterator");function f(pe){try{return decodeURIComponent(pe)}catch{return pe}}function p(pe){return W[pe]}function i(pe){return encodeURIComponent(pe).replace(B,p)}function l(pe){this.entries.length=0,J(this.entries,pe)}function b(pe,ge){if(pe<ge)throw TypeError("Not enough arguments")}function v(){x(this,v,q);var pe,ge,he,be,_e,le,de,xe,Ae=0<arguments.length?arguments[0]:void 0,Se=[];if(K(this,{type:q,entries:Se,updateURL:function(){},updateSearchParams:l}),Ae!==void 0)if(O(Ae))if(typeof(pe=V(Ae))=="function")for(he=(ge=pe.call(Ae)).next;!(be=he.call(ge)).done;){if((le=(_e=(be=D(M(be.value))).next).call(be)).done||(de=_e.call(be)).done||!_e.call(be).done)throw TypeError("Expected sequence with length 2");Se.push({key:le.value+"",value:de.value+""})}else for(xe in Ae)_(Ae,xe)&&Se.push({key:xe,value:Ae[xe]+""});else J(Se,typeof Ae=="string"?Ae.charAt(0)==="?"?Ae.slice(1):Ae:Ae+"")}var o=ne("../internals/export"),z=ne("../internals/get-built-in"),a=ne("../internals/native-url"),u=ne("../internals/redefine"),c=ne("../internals/redefine-all"),y=ne("../internals/set-to-string-tag"),h=ne("../internals/create-iterator-constructor"),d=ne("../internals/internal-state"),x=ne("../internals/an-instance"),_=ne("../internals/has"),T=ne("../internals/function-bind-context"),k=ne("../internals/classof"),M=ne("../internals/an-object"),O=ne("../internals/is-object"),L=ne("../internals/object-create"),F=ne("../internals/create-property-descriptor"),D=ne("../internals/get-iterator"),V=ne("../internals/get-iterator-method"),ne=ne("../internals/well-known-symbol"),P=z("fetch"),G=z("Headers"),z=ne("iterator"),q="URLSearchParams",Q=q+"Iterator",K=d.set,Z=d.getterFor(q),Y=d.getterFor(Q),ee=/\+/g,ae=Array(4),A=function(pe){var ge,he=pe.replace(ee," "),be=4;try{return decodeURIComponent(he)}catch{for(;be;)he=he.replace((ge=be--,ae[ge-1]||(ae[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))),f);return he}},B=/[!'()~]|%20/g,W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},J=function(pe,ge){if(ge)for(var he,be=ge.split("&"),_e=0;_e<be.length;)(he=be[_e++]).length&&(he=he.split("="),pe.push({key:A(he.shift()),value:A(he.join("="))}))},ie=h(function(pe,ge){K(this,{type:Q,iterator:D(Z(pe).entries),kind:ge})},"Iterator",function(){var ge=Y(this),pe=ge.kind,ge=ge.iterator.next(),he=ge.value;return ge.done||(ge.value=pe==="keys"?he.key:pe==="values"?he.value:[he.key,he.value]),ge}),ne=v.prototype;c(ne,{append:function(pe,ge){b(arguments.length,2);var he=Z(this);he.entries.push({key:pe+"",value:ge+""}),he.updateURL()},delete:function(pe){b(arguments.length,1);for(var ge=Z(this),he=ge.entries,be=pe+"",_e=0;_e<he.length;)he[_e].key===be?he.splice(_e,1):_e++;ge.updateURL()},get:function(pe){b(arguments.length,1);for(var ge=Z(this).entries,he=pe+"",be=0;be<ge.length;be++)if(ge[be].key===he)return ge[be].value;return null},getAll:function(pe){b(arguments.length,1);for(var ge=Z(this).entries,he=pe+"",be=[],_e=0;_e<ge.length;_e++)ge[_e].key===he&&be.push(ge[_e].value);return be},has:function(pe){b(arguments.length,1);for(var ge=Z(this).entries,he=pe+"",be=0;be<ge.length;)if(ge[be++].key===he)return!0;return!1},set:function(pe,ge){b(arguments.length,1);for(var he,be=Z(this),_e=be.entries,le=!1,de=pe+"",xe=ge+"",Ae=0;Ae<_e.length;Ae++)(he=_e[Ae]).key===de&&(le?_e.splice(Ae--,1):(le=!0,he.value=xe));le||_e.push({key:de,value:xe}),be.updateURL()},sort:function(){for(var pe,ge,he=Z(this),be=he.entries,_e=be.slice(),le=be.length=0;le<_e.length;le++){for(pe=_e[le],ge=0;ge<le;ge++)if(be[ge].key>pe.key){be.splice(ge,0,pe);break}ge===le&&be.push(pe)}he.updateURL()},forEach:function(pe){for(var ge,he=Z(this).entries,be=T(pe,1<arguments.length?arguments[1]:void 0,3),_e=0;_e<he.length;)be((ge=he[_e++]).value,ge.key,this)},keys:function(){return new ie(this,"keys")},values:function(){return new ie(this,"values")},entries:function(){return new ie(this,"entries")}},{enumerable:!0}),u(ne,z,ne.entries),u(ne,"toString",function(){for(var pe,ge=Z(this).entries,he=[],be=0;be<ge.length;)pe=ge[be++],he.push(i(pe.key)+"="+i(pe.value));return he.join("&")},{enumerable:!0}),y(v,q),o({global:!0,forced:!a},{URLSearchParams:v}),a||typeof P!="function"||typeof G!="function"||o({global:!0,enumerable:!0,forced:!0},{fetch:function(_e){var ge,he,be,_e=[_e];return 1<arguments.length&&(O(ge=arguments[1])&&(he=ge.body,k(he)===q&&((be=ge.headers?new G(ge.headers):new G).has("content-type")||be.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ge=L(ge,{body:F(0,String(he)),headers:F(0,be)}))),_e.push(ge)),P.apply(this,_e)}}),j.exports={URLSearchParams:v,getState:Z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(D,j,w){D("../modules/es.string.iterator");function f(je){var nt,pt,tt,It;if(typeof je=="number"){for(nt=[],pt=0;pt<4;pt++)nt.unshift(je%256),je=Q(je/256);return nt.join(".")}if(typeof je!="object")return je;for(nt="",tt=de(je),pt=0;pt<8;pt++)It&&je[pt]===0||(It=It&&!1,tt===pt?(nt+=pt?":":"::",It=!0):(nt+=je[pt].toString(16),pt<7&&(nt+=":")));return"["+nt+"]"}function p(je){return!je.host||je.cannotBeABaseURL||je.scheme=="file"}function i(je,nt,pt,tt){var It,Ze,Gt,ct=pt||Qe,Ct=0,yt="",Er=!1,yr=!1,ar=!1;for(pt||(je.scheme="",je.username="",je.password="",je.host=null,je.port=null,je.path=[],je.query=null,je.fragment=null,je.cannotBeABaseURL=!1,nt=nt.replace(be,"")),nt=nt.replace(_e,""),It=k(nt);Ct<=It.length;){switch(Ze=It[Ct],ct){case Qe:if(!Ze||!A.test(Ze)){if(pt)return Y;ct=oe;continue}yt+=Ze.toLowerCase(),ct=Ie;break;case Ie:if(Ze&&(B.test(Ze)||Ze=="+"||Ze=="-"||Ze=="."))yt+=Ze.toLowerCase();else{if(Ze!=":"){if(pt)return Y;yt="",ct=oe,Ct=0;continue}if(pt&&(Pe(je)!=_(Xe,yt)||yt=="file"&&(mt(je)||je.port!==null)||je.scheme=="file"&&!je.host))return;if(je.scheme=yt,pt)return void(Pe(je)&&Xe[je.scheme]==je.port&&(je.port=null));yt="",je.scheme=="file"?ct=Rt:Pe(je)&&tt&&tt.scheme==je.scheme?ct=ce:Pe(je)?ct=De:It[Ct+1]=="/"?(ct=re,Ct++):(je.cannotBeABaseURL=!0,je.path.push(""),ct=or)}break;case oe:if(!tt||tt.cannotBeABaseURL&&Ze!="#")return Y;if(tt.cannotBeABaseURL&&Ze=="#"){je.scheme=tt.scheme,je.path=tt.path.slice(),je.query=tt.query,je.fragment="",je.cannotBeABaseURL=!0,ct=Tr;break}ct=tt.scheme=="file"?Rt:fe;continue;case ce:if(Ze!="/"||It[Ct+1]!="/"){ct=fe;continue}ct=Ge,Ct++;break;case re:if(Ze=="/"){ct=rt;break}ct=Mt;continue;case fe:if(je.scheme=tt.scheme,Ze==v)je.username=tt.username,je.password=tt.password,je.host=tt.host,je.port=tt.port,je.path=tt.path.slice(),je.query=tt.query;else if(Ze=="/"||Ze=="\\"&&Pe(je))ct=Me;else if(Ze=="?")je.username=tt.username,je.password=tt.password,je.host=tt.host,je.port=tt.port,je.path=tt.path.slice(),je.query="",ct=en;else{if(Ze!="#"){je.username=tt.username,je.password=tt.password,je.host=tt.host,je.port=tt.port,je.path=tt.path.slice(),je.path.pop(),ct=Mt;continue}je.username=tt.username,je.password=tt.password,je.host=tt.host,je.port=tt.port,je.path=tt.path.slice(),je.query=tt.query,je.fragment="",ct=Tr}break;case Me:if(!Pe(je)||Ze!="/"&&Ze!="\\"){if(Ze!="/"){je.username=tt.username,je.password=tt.password,je.host=tt.host,je.port=tt.port,ct=Mt;continue}ct=rt}else ct=Ge;break;case De:if(ct=Ge,Ze!="/"||yt.charAt(Ct+1)!="/")continue;Ct++;break;case Ge:if(Ze=="/"||Ze=="\\")break;ct=rt;continue;case rt:if(Ze=="@"){Er&&(yt="%40"+yt);for(var Er=!0,cr=k(yt),ms=0;ms<cr.length;ms++){var On=cr[ms];On!=":"||ar?(On=ke(On,Te),ar?je.password+=On:je.username+=On):ar=!0}yt=""}else if(Ze==v||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Pe(je)){if(Er&&yt=="")return Z;Ct-=k(yt).length+1,yt="",ct=at}else yt+=Ze;break;case at:case lt:if(pt&&je.scheme=="file"){ct=gt;continue}if(Ze!=":"||yr){if(Ze==v||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Pe(je)){if(Pe(je)&&yt=="")return ee;if(pt&&yt==""&&(mt(je)||je.port!==null))return;if(Gt=le(je,yt))return Gt;if(yt="",ct=kt,pt)return;continue}Ze=="["?yr=!0:Ze=="]"&&(yr=!1),yt+=Ze}else{if(yt=="")return ee;if(Gt=le(je,yt))return Gt;if(yt="",ct=ft,pt==lt)return}break;case ft:if(!W.test(Ze)){if(Ze==v||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&Pe(je)||pt){if(yt!=""){var $n=parseInt(yt,10);if(65535<$n)return ae;je.port=Pe(je)&&$n===Xe[je.scheme]?null:$n,yt=""}if(pt)return;ct=kt;continue}return ae}yt+=Ze;break;case Rt:if(je.scheme="file",Ze=="/"||Ze=="\\")ct=jt;else{if(!tt||tt.scheme!="file"){ct=Mt;continue}if(Ze==v)je.host=tt.host,je.path=tt.path.slice(),je.query=tt.query;else if(Ze=="?")je.host=tt.host,je.path=tt.path.slice(),je.query="",ct=en;else{if(Ze!="#"){ut(It.slice(Ct).join(""))||(je.host=tt.host,je.path=tt.path.slice(),dt(je)),ct=Mt;continue}je.host=tt.host,je.path=tt.path.slice(),je.query=tt.query,je.fragment="",ct=Tr}}break;case jt:if(Ze=="/"||Ze=="\\"){ct=gt;break}tt&&tt.scheme=="file"&&!ut(It.slice(Ct).join(""))&&(it(tt.path[0],!0)?je.path.push(tt.path[0]):je.host=tt.host),ct=Mt;continue;case gt:if(Ze==v||Ze=="/"||Ze=="\\"||Ze=="?"||Ze=="#"){if(!pt&&it(yt))ct=Mt;else{if(yt==""){if(je.host="",pt)return}else{if(Gt=le(je,yt))return Gt;if(je.host=="localhost"&&(je.host=""),pt)return;yt=""}ct=kt}continue}yt+=Ze;break;case kt:if(Pe(je)){if(ct=Mt,Ze!="/"&&Ze!="\\")continue}else if(pt||Ze!="?")if(pt||Ze!="#"){if(Ze!=v&&(ct=Mt,Ze!="/"))continue}else je.fragment="",ct=Tr;else je.query="",ct=en;break;case Mt:if(Ze==v||Ze=="/"||Ze=="\\"&&Pe(je)||!pt&&(Ze=="?"||Ze=="#")){if(Ce(yt)?(dt(je),Ze=="/"||Ze=="\\"&&Pe(je)||je.path.push("")):ht(yt)?Ze=="/"||Ze=="\\"&&Pe(je)||je.path.push(""):(je.scheme=="file"&&!je.path.length&&it(yt)&&(je.host&&(je.host=""),yt=yt.charAt(0)+":"),je.path.push(yt)),yt="",je.scheme=="file"&&(Ze==v||Ze=="?"||Ze=="#"))for(;1<je.path.length&&je.path[0]==="";)je.path.shift();Ze=="?"?(je.query="",ct=en):Ze=="#"&&(je.fragment="",ct=Tr)}else yt+=ke(Ze,Se);break;case or:Ze=="?"?(je.query="",ct=en):Ze=="#"?(je.fragment="",ct=Tr):Ze!=v&&(je.path[0]+=ke(Ze,xe));break;case en:pt||Ze!="#"?Ze!=v&&(Ze=="'"&&Pe(je)?je.query+="%27":je.query+=Ze=="#"?"%23":ke(Ze,xe)):(je.fragment="",ct=Tr);break;case Tr:Ze!=v&&(je.fragment+=ke(Ze,Ae))}Ct++}}function l(Ze){var nt,pt,tt=x(this,l,"URL"),It=1<arguments.length?arguments[1]:void 0,Ze=String(Ze),Gt=z(tt,{type:"URL"});if(It!==void 0){if(It instanceof l)nt=q(It);else if(pt=i(nt={},String(It)))throw TypeError(pt)}if(pt=i(Gt,Ze,null,nt))throw TypeError(pt);var ct=Gt.searchParams=new P;(It=G(ct)).updateSearchParams(Gt.query),It.updateURL=function(){Gt.query=String(ct)||null},c||(tt.href=mr.call(tt),tt.origin=Yt.call(tt),tt.protocol=Xr.call(tt),tt.username=Gr.call(tt),tt.password=tr.call(tt),tt.host=tn.call(tt),tt.hostname=Hn.call(tt),tt.port=Nr.call(tt),tt.pathname=Yr.call(tt),tt.search=Cs.call(tt),tt.searchParams=ni.call(tt),tt.hash=_o.call(tt))}function b(je,nt){return{get:je,set:nt,configurable:!0,enumerable:!0}}var v,o,a,u=D("../internals/export"),c=D("../internals/descriptors"),y=D("../internals/native-url"),Xt=D("../internals/global"),h=D("../internals/object-define-properties"),d=D("../internals/redefine"),x=D("../internals/an-instance"),_=D("../internals/has"),T=D("../internals/object-assign"),k=D("../internals/array-from"),M=D("../internals/string-multibyte").codeAt,O=D("../internals/string-punycode-to-ascii"),L=D("../internals/set-to-string-tag"),F=D("../modules/web.url-search-params"),D=D("../internals/internal-state"),V=Xt.URL,P=F.URLSearchParams,G=F.getState,z=D.set,q=D.getterFor("URL"),Q=Math.floor,K=Math.pow,Z="Invalid authority",Y="Invalid scheme",ee="Invalid host",ae="Invalid port",A=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,W=/\d/,J=/^(0x|0X)/,ie=/^[0-7]+$/,ne=/^\d+$/,pe=/^[\dA-Fa-f]+$/,ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,he=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,be=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,_e=/[\u0009\u000A\u000D]/g,le=function(je,nt){var pt,tt,It;if(nt.charAt(0)=="[")return nt.charAt(nt.length-1)=="]"&&(pt=function(Ze){var Gt=[0,0,0,0,0,0,0,0],ct=0,Ct=null,yt=0,Er,yr,ar,cr,ms,On,$n,Zr=function(){return Ze.charAt(yt)};if(Zr()==":"){if(Ze.charAt(1)!=":")return;yt+=2,ct++,Ct=ct}for(;Zr();){if(ct==8)return;if(Zr()==":"){if(Ct!==null)return;yt++,ct++,Ct=ct;continue}for(Er=yr=0;yr<4&&pe.test(Zr());)Er=Er*16+parseInt(Zr(),16),yt++,yr++;if(Zr()=="."){if(yr==0||(yt-=yr,ct>6))return;for(ar=0;Zr();){if(cr=null,ar>0)if(Zr()=="."&&ar<4)yt++;else return;if(!W.test(Zr()))return;for(;W.test(Zr());){if(ms=parseInt(Zr(),10),cr===null)cr=ms;else{if(cr==0)return;cr=cr*10+ms}if(cr>255)return;yt++}Gt[ct]=Gt[ct]*256+cr,ar++,(ar==2||ar==4)&&ct++}if(ar!=4)return;break}else if(Zr()==":"){if(yt++,!Zr())return}else if(Zr())return;Gt[ct++]=Er}if(Ct!==null)for(On=ct-Ct,ct=7;ct!=0&&On>0;)$n=Gt[ct],Gt[ct--]=Gt[Ct+On-1],Gt[Ct+--On]=$n;else if(ct!=8)return;return Gt}(nt.slice(1,-1)))?void(je.host=pt):ee;if(Pe(je))return nt=O(nt),ge.test(nt)||(pt=function(Ze){var Gt=Ze.split("."),ct,Ct,yt,Er,yr,ar,cr;if(Gt.length&&Gt[Gt.length-1]==""&&Gt.pop(),(ct=Gt.length)>4)return Ze;for(Ct=[],yt=0;yt<ct;yt++){if(Er=Gt[yt],Er=="")return Ze;if(yr=10,Er.length>1&&Er.charAt(0)=="0"&&(yr=J.test(Er)?16:8,Er=Er.slice(yr==8?1:2)),Er==="")ar=0;else{if(!(yr==10?ne:yr==8?ie:pe).test(Er))return Ze;ar=parseInt(Er,yr)}Ct.push(ar)}for(yt=0;yt<ct;yt++)if(ar=Ct[yt],yt==ct-1){if(ar>=K(256,5-ct))return null}else if(ar>255)return null;for(cr=Ct.pop(),yt=0;yt<Ct.length;yt++)cr+=Ct[yt]*K(256,3-yt);return cr}(nt))===null?ee:void(je.host=pt);if(he.test(nt))return ee;for(pt="",tt=k(nt),It=0;It<tt.length;It++)pt+=ke(tt[It],xe);je.host=pt},de=function(je){for(var nt=null,pt=1,tt=null,It=0,Ze=0;Ze<8;Ze++)je[Ze]!==0?(pt<It&&(nt=tt,pt=It),tt=null,It=0):(tt===null&&(tt=Ze),++It);return pt<It&&(nt=tt,pt=It),nt},xe={},Ae=T({},xe,{" ":1,'"':1,"<":1,">":1,"`":1}),Se=T({},Ae,{"#":1,"?":1,"{":1,"}":1}),Te=T({},Se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ke=function(je,nt){var pt=M(je,0);return 32<pt&&pt<127&&!_(nt,je)?je:encodeURIComponent(je)},Xe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Pe=function(je){return _(Xe,je.scheme)},mt=function(je){return je.username!=""||je.password!=""},it=function(je,nt){return je.length==2&&A.test(je.charAt(0))&&((je=je.charAt(1))==":"||!nt&&je=="|")},ut=function(je){return 1<je.length&&it(je.slice(0,2))&&(je.length==2||(je=je.charAt(2))==="/"||je==="\\"||je==="?"||je==="#")},dt=function(je){var nt=je.path,pt=nt.length;!pt||je.scheme=="file"&&pt==1&&it(nt[0],!0)||nt.pop()},ht=function(je){return je==="."||je.toLowerCase()==="%2e"},Ce=function(je){return(je=je.toLowerCase())===".."||je==="%2e."||je===".%2e"||je==="%2e%2e"},Qe={},Ie={},oe={},ce={},re={},fe={},Me={},De={},Ge={},rt={},at={},lt={},ft={},Rt={},jt={},gt={},kt={},Mt={},or={},en={},Tr={},Xt=l.prototype,mr=function(){var je=q(this),nt=je.scheme,pt=je.username,tt=je.password,It=je.host,Ze=je.port,Gt=je.path,ct=je.query,Ct=je.fragment,yt=nt+":";return It!==null?(yt+="//",mt(je)&&(yt+=pt+(tt?":"+tt:"")+"@"),yt+=f(It),Ze!==null&&(yt+=":"+Ze)):nt=="file"&&(yt+="//"),yt+=je.cannotBeABaseURL?Gt[0]:Gt.length?"/"+Gt.join("/"):"",ct!==null&&(yt+="?"+ct),Ct!==null&&(yt+="#"+Ct),yt},Yt=function(){var je=q(this),nt=je.scheme,pt=je.port;if(nt=="blob")try{return new URL(nt.path[0]).origin}catch{return"null"}return nt!="file"&&Pe(je)?nt+"://"+f(je.host)+(pt!==null?":"+pt:""):"null"},Xr=function(){return q(this).scheme+":"},Gr=function(){return q(this).username},tr=function(){return q(this).password},tn=function(){var nt=q(this),je=nt.host,nt=nt.port;return je===null?"":nt===null?f(je):f(je)+":"+nt},Hn=function(){var je=q(this).host;return je===null?"":f(je)},Nr=function(){var je=q(this).port;return je===null?"":String(je)},Yr=function(){var je=q(this),nt=je.path;return je.cannotBeABaseURL?nt[0]:nt.length?"/"+nt.join("/"):""},Cs=function(){var je=q(this).query;return je?"?"+je:""},ni=function(){return q(this).searchParams},_o=function(){var je=q(this).fragment;return je?"#"+je:""};c&&h(Xt,{href:b(mr,function(pt){var nt=q(this),pt=String(pt),pt=i(nt,pt);if(pt)throw TypeError(pt);G(nt.searchParams).updateSearchParams(nt.query)}),origin:b(Yt),protocol:b(Xr,function(je){var nt=q(this);i(nt,String(je)+":",Qe)}),username:b(Gr,function(je){var nt=q(this),pt=k(String(je));if(!p(nt)){nt.username="";for(var tt=0;tt<pt.length;tt++)nt.username+=ke(pt[tt],Te)}}),password:b(tr,function(je){var nt=q(this),pt=k(String(je));if(!p(nt)){nt.password="";for(var tt=0;tt<pt.length;tt++)nt.password+=ke(pt[tt],Te)}}),host:b(tn,function(je){var nt=q(this);nt.cannotBeABaseURL||i(nt,String(je),at)}),hostname:b(Hn,function(je){var nt=q(this);nt.cannotBeABaseURL||i(nt,String(je),lt)}),port:b(Nr,function(je){var nt=q(this);p(nt)||((je=String(je))==""?nt.port=null:i(nt,je,ft))}),pathname:b(Yr,function(je){var nt=q(this);nt.cannotBeABaseURL||(nt.path=[],i(nt,je+"",kt))}),search:b(Cs,function(je){var nt=q(this);(je=String(je))==""?nt.query=null:(je.charAt(0)=="?"&&(je=je.slice(1)),nt.query="",i(nt,je,en)),G(nt.searchParams).updateSearchParams(nt.query)}),searchParams:b(ni),hash:b(_o,function(je){var nt=q(this);(je=String(je))==""?nt.fragment=null:(je.charAt(0)=="#"&&(je=je.slice(1)),nt.fragment="",i(nt,je,Tr))})}),d(Xt,"toJSON",function(){return mr.call(this)},{enumerable:!0}),d(Xt,"toString",function(){return mr.call(this)},{enumerable:!0}),V&&(o=V.createObjectURL,a=V.revokeObjectURL,o&&d(l,"createObjectURL",function(je){return o.apply(V,arguments)}),a&&d(l,"revokeObjectURL",function(je){return a.apply(V,arguments)})),L(l,"URL"),u({global:!0,forced:!y,sham:!c},{URL:l})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,j,w){j.exports=t("./").polyfill()},{"./":250}],250:[function(t,j,w){(function(f,p){var i,l;i=this,l=function(){function b(le){return typeof le=="function"}var v=Array.isArray||function(le){return Object.prototype.toString.call(le)==="[object Array]"},o=0,a=void 0,u=void 0,c=function(le,de){T[o]=le,T[o+1]=de,(o+=2)===2&&(u?u(k):P())},y=typeof window<"u"?window:void 0,h=y||{},h=h.MutationObserver||h.WebKitMutationObserver,d=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",x=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var le=setTimeout;return function(){return le(k,1)}}var T=new Array(1e3);function k(){for(var le=0;le<o;le+=2)(0,T[le])(T[le+1]),T[le]=void 0,T[le+1]=void 0;o=0}function M(){try{var le=Function("return this")().require("vertx");return(a=le.runOnLoop||le.runOnContext)!==void 0?function(){a(k)}:_()}catch{return _()}}var O,L,F,P=void 0;function D(le,de){var xe,Ae=this,Se=new this.constructor(z),Te=(Se[G]===void 0&&pe(Se),Ae._state);return Te?(xe=arguments[Te-1],c(function(){return ie(Te,Se,xe,Ae._result)})):W(Ae,Se,le,de),Se}function V(le){var de;return le&&typeof le=="object"&&le.constructor===this?le:(ee(de=new this(z),le),de)}var P=d?function(){return f.nextTick(k)}:h?(L=0,d=new h(k),F=document.createTextNode(""),d.observe(F,{characterData:!0}),function(){F.data=L=++L%2}):x?((O=new MessageChannel).port1.onmessage=k,function(){return O.port2.postMessage(0)}):(y===void 0&&typeof t=="function"?M:_)(),G=Math.random().toString(36).substring(2);function z(){}var q=void 0,Q=1,K=2;function Z(le,de,xe){c(function(Ae){var Se=!1,Te=function(ke,Xe,Pe,mt){try{ke.call(Xe,Pe,mt)}catch(it){return it}}(xe,de,function(ke){Se||(Se=!0,(de!==ke?ee:A)(Ae,ke))},function(ke){Se||(Se=!0,B(Ae,ke))},Ae._label);!Se&&Te&&(Se=!0,B(Ae,Te))},le)}function Y(le,de,xe){var Ae,Se;de.constructor===le.constructor&&xe===D&&de.constructor.resolve===V?(Ae=le,(Se=de)._state===Q?A(Ae,Se._result):Se._state===K?B(Ae,Se._result):W(Se,void 0,function(Te){return ee(Ae,Te)},function(Te){return B(Ae,Te)})):xe!==void 0&&b(xe)?Z(le,de,xe):A(le,de)}function ee(le,de){if(le===de)B(le,new TypeError("You cannot resolve a promise with itself"));else if(xe=typeof de,de===null||xe!="object"&&xe!="function")A(le,de);else{xe=void 0;try{xe=de.then}catch(Ae){return void B(le,Ae)}Y(le,de,xe)}var xe}function ae(le){le._onerror&&le._onerror(le._result),J(le)}function A(le,de){le._state===q&&(le._result=de,le._state=Q,le._subscribers.length!==0&&c(J,le))}function B(le,de){le._state===q&&(le._state=K,le._result=de,c(ae,le))}function W(le,de,xe,Ae){var Se=le._subscribers,Te=Se.length;le._onerror=null,Se[Te]=de,Se[Te+Q]=xe,Se[Te+K]=Ae,Te===0&&le._state&&c(J,le)}function J(le){var de=le._subscribers,xe=le._state;if(de.length!==0){for(var Ae,Se=void 0,Te=le._result,ke=0;ke<de.length;ke+=3)Ae=de[ke],Se=de[ke+xe],Ae?ie(xe,Ae,Se,Te):Se(Te);le._subscribers.length=0}}function ie(le,de,xe,Ae){var Se=b(xe),Te=void 0,ke=void 0,Xe=!0;if(Se){try{Te=xe(Ae)}catch(Pe){Xe=!1,ke=Pe}if(de===Te)return void B(de,new TypeError("A promises callback cannot return that same promise."))}else Te=Ae;de._state===q&&(Se&&Xe?ee(de,Te):Xe===!1?B(de,ke):le===Q?A(de,Te):le===K&&B(de,Te))}var ne=0;function pe(le){le[G]=ne++,le._state=void 0,le._result=void 0,le._subscribers=[]}he.prototype._enumerate=function(le){for(var de=0;this._state===q&&de<le.length;de++)this._eachEntry(le[de],de)},he.prototype._eachEntry=function(le,de){var xe=this._instanceConstructor,Ae=xe.resolve;if(Ae===V){var Se,Te=void 0,ke=void 0,Xe=!1;try{Te=le.then}catch(Pe){Xe=!0,ke=Pe}Te===D&&le._state!==q?this._settledAt(le._state,de,le._result):typeof Te!="function"?(this._remaining--,this._result[de]=le):xe===be?(Se=new xe(z),Xe?B(Se,ke):Y(Se,le,Te),this._willSettleAt(Se,de)):this._willSettleAt(new xe(function(Pe){return Pe(le)}),de)}else this._willSettleAt(Ae(le),de)},he.prototype._settledAt=function(le,de,xe){var Ae=this.promise;Ae._state===q&&(this._remaining--,le===K?B(Ae,xe):this._result[de]=xe),this._remaining===0&&A(Ae,this._result)},he.prototype._willSettleAt=function(le,de){var xe=this;W(le,void 0,function(Ae){return xe._settledAt(Q,de,Ae)},function(Ae){return xe._settledAt(K,de,Ae)})};var ge=he;function he(le,de){this._instanceConstructor=le,this.promise=new le(z),this.promise[G]||pe(this.promise),v(de)?(this.length=de.length,this._remaining=de.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(de),this._remaining!==0)||A(this.promise,this._result)):B(this.promise,new Error("Array Methods must be provided an Array"))}_e.prototype.catch=function(le){return this.then(null,le)},_e.prototype.finally=function(le){var de=this.constructor;return b(le)?this.then(function(xe){return de.resolve(le()).then(function(){return xe})},function(xe){return de.resolve(le()).then(function(){throw xe})}):this.then(le,le)};var be=_e;function _e(le){if(this[G]=ne++,this._result=this._state=void 0,this._subscribers=[],z!==le){if(typeof le!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof _e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var de=this;try{le(function(xe){ee(de,xe)},function(xe){B(de,xe)})}catch(xe){B(de,xe)}}}return be.prototype.then=D,be.all=function(le){return new ge(this,le).promise},be.race=function(le){var de=this;return v(le)?new de(function(xe,Ae){for(var Se=le.length,Te=0;Te<Se;Te++)de.resolve(le[Te]).then(xe,Ae)}):new de(function(xe,Ae){return Ae(new TypeError("You must pass an array to race."))})},be.resolve=V,be.reject=function(le){var de=new this(z);return B(de,le),de},be._setScheduler=function(le){u=le},be._setAsap=function(le){c=le},be._asap=c,be.polyfill=function(){var le=void 0;if(p!==void 0)le=p;else if(typeof self<"u")le=self;else try{le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var de=le.Promise;if(de){var xe=null;try{xe=Object.prototype.toString.call(de.resolve())}catch{}if(xe==="[object Promise]"&&!de.cast)return}le.Promise=be},be.Promise=be},typeof w=="object"&&j!==void 0?j.exports=l():i.ES6Promise=l()}).call(this,t("_process"),typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,j,w){var f,p;f=this,p=function(i,l){var b=5e3,v="callback";function o(u){try{delete window[u]}catch{window[u]=void 0}}function a(u){u=document.getElementById(u),u&&document.getElementsByTagName("head")[0].removeChild(u)}l.exports=function(u){var c=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=u,h=c.timeout||b,d=c.jsonpCallback||v,x=void 0;return new Promise(function(_,T){var k=c.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=d+"_"+k,O=(window[k]=function(L){_({ok:!0,json:function(){return Promise.resolve(L)}}),x&&clearTimeout(x),a(M),o(k)},y+=y.indexOf("?")===-1?"?":"&",document.createElement("script"));O.setAttribute("src",""+y+d+"="+k),c.charset&&O.setAttribute("charset",c.charset),O.id=M,document.getElementsByTagName("head")[0].appendChild(O),x=setTimeout(function(){T(new Error("JSONP request to "+u+" timed out")),o(k),a(M),window[k]=function(){o(k)}},h),O.onerror=function(){T(new Error("JSONP request to "+u+" failed")),o(k),a(M),x&&clearTimeout(x)}})}},w!==void 0&&j!==void 0?p(0,j):(p(p={exports:{}},p),f.fetchJsonp=p.exports)},{}],252:[function(t,j,w){var f=function(p){var i,l,b,v,o,a,u,c,y,h,d;if(!(p===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return d=p.document,i=function(){return p.URL||p.webkitURL||p},l=d.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in l,v=/constructor/i.test(p.HTMLElement)||p.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(x){(p.setImmediate||p.setTimeout)(function(){throw x},0)},u=4e4,c=function(x){setTimeout(function(){typeof x=="string"?i().revokeObjectURL(x):x.remove()},u)},y=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\uFEFF",x],{type:x.type}):x},d=(h=function(x,_,L){L||(x=y(x));var k,M,O=this,L=x.type==="application/octet-stream",F=function(){for(var D=O,V="writestart progress write writeend".split(" "),P=void 0,G=(V=[].concat(V)).length;G--;){var z=D["on"+V[G]];if(typeof z=="function")try{z.call(D,P||D)}catch(q){a(q)}}};O.readyState=O.INIT,b?(k=i().createObjectURL(x),setTimeout(function(){var D,V;l.href=k,l.download=_,D=l,V=new MouseEvent("click"),D.dispatchEvent(V),F(),c(k),O.readyState=O.DONE})):(o||L&&v)&&p.FileReader?((M=new FileReader).onloadend=function(){var D=o?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");p.open(D,"_blank")||(p.location.href=D),D=void 0,O.readyState=O.DONE,F()},M.readAsDataURL(x),O.readyState=O.INIT):(k=k||i().createObjectURL(x),!L&&p.open(k,"_blank")||(p.location.href=k),O.readyState=O.DONE,F(),c(k))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,_,T){return _=_||x.name||"download",T||(x=y(x)),navigator.msSaveOrOpenBlob(x,_)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(x,_,T){return new h(x,_||x.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);j!==void 0&&j.exports?j.exports.saveAs=f:m!=null},{}],253:[function(t,j,w){var f,p=Object.defineProperty,i=(p(w,"__esModule",{value:!0}),w),l={GIFEncoder:()=>F,applyPalette:()=>function(q,Q,K="rgb565"){if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const Z=new Uint32Array(q.buffer),Y=Z.length,ee=K==="rgb444"?4096:65536,ae=new Uint8Array(Y),A=new Array(ee);if(K==="rgba4444")for(let _e=0;_e<Y;_e++){var ie=Z[_e],B=ie>>24&255,W=ie>>16&255,J=ie>>8&255,ie=255&ie,ne=c(ie,J,W,B),ne=ne in A?A[ne]:A[ne]=function(le,de,xe,Ae,Se){let Te=0,ke=1e100;for(let it=0;it<Se.length;it++){var Xe,Pe=Se[it],mt=M(Pe[3]-Ae);mt>ke||(Xe=Pe[0],(mt+=M(Xe-le))>ke||(Xe=Pe[1],(mt+=M(Xe-de))>ke||(Xe=Pe[2],(mt+=M(Xe-xe))>ke||(ke=mt,Te=it))))}return Te}(ie,J,W,B,Q);ae[_e]=ne}else{const _e=K==="rgb444"?y:u;for(let le=0;le<Y;le++){var he=Z[le],pe=he>>16&255,ge=he>>8&255,he=255&he,be=_e(he,ge,pe),be=be in A?A[be]:A[be]=function(de,xe,Ae,Se){let Te=0,ke=1e100;for(let it=0;it<Se.length;it++){var Xe,Pe=Se[it],mt=M(Pe[0]-de);mt>ke||(Xe=Pe[1],(mt+=M(Xe-xe))>ke||(Xe=Pe[2],(mt+=M(Xe-Ae))>ke||(ke=mt,Te=it)))}return Te}(he,ge,pe,Q);ae[le]=be}}return ae},default:()=>z,nearestColor:()=>function(q,Q,K=T){return q[O(q,Q,K)]},nearestColorIndex:()=>O,nearestColorIndexWithDistance:()=>L,prequantize:()=>function(q,{roundRGB:Q=5,roundAlpha:K=10,oneBitAlpha:Z=null}={}){const Y=new Uint32Array(q.buffer);for(let W=0;W<Y.length;W++){var B=Y[W];let J=B>>24&255;var ee,ae=B>>16&255,A=B>>8&255,B=255&B;J=k(J,K),Z&&(ee=typeof Z=="number"?Z:127,J=J<=ee?0:255),B=k(B,Q),A=k(A,Q),ae=k(ae,Q),Y[W]=J<<24|ae<<16|A<<8|B<<0}},quantize:()=>function(q,Q,K={}){var{format:Z="rgb565",clearAlpha:Y=!0,clearAlphaColor:ee=0,clearAlphaThreshold:ae=0,oneBitAlpha:A=!1}=K;if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");q=new Uint32Array(q.buffer);let B=K.useSqrt!==!1;const W=Z==="rgba4444",J=function(ut,dt){const ht=dt==="rgb444"?4096:65536,Ce=new Array(ht),Qe=ut.length;if(dt==="rgba4444")for(let jt=0;jt<Qe;++jt){var re=ut[jt],Ie=re>>24&255,oe=re>>16&255,ce=re>>8&255,re=255&re,fe=c(re,ce,oe,Ie);let gt=fe in Ce?Ce[fe]:Ce[fe]=_();gt.rc+=re,gt.gc+=ce,gt.bc+=oe,gt.ac+=Ie,gt.cnt++}else if(dt==="rgb444")for(let jt=0;jt<Qe;++jt){var Ge=ut[jt],Me=Ge>>16&255,De=Ge>>8&255,Ge=255&Ge,rt=y(Ge,De,Me);let gt=rt in Ce?Ce[rt]:Ce[rt]=_();gt.rc+=Ge,gt.gc+=De,gt.bc+=Me,gt.cnt++}else for(let jt=0;jt<Qe;++jt){var ft=ut[jt],at=ft>>16&255,lt=ft>>8&255,ft=255&ft,Rt=u(ft,lt,at);let gt=Rt in Ce?Ce[Rt]:Ce[Rt]=_();gt.rc+=ft,gt.gc+=lt,gt.bc+=at,gt.cnt++}return Ce}(q,Z),ie=J.length,ne=ie-1,pe=new Uint32Array(ie+1);for(var ge=0,he=0;he<ie;++he){const ut=J[he];ut!=null&&(Pe=1/ut.cnt,W&&(ut.ac*=Pe),ut.rc*=Pe,ut.gc*=Pe,ut.bc*=Pe,J[ge++]=ut)}d(Q)/ge<.022&&(B=!1);for(var be,_e,le,he=0;he<ge-1;++he)J[he].fw=he+1,J[he+1].bk=he,B&&(J[he].cnt=Math.sqrt(J[he].cnt));for(B&&(J[he].cnt=Math.sqrt(J[he].cnt)),he=0;he<ge;++he){x(J,he);var de=J[he].err;for(_e=++pe[0];1<_e&&(le=_e>>1,!(J[be=pe[le]].err<=de));_e=le)pe[_e]=be;pe[_e]=he}var xe,Ae=ge-Q;for(he=0;he<Ae;){for(;;){var Se=pe[1];if((xe=J[Se]).tm>=xe.mtm&&J[xe.nn].mtm<=xe.tm)break;for(xe.mtm==ne?Se=pe[1]=pe[pe[0]--]:(x(J,Se),xe.tm=he),de=J[Se].err,_e=1;(le=_e+_e)<=pe[0]&&(le<pe[0]&&J[pe[le]].err>J[pe[le+1]].err&&le++,!(de<=J[be=pe[le]].err));_e=le)pe[_e]=be;pe[_e]=Se}var Te=J[xe.nn],ke=xe.cnt,Xe=Te.cnt,Pe=1/(ke+Xe);W&&(xe.ac=Pe*(ke*xe.ac+Xe*Te.ac)),xe.rc=Pe*(ke*xe.rc+Xe*Te.rc),xe.gc=Pe*(ke*xe.gc+Xe*Te.gc),xe.bc=Pe*(ke*xe.bc+Xe*Te.bc),xe.cnt+=Te.cnt,xe.mtm=++he,J[Te.bk].fw=Te.fw,J[Te.fw].bk=Te.bk,Te.mtm=ne}let mt=[];for(he=0;;0){let ut=h(Math.round(J[he].rc),0,255),dt=h(Math.round(J[he].gc),0,255),ht=h(Math.round(J[he].bc),0,255),Ce=255;W&&(Ce=h(Math.round(J[he].ac),0,255),A&&(it=typeof A=="number"?A:127,Ce=Ce<=it?0:255),Y&&Ce<=ae&&(ut=dt=ht=ee,Ce=0));var it=W?[ut,dt,ht,Ce]:[ut,dt,ht];if(function(Qe,Ie){for(let re=0;re<Qe.length;re++){var ce=Qe[re],oe=ce[0]===Ie[0]&&ce[1]===Ie[1]&&ce[2]===Ie[2],ce=!(4<=ce.length&&4<=Ie.length)||ce[3]===Ie[3];if(oe&&ce)return!0}return!1}(mt,it)||mt.push(it),(he=J[he].fw)==0)break}return mt},snapColorsToPalette:()=>function(q,Q,K=5){if(q.length&&Q.length){var Z=q.map(B=>B.slice(0,3)),Y=K*K,ee=q[0].length;for(let B=0;B<Q.length;B++){let W=Q[B];W=W.length<ee?[W[0],W[1],W[2],255]:W.length>ee?W.slice(0,3):W.slice();var A=L(Z,W.slice(0,3),T),ae=A[0],A=A[1];0<A&&A<=Y&&(q[ae]=W)}}}};for(f in l)p(i,f,{get:l[f],enumerable:!0});var b={trailer:59};function v(q=256){let Q=0,K=new Uint8Array(q);return{get buffer(){return K.buffer},reset(){Q=0},bytesView(){return K.subarray(0,Q)},bytes(){return K.slice(0,Q)},writeByte(Y){Z(Q+1),K[Q]=Y,Q++},writeBytes(Y,ee=0,ae=Y.length){Z(Q+ae);for(let A=0;A<ae;A++)K[Q++]=Y[A+ee]},writeBytesView(Y,ee=0,ae=Y.byteLength){Z(Q+ae),K.set(Y.subarray(ee,ee+ae),Q),Q+=ae}};function Z(Y){var ee=K.length;if(!(Y<=ee)){Y=Math.max(Y,ee*(ee<1048576?2:1.125)>>>0),ee!=0&&(Y=Math.max(Y,256));const ae=K;K=new Uint8Array(Y),0<Q&&K.set(ae.subarray(0,Q),0)}}}var o=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(q,Q,K,W,Y=v(512),ee=new Uint8Array(256),ae=new Int32Array(5003),A=new Int32Array(5003)){var B=ae.length,W=Math.max(2,W);ee.fill(0),A.fill(0),ae.fill(-1);let J=0,ie=0;var ne=W+1;const pe=ne;let ge=!1,he=pe,be=(1<<he)-1;var _e=1<<ne-1;const le=1+_e;let de=2+_e,xe=0,Ae=K[0],Se=0;for(let it=B;it<65536;it*=2)++Se;Se=8-Se,Y.writeByte(W),mt(_e);var Te=K.length;for(let it=1;it<Te;it++)e:{var ke=K[it],Xe=(ke<<12)+Ae;let ut=ke<<Se^Ae;if(ae[ut]===Xe)Ae=A[ut];else{for(var Pe=ut===0?1:B-ut;0<=ae[ut];)if((ut-=Pe)<0&&(ut+=B),ae[ut]===Xe){Ae=A[ut];break e}mt(Ae),Ae=ke,de<4096?(A[ut]=de++,ae[ut]=Xe):(ae.fill(-1),de=2+_e,ge=!0,mt(_e))}}return mt(Ae),mt(le),Y.writeByte(0),Y.bytesView();function mt(it){for(J&=o[ie],0<ie?J|=it<<ie:J=it,ie+=he;8<=ie;)ee[xe++]=255&J,254<=xe&&(Y.writeByte(xe),Y.writeBytesView(ee,0,xe),xe=0),J>>=8,ie-=8;if((de>be||ge)&&(ge?(he=pe,be=(1<<he)-1,ge=!1):(++he,be=he===12?1<<he:(1<<he)-1)),it==le){for(;0<ie;)ee[xe++]=255&J,254<=xe&&(Y.writeByte(xe),Y.writeBytesView(ee,0,xe),xe=0),J>>=8,ie-=8;0<xe&&(Y.writeByte(xe),Y.writeBytesView(ee,0,xe),xe=0)}}};function u(q,Q,K){return q<<8&63488|Q<<2&992|K>>3}function c(q,Q,K,Z){return q>>4|240&Q|(240&K)<<4|(240&Z)<<8}function y(q,Q,K){return q>>4<<8|240&Q|K>>4}function h(q,Q,K){return q<Q?Q:K<q?K:q}function d(q){return q*q}function x(q,Q,K){var Z=0,Y=1e100;const ee=q[Q];for(var ae=ee.cnt,A=ee.ac,B=ee.rc,W=ee.gc,J=ee.bc,ie=ee.fw;ie!=0;ie=q[ie].fw){var ne,pe=q[ie],ge=pe.cnt,ge=ae*ge/(ae+ge);Y<=ge||(ne=0,Y<=(ne+=ge*d(pe.rc-B))||Y<=(ne+=ge*d(pe.gc-W))||Y<=(ne+=ge*d(pe.bc-J))||(Y=ne,Z=ie))}ee.err=Y,ee.nn=Z}function _(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function T(q,Q){for(var K=0,Z=0;Z<q.length;Z++){var Y=q[Z]-Q[Z];K+=Y*Y}return K}function k(q,Q){return 1<Q?Math.round(q/Q)*Q:q}function M(q){return q*q}function O(q,Q,K=T){let Z=1/0,Y=-1;for(let ae=0;ae<q.length;ae++){var ee=K(Q,q[ae]);ee<Z&&(Z=ee,Y=ae)}return Y}function L(q,Q,K=T){let Z=1/0,Y=-1;for(let ae=0;ae<q.length;ae++){var ee=K(Q,q[ae]);ee<Z&&(Z=ee,Y=ae)}return[Y,Z]}function F(q={}){const{initialCapacity:Q=4096,auto:K=!0}=q,Z=v(Q),Y=new Uint8Array(256),ee=new Int32Array(5003),ae=new Int32Array(5003);let A=!1;return{reset(){Z.reset(),A=!1},finish(){Z.writeByte(b.trailer)},bytes(){return Z.bytes()},bytesView(){return Z.bytesView()},get buffer(){return Z.buffer},get stream(){return Z},writeHeader:B,writeFrame(W,J,ie,Ae={}){var{transparent:pe=!1,transparentIndex:ge=0,delay:Pe=0,palette:he=null,repeat:Te=0,colorDepth:be=8,dispose:_e=-1}=Ae;let le=!1;if(K?A||(le=!0,B(),A=!0):le=!!Ae.first,J=Math.max(0,Math.floor(J)),ie=Math.max(0,Math.floor(ie)),le){if(!he)throw new Error("First frame must include a { palette } option");var[Ae,ke,xe,Xe,Se=8]=[Z,J,ie,he,be];Xe=G(Xe.length)-1,Se=128|Se-1<<4|Xe,V(Ae,ke),V(Ae,xe),Ae.writeBytes([Se,0,0]),D(Z,he),0<=Te&&(Xe=Z,ke=Te,Xe.writeByte(33),Xe.writeByte(255),Xe.writeByte(11),P(Xe,"NETSCAPE2.0"),Xe.writeByte(3),Xe.writeByte(1),V(Xe,ke),Xe.writeByte(0))}var de,xe=Math.round(Pe/10),Ae=Z,Se=_e,Te=xe,ke=pe,Xe=ge,Pe=(Ae.writeByte(33),Ae.writeByte(249),Ae.writeByte(4),Xe<0&&(Xe=0,ke=!1),ke=ke?(de=1,2):de=0,0<=Se&&(ke=7&Se),ke<<=2,Ae.writeByte(0|ke|de),V(Ae,Te),Ae.writeByte(Xe||0),Ae.writeByte(0),!!he&&!le);_e=Z,pe=J,ge=ie,de=Pe?he:null,_e.writeByte(44),V(_e,0),V(_e,0),V(_e,pe),V(_e,ge),de?(pe=G(de.length)-1,_e.writeByte(128|pe)):_e.writeByte(0),Pe&&D(Z,he),[Te,Ae,ge,pe,_e=8,Pe,he,W]=[Z,W,J,ie,be,Y,ee,ae],a(ge,pe,Ae,_e,Te,Pe,he,W)}};function B(){P(Z,"GIF89a")}}function D(q,Q){var K=1<<G(Q.length);for(let Z=0;Z<K;Z++){let Y=[0,0,0];Z<Q.length&&(Y=Q[Z]),q.writeByte(Y[0]),q.writeByte(Y[1]),q.writeByte(Y[2])}}function V(q,Q){q.writeByte(255&Q),q.writeByte(Q>>8&255)}function P(q,Q){for(var K=0;K<Q.length;K++)q.writeByte(Q.charCodeAt(K))}function G(q){return Math.max(Math.ceil(Math.log2(q)),1)}var z=F},{}],254:[function(t,j,w){w.read=function(f,p,i,l,x){var v,o,a=8*x-l-1,u=(1<<a)-1,c=u>>1,y=-7,h=i?x-1:0,d=i?-1:1,x=f[p+h];for(h+=d,v=x&(1<<-y)-1,x>>=-y,y+=a;0<y;v=256*v+f[p+h],h+=d,y-=8);for(o=v&(1<<-y)-1,v>>=-y,y+=l;0<y;o=256*o+f[p+h],h+=d,y-=8);if(v===0)v=1-c;else{if(v===u)return o?NaN:1/0*(x?-1:1);o+=Math.pow(2,l),v-=c}return(x?-1:1)*o*Math.pow(2,v-l)},w.write=function(f,p,i,l,b,_){var o,a,u=8*_-b-1,c=(1<<u)-1,y=c>>1,h=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=l?0:_-1,x=l?1:-1,_=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(a=isNaN(p)?1:0,o=c):(o=Math.floor(Math.log(p)/Math.LN2),p*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(p+=1<=o+y?h/l:h*Math.pow(2,1-y))*l&&(o++,l/=2),c<=o+y?(a=0,o=c):1<=o+y?(a=(p*l-1)*Math.pow(2,b),o+=y):(a=p*Math.pow(2,y-1)*Math.pow(2,b),o=0));8<=b;f[i+d]=255&a,d+=x,a/=256,b-=8);for(o=o<<b|a,u+=b;0<u;f[i+d]=255&o,d+=x,o/=256,u-=8);f[i+d-x]|=128*_}},{}],255:[function(t,j,w){var f;function p(oe,ce){return oe.b===ce.b&&oe.a===ce.a}function i(oe,ce){return oe.b<ce.b||oe.b===ce.b&&oe.a<=ce.a}function l(oe,ce,re){var fe=ce.b-oe.b,Me=re.b-ce.b;return 0<fe+Me?fe<Me?ce.a-oe.a+fe/(fe+Me)*(oe.a-re.a):ce.a-re.a+Me/(fe+Me)*(re.a-oe.a):0}function b(oe,ce,re){var fe=ce.b-oe.b,Me=re.b-ce.b;return 0<fe+Me?(ce.a-re.a)*fe+(ce.a-oe.a)*Me:0}function v(oe,ce){return oe.a<ce.a||oe.a===ce.a&&oe.b<=ce.b}function o(oe,ce,re){var fe=ce.a-oe.a,Me=re.a-ce.a;return 0<fe+Me?fe<Me?ce.b-oe.b+fe/(fe+Me)*(oe.b-re.b):ce.b-re.b+Me/(fe+Me)*(re.b-oe.b):0}function a(oe,ce,re){var fe=ce.a-oe.a,Me=re.a-ce.a;return 0<fe+Me?(ce.b-re.b)*fe+(ce.b-oe.b)*Me:0}function u(oe,ce,re,fe){return(oe=oe<0?0:oe)<=(re=re<0?0:re)?re===0?(ce+fe)/2:ce+oe/(oe+re)*(fe-ce):fe+re/(oe+re)*(ce-fe)}function c(oe){var ce=_(oe.b);return k(ce,oe.c),k(ce.b,oe.c),M(ce,oe.a),ce}function y(oe,ce){var re=!1,fe=!1;oe!==ce&&(ce.a!==oe.a&&(fe=!0,L(ce.a,oe.a)),ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),T(ce,oe),fe||(k(ce,oe.a),oe.a.c=oe),re||(M(ce,oe.d),oe.d.a=oe))}function h(oe){var ce=oe.b,re=!1;oe.d!==oe.b.d&&(re=!0,F(oe.d,oe.b.d)),oe.c===oe?L(oe.a,null):(oe.b.d.a=oe.b.e,oe.a.c=oe.c,T(oe,oe.b.e),re||M(oe,oe.d)),ce.c===ce?(L(ce.a,null),F(ce.d,null)):(oe.d.a=ce.b.e,ce.a.c=ce.c,T(ce,ce.b.e)),O(oe)}function d(oe){var ce=_(oe),re=ce.b;return T(ce,oe.e),ce.a=oe.b.a,k(re,ce.a),ce.d=re.d=oe.d,ce=ce.b,T(oe.b,oe.b.b.e),T(oe.b,ce),oe.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=oe.b.d,ce.f=oe.f,ce.b.f=oe.b.f,ce}function x(oe,ce){var re=!1,fe=_(oe),Me=fe.b;return ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),T(fe,oe.e),T(Me,ce),fe.a=oe.b.a,Me.a=ce.a,fe.d=Me.d=oe.d,oe.d.a=Me,re||M(fe,oe.d),fe}function _(oe){var ce=new xe,re=new xe,fe=oe.b.h;return(((re.h=fe).b.h=ce).h=oe).b.h=re,ce.b=re,((ce.c=ce).e=re).b=ce,(re.c=re).e=ce}function T(oe,ce){var re=oe.c,fe=ce.c;re.b.e=ce,(fe.b.e=oe).c=fe,ce.c=re}function k(oe,ce){var re=ce.f,fe=new Se(ce,re);for(re.e=fe,re=(ce.f=fe).c=oe;re.a=fe,(re=re.c)!==oe;);}function M(oe,ce){var re=ce.d,fe=new de(ce,re);for(re.b=fe,(ce.d=fe).a=oe,fe.c=ce.c,re=oe;re.d=fe,(re=re.e)!==oe;);}function O(oe){var ce=oe.h;oe=oe.b.h,(ce.b.h=oe).b.h=ce}function L(oe,ce){for(var re=oe.c,fe=re;fe.a=ce,(fe=fe.c)!==re;);re=oe.f,((fe=oe.e).f=re).e=fe}function F(oe,ce){for(var re=oe.a,fe=re;fe.d=ce,(fe=fe.e)!==re;);re=oe.d,((fe=oe.b).d=re).b=fe}function D(oe){var ce=0;return Math.abs(oe[1])>Math.abs(oe[0])&&(ce=1),ce=Math.abs(oe[2])>Math.abs(oe[ce])?2:ce}function V(oe,ce){oe.f+=ce.f,oe.b.f+=ce.b.f}function P(oe,ce,re){return oe=oe.a,ce=ce.a,re=re.a,ce.b.a===oe?re.b.a===oe?i(ce.a,re.a)?b(re.b.a,ce.a,re.a)<=0:0<=b(ce.b.a,re.a,ce.a):b(re.b.a,oe,re.a)<=0:re.b.a===oe?0<=b(ce.b.a,oe,ce.a):(ce=l(ce.b.a,oe,ce.a),(oe=l(re.b.a,oe,re.a))<=ce)}function G(oe){oe.a.i=null;var ce=oe.e;ce.a.c=ce.c,ce.c.a=ce.a,oe.e=null}function z(oe,ce){h(oe.a),oe.c=!1,(oe.a=ce).i=oe}function q(oe){for(var ce=oe.a.a;(oe=Ie(oe)).a.a===ce;);return oe.c&&(z(oe,ce=x(Qe(oe).a.b,oe.a.e)),oe=Ie(oe)),oe}function Q(oe,ce,re){var fe=new Ce;return fe.a=re,fe.e=ge(oe.f,ce.e,fe),re.i=fe}function K(oe,ce){switch(oe.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function Z(oe){var ce=oe.a,re=ce.d;re.c=oe.d,re.a=ce,G(oe)}function Y(oe,ce,re){for(ce=(oe=ce).a;oe!==re;){oe.c=!1;var fe=Qe(oe),Me=fe.a;if(Me.a!==ce.a){if(!fe.c){Z(oe);break}z(fe,Me=x(ce.c.b,Me.b))}ce.c!==Me&&(y(Me.b.e,Me),y(ce,Me)),Z(oe),ce=fe.a,oe=fe}return ce}function ee(oe,ce,re,fe,Me,De){for(var Ge=!0;Q(oe,ce,re.b),(re=re.c)!==fe;);for(Me===null&&(Me=Qe(ce).a.b.c);(re=(fe=Qe(ce)).a.b).a===Me.a;)re.c!==Me&&(y(re.b.e,re),y(Me.b.e,re)),fe.f=ce.f-re.f,fe.d=K(oe,fe.f),ce.b=!0,!Ge&&W(oe,ce)&&(V(re,Me),G(ce),h(Me)),Ge=!1,ce=fe,Me=re;ce.b=!0,De&&ie(oe,ce)}function ae(oe,ce,re,fe,Me){var De=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=oe.o&&oe.o(De,re,fe,oe.c)||null,ce.d===null&&(Me?oe.n||(le(oe,100156),oe.n=!0):ce.d=re[0])}function A(oe,ce,re){var fe=[null,null,null,null];fe[0]=ce.a.d,fe[1]=re.a.d,ae(oe,ce.a,fe,[.5,.5,0,0],!1),y(ce,re)}function B(oe,ce,re,fe,Me){var De=Math.abs(ce.b-oe.b)+Math.abs(ce.a-oe.a),Ge=Math.abs(re.b-oe.b)+Math.abs(re.a-oe.a),rt=Me+1;fe[Me]=.5*Ge/(De+Ge),fe[rt]=.5*De/(De+Ge),oe.g[0]+=fe[Me]*ce.g[0]+fe[rt]*re.g[0],oe.g[1]+=fe[Me]*ce.g[1]+fe[rt]*re.g[1],oe.g[2]+=fe[Me]*ce.g[2]+fe[rt]*re.g[2]}function W(oe,ce){var re=Qe(ce),fe=ce.a,Me=re.a;if(i(fe.a,Me.a)){if(0<b(Me.b.a,fe.a,Me.a))return;if(p(fe.a,Me.a)){if(fe.a!==Me.a){var re=oe.e,De=fe.a.h;if(0<=De){var Ge=(re=re.b).d,rt=re.e,at=re.c,lt=at[De];Ge[lt]=Ge[re.a],(at[Ge[lt]]=lt)<=--re.a&&(lt<=1||i(rt[Ge[lt>>1]],rt[Ge[lt]])?dt:ht)(re,lt),rt[De]=null,at[De]=re.b,re.b=De}else for(re.c[-(De+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;A(oe,Me.b.e,fe)}}else d(Me.b),y(fe,Me.b.e),ce.b=re.b=!0}else{if(b(fe.b.a,Me.a,fe.a)<0)return;Ie(ce).b=ce.b=!0,d(fe.b),y(Me.b.e,fe)}return 1}function J(oe,ce){var re=Qe(ce),fe=ce.a,Me=re.a,De=fe.a,Ge=Me.a,rt=fe.b.a,at=Me.b.a,lt=new Se;if(b(rt,oe.a,De),b(at,oe.a,Ge),!(De===Ge||Math.min(De.a,rt.a)>Math.max(Ge.a,at.a))){if(i(De,Ge)){if(0<b(at,De,Ge))return}else if(b(rt,Ge,De)<0)return;var ft,Rt,jt=rt,gt=De,kt=at,Mt=Ge;if(i(jt,gt)||(ft=jt,jt=gt,gt=ft),i(kt,Mt)||(ft=kt,kt=Mt,Mt=ft),i(jt,kt)||(ft=jt,jt=kt,kt=ft,ft=gt,gt=Mt,Mt=ft),i(kt,gt)?i(gt,Mt)?((ft=l(jt,kt,gt))+(Rt=l(kt,gt,Mt))<0&&(ft=-ft,Rt=-Rt),lt.b=u(ft,kt.b,Rt,gt.b)):((ft=b(jt,kt,gt))+(Rt=-b(jt,Mt,gt))<0&&(ft=-ft,Rt=-Rt),lt.b=u(ft,kt.b,Rt,Mt.b)):lt.b=(kt.b+gt.b)/2,v(jt,gt)||(ft=jt,jt=gt,gt=ft),v(kt,Mt)||(ft=kt,kt=Mt,Mt=ft),v(jt,kt)||(ft=jt,jt=kt,kt=ft,ft=gt,gt=Mt,Mt=ft),v(kt,gt)?v(gt,Mt)?((ft=o(jt,kt,gt))+(Rt=o(kt,gt,Mt))<0&&(ft=-ft,Rt=-Rt),lt.a=u(ft,kt.a,Rt,gt.a)):((ft=a(jt,kt,gt))+(Rt=-a(jt,Mt,gt))<0&&(ft=-ft,Rt=-Rt),lt.a=u(ft,kt.a,Rt,Mt.a)):lt.a=(kt.a+gt.a)/2,i(lt,oe.a)&&(lt.b=oe.a.b,lt.a=oe.a.a),jt=i(De,Ge)?De:Ge,i(jt,lt)&&(lt.b=jt.b,lt.a=jt.a),p(lt,De)||p(lt,Ge))return W(oe,ce),0;if(!p(rt,oe.a)&&0<=b(rt,oe.a,lt)||!p(at,oe.a)&&b(at,oe.a,lt)<=0){if(at===oe.a)d(fe.b),y(Me.b,fe),fe=Qe(ce=q(ce)).a,Y(oe,Qe(ce),re),ee(oe,ce,fe.b.e,fe,fe,!0);else{if(rt!==oe.a)return 0<=b(rt,oe.a,lt)&&(Ie(ce).b=ce.b=!0,d(fe.b),fe.a.b=oe.a.b,fe.a.a=oe.a.a),void(b(at,oe.a,lt)<=0&&(ce.b=re.b=!0,d(Me.b),Me.a.b=oe.a.b,Me.a.a=oe.a.a));for(d(Me.b),y(fe.e,Me.b.e),Ge=(De=re=ce).a.b.a;(De=Ie(De)).a.b.a===Ge;);De=Qe(ce=De).a.b.c,re.a=Me.b.e,ee(oe,ce,(Me=Y(oe,re,null)).c,fe.b.c,De,!0)}return 1}d(fe.b),d(Me.b),y(Me.b.e,fe),fe.a.b=lt.b,fe.a.a=lt.a,fe.a.h=ke(oe.e,fe.a),fe=fe.a,Me=[0,0,0,0],lt=[De.d,rt.d,Ge.d,at.d],fe.g[0]=fe.g[1]=fe.g[2]=0,B(fe,De,rt,Me,0),B(fe,Ge,at,Me,2),ae(oe,fe,lt,Me,!0),Ie(ce).b=ce.b=re.b=!0}}function ie(oe,ce){for(var re=Qe(ce);;){for(;re.b;)re=Qe(ce=re);if(!ce.b&&((ce=Ie(re=ce))===null||!ce.b))break;ce.b=!1;var fe=ce.a,Me=re.a;if(De=fe.b.a!==Me.b.a)e:{var De,Ge=Qe(De=ce),rt=De.a,at=Ge.a,lt=void 0;if(i(rt.b.a,at.b.a)){if(b(rt.b.a,at.b.a,rt.a)<0){De=!1;break e}Ie(De).b=De.b=!0,lt=d(rt),y(at.b,lt),lt.d.c=De.d}else{if(0<b(at.b.a,rt.b.a,at.a)){De=!1;break e}De.b=Ge.b=!0,lt=d(at),y(rt.e,at.b),lt.b.d.c=De.d}De=!0}if(De&&(re.c?(G(re),h(Me),Me=(re=Qe(ce)).a):ce.c&&(G(ce),h(fe),fe=(ce=Ie(re)).a)),fe.a!==Me.a){if(fe.b.a===Me.b.a||ce.c||re.c||fe.b.a!==oe.a&&Me.b.a!==oe.a)W(oe,ce);else if(J(oe,ce))break}fe.a===Me.a&&fe.b.a===Me.b.a&&(V(Me,fe),G(ce),h(fe),ce=Ie(re))}}function ne(oe,ce){var re=new Ce,fe=c(oe.b);fe.a.b=4e150,fe.a.a=ce,fe.b.a.b=-4e150,fe.b.a.a=ce,oe.a=fe.b.a,re.a=fe,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,fe=ge(fe=oe.f,fe.a,re),re.e=fe}function pe(oe){this.a=new he,this.b=oe,this.c=P}function ge(oe,ce,re){for(;(ce=ce.c).b!==null&&!oe.c(oe.b,ce.b,re););return oe=new he(re,ce.a,ce),ce.a.c=oe,ce.a=oe}function he(oe,ce,re){this.b=oe||null,this.a=ce||this,this.c=re||this}function be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function _e(oe,ce){if(oe.d!==ce)for(;oe.d!==ce;)if(oe.d<ce)switch(oe.d){case 0:le(oe,100151),oe.u(null);break;case 1:le(oe,100152),oe.t()}else switch(oe.d){case 2:le(oe,100154),oe.v();break;case 1:le(oe,100153),oe.w()}}function le(oe,ce){oe.p&&oe.p(ce,oe.c)}function de(oe,ce){this.b=oe||this,this.d=ce||this,this.a=null,this.c=!1}function xe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ae(){this.c=new Se,this.a=new de,this.b=new xe,this.d=new xe,this.b.b=this.d,this.d.b=this.b}function Se(oe,ce){this.e=oe||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Pe}function ke(oe,ce){var re,fe,Me;return oe.e?(2*(fe=++(re=oe.b).a)>re.f&&(re.f*=2,re.c=mt(re.c,re.f+1)),re.b===0?Me=fe:(Me=re.b,re.b=re.c[re.b]),re.e[Me]=ce,re.c[Me]=fe,re.d[fe]=Me,re.h&&ht(re,fe),Me):(re=oe.a++,oe.c[re]=ce,-(re+1))}function Xe(oe){if(oe.a===0)return ut(oe.b);var ce=oe.c[oe.d[oe.a-1]];if(oe.b.a!==0&&i(it(oe.b),ce))return ut(oe.b);for(;--oe.a,0<oe.a&&oe.c[oe.d[oe.a-1]]===null;);return ce}function Pe(){this.d=mt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function mt(oe,ce){for(var re=Array(ce),fe=0;fe<oe.length;fe++)re[fe]=oe[fe];for(;fe<ce;fe++)re[fe]=0;return re}function it(oe){return oe.e[oe.d[1]]}function ut(oe){var ce=oe.d,re=oe.e,fe=oe.c,Me=ce[1],De=re[Me];return 0<oe.a&&(ce[1]=ce[oe.a],fe[ce[1]]=1,re[Me]=null,fe[Me]=oe.b,oe.b=Me,0<--oe.a&&dt(oe,1)),De}function dt(oe,ce){for(var re=oe.d,fe=oe.e,Me=oe.c,De=ce,Ge=re[De];;){var rt=De<<1,at=(rt<oe.a&&i(fe[re[rt+1]],fe[re[rt]])&&(rt+=1),re[rt]);if(rt>oe.a||i(fe[Ge],fe[at])){Me[re[De]=Ge]=De;break}Me[re[De]=at]=De,De=rt}}function ht(oe,ce){for(var re=oe.d,fe=oe.e,Me=oe.c,De=ce,Ge=re[De];;){var rt=De>>1,at=re[rt];if(rt==0||i(fe[at],fe[Ge])){Me[re[De]=Ge]=De;break}Me[re[De]=at]=De,De=rt}}function Ce(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Qe(oe){return oe.e.c.b}function Ie(oe){return oe.e.a.b}(f=be.prototype).x=function(){_e(this,0)},f.B=function(oe,ce){switch(oe){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void le(this,100900)}le(this,100901)},f.y=function(oe){switch(oe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:le(this,100900)}return!1},f.A=function(oe,ce,re){this.j[0]=oe,this.j[1]=ce,this.j[2]=re},f.z=function(oe,ce){var re=ce||null;switch(oe){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:le(this,100900)}},f.C=function(oe,ce){var re=!1,fe=[0,0,0];_e(this,2);for(var Me=0;Me<3;++Me){var De=oe[Me];De<-1e150&&(De=-1e150,re=!0),1e150<De&&(De=1e150,re=!0),fe[Me]=De}re&&le(this,100155),(re=this.q)===null?y(re=c(this.b),re.b):(d(re),re=re.e),re.a.d=ce,re.a.g[0]=fe[0],re.a.g[1]=fe[1],re.a.g[2]=fe[2],re.f=1,re.b.f=-1,this.q=re},f.u=function(oe){_e(this,0),this.d=1,this.b=new Ae,this.c=oe},f.t=function(){_e(this,1),this.d=2,this.q=null},f.v=function(){_e(this,2),this.d=1},f.w=function(){_e(this,1),this.d=0;var oe,ce,re=this.j[0],fe=this.j[1],Me=this.j[2],De=!1,Ge=[re,fe,Me];if(re===0&&fe===0&&Me===0){for(var fe=[-2e150,-2e150,-2e150],rt=[2e150,2e150,2e150],Me=[],at=[],re=(De=this.b.c).e;re!==De;re=re.e)for(var lt=0;lt<3;++lt){var ft=re.g[lt];ft<rt[lt]&&(rt[lt]=ft,at[lt]=re),ft>fe[lt]&&(fe[lt]=ft,Me[lt]=re)}if(fe[1]-rt[1]>fe[re=0]-rt[0]&&(re=1),rt[re=fe[2]-rt[2]>fe[re]-rt[re]?2:re]>=fe[re])Ge[0]=0,Ge[1]=0,Ge[2]=1;else{for(rt=at[re],Me=Me[re],at=[fe=0,0,0],rt=[rt.g[0]-Me.g[0],rt.g[1]-Me.g[1],rt.g[2]-Me.g[2]],lt=[0,0,0],re=De.e;re!==De;re=re.e)lt[0]=re.g[0]-Me.g[0],lt[1]=re.g[1]-Me.g[1],lt[2]=re.g[2]-Me.g[2],at[0]=rt[1]*lt[2]-rt[2]*lt[1],at[1]=rt[2]*lt[0]-rt[0]*lt[2],at[2]=rt[0]*lt[1]-rt[1]*lt[0],fe<(ft=at[0]*at[0]+at[1]*at[1]+at[2]*at[2])&&(fe=ft,Ge[0]=at[0],Ge[1]=at[1],Ge[2]=at[2]);fe<=0&&(Ge[0]=Ge[1]=Ge[2]=0,Ge[D(rt)]=1)}De=!0}for(at=D(Ge),re=this.b.c,fe=(at+1)%3,Me=(at+2)%3,at=0<Ge[at]?1:-1,Ge=re.e;Ge!==re;Ge=Ge.e)Ge.b=Ge.g[fe],Ge.a=at*Ge.g[Me];if(De){for(Ge=0,re=(De=this.b.a).b;re!==De;re=re.b)if(!((fe=re.a).f<=0))for(;Ge+=(fe.a.b-fe.b.a.b)*(fe.a.a+fe.b.a.a),(fe=fe.e)!==re.a;);if(Ge<0)for(De=(Ge=this.b.c).e;De!==Ge;De=De.e)De.a=-De.a}for(this.n=!1,Ge=this.b.b,re=Ge.h;re!==Ge;re=De)De=re.h,fe=re.e,p(re.a,re.b.a)&&re.e.e!==re&&(A(this,fe,re),h(re),fe=(re=fe).e),fe.e===re&&(fe!==re&&(fe!==De&&fe!==De.b||(De=De.h),h(fe)),re!==De&&re!==De.b||(De=De.h),h(re));for(this.e=Ge=new Te,De=this.b.c,re=De.e;re!==De;re=re.e)re.h=ke(Ge,re);var Rt=Ge;Rt.d=[];for(var jt=0;jt<Rt.a;jt++)Rt.d[jt]=jt;Rt.d.sort(function(Mt){return function(or,en){return i(Mt[or],Mt[en])?1:-1}}(Rt.c)),Rt.e=!0;for(var gt=Rt.b,kt=gt.a;1<=kt;--kt)dt(gt,kt);for(gt.h=!0,this.f=new pe(this),ne(this,-4e150),ne(this,4e150);(Ge=Xe(this.e))!==null;){for(;;){e:if((re=this.e).a===0)De=it(re.b);else if(De=re.c[re.d[re.a-1]],re.b.a!==0&&i(re=it(re.b),De)){De=re;break e}if(De===null||!p(De,Ge))break;De=Xe(this.e),A(this,Ge.c,De.c)}(function Mt(or,en){for(var Tr,Xt=(or.a=en).c;Xt.i===null;)if((Xt=Xt.c)===en.c){var Xt=or,mr=en;(tr=new Ce).a=mr.c.b;for(var tn=(Yt=Xt.f).a;(tn=tn.a).b!==null&&!Yt.c(Yt.b,tr,tn.b););var Yt,Xr,Gr=Qe(Yt=tn.b),tr=Yt.a,tn=Gr.a;return void(b(tr.b.a,mr,tr.a)===0?p((tr=Yt.a).a,mr)||p(tr.b.a,mr)||(d(tr.b),Yt.c&&(h(tr.c),Yt.c=!1),y(mr.c,tr),Mt(Xt,mr)):(Xr=i(tn.b.a,tr.b.a)?Yt:Gr,Gr=void 0,Yt.d||Xr.c?(Gr=Xr===Yt?x(mr.c.b,tr.e):x(tn.b.c.b,mr.c).b,Xr.c?z(Xr,Gr):((Yt=Q(tr=Xt,Yt,Gr)).f=Ie(Yt).f+Yt.a.f,Yt.d=K(tr,Yt.f)),Mt(Xt,mr)):ee(Xt,Yt,mr.c,mr.c,null,!0)))}Yt=(tr=Qe(Xt=q(Xt.i))).a,(tr=Y(or,tr,null)).c===Yt?(tr=(Yt=tr).c,tn=Qe(Xt),Gr=Xt.a,Xr=tn.a,Tr=!1,Gr.b.a!==Xr.b.a&&J(or,Xt),p(Gr.a,or.a)&&(y(tr.b.e,Gr),tr=Qe(Xt=q(Xt)).a,Y(or,Qe(Xt),tn),Tr=!0),p(Xr.a,or.a)&&(y(Yt,Xr.b.e),Yt=Y(or,tn,null),Tr=!0),Tr?ee(or,Xt,Yt.c,tr,tr,!0):(mr=i(Xr.a,Gr.a)?Xr.b.e:Gr,ee(or,Xt,mr=x(Yt.c.b,mr),mr.c,mr.c,!1),mr.b.i.c=!0,ie(or,Xt))):ee(or,Xt,tr.c,Yt,Yt,!0)})(this,Ge)}for(this.a=this.f.a.a.b.a.a,Ge=0;(De=this.f.a.a.b)!==null;)De.h||++Ge,G(De);for(this.f=null,(Ge=this.e).b=null,Ge.d=null,this.e=Ge.c=null,Ge=this.b,re=Ge.a.b;re!==Ge.a;re=De)De=re.b,(re=re.a).e.e===re&&(V(re.c,re),h(re));if(!this.n){if(Ge=this.b,this.m)for(re=Ge.b.h;re!==Ge.b;re=De)De=re.h,re.b.d.c!==re.d.c?re.f=re.d.c?1:-1:h(re);else for(re=Ge.a.b;re!==Ge.a;re=De)if(De=re.b,re.c){for(re=re.a;i(re.b.a,re.a);re=re.c.b);for(;i(re.a,re.b.a);re=re.e);for(fe=re.c.b,Me=void 0;re.e!==fe;)if(i(re.b.a,fe.a)){for(;fe.e!==re&&(i((ce=fe.e).b.a,ce.a)||b(fe.a,fe.b.a,fe.e.b.a)<=0);)fe=(Me=x(fe.e,fe)).b;fe=fe.c.b}else{for(;fe.e!==re&&(i((oe=re.c.b).a,oe.b.a)||0<=b(re.b.a,re.a,re.c.b.a));)re=(Me=x(re,re.c.b)).b;re=re.e}for(;fe.e.e!==re;)Me=x(fe.e,fe),fe=Me.b}if(this.h||this.i||this.k||this.l)if(this.m){for(De=(Ge=this.b).a.b;De!==Ge.a;De=De.b)if(De.c){for(this.h&&this.h(2,this.c),re=De.a;this.k&&this.k(re.a.d,this.c),(re=re.e)!==De.a;);this.i&&this.i(this.c)}}else{for(Ge=this.b,De=!!this.l,re=!1,fe=-1,Me=Ge.a.d;Me!==Ge.a;Me=Me.d)if(Me.c)for(re||(this.h&&this.h(4,this.c),re=!0),at=Me.a;De&&(rt=at.b.d.c?0:1,fe!==rt&&(fe=rt,this.l&&this.l(!!fe,this.c))),this.k&&this.k(at.a.d,this.c),(at=at.e)!==Me.a;);re&&this.i&&this.i(this.c)}if(this.r){for(Ge=this.b,re=Ge.a.b;re!==Ge.a;re=De)if(De=re.b,!re.c){for(Me=(fe=re.a).e,at=void 0;Me=(at=Me).e,(at.d=null)===at.b.d&&(at.c===at?L(at.a,null):(at.a.c=at.c,T(at,at.b.e)),(rt=at.b).c===rt?L(rt.a,null):(rt.a.c=rt.c,T(rt,rt.b.e)),O(at)),at!==fe;);fe=re.d,((re=re.b).d=fe).b=re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},be.prototype.gluDeleteTess=be.prototype.x,be.prototype.gluTessProperty=be.prototype.B,be.prototype.gluGetTessProperty=be.prototype.y,be.prototype.gluTessNormal=be.prototype.A,be.prototype.gluTessCallback=be.prototype.z,be.prototype.gluTessVertex=be.prototype.C,be.prototype.gluTessBeginPolygon=be.prototype.u,be.prototype.gluTessBeginContour=be.prototype.t,be.prototype.gluTessEndContour=be.prototype.v,be.prototype.gluTessEndPolygon=be.prototype.w,j!==void 0&&(j.exports=this.libtess)},{}],256:[function(t,j,w){function f(i,l,b,v){var o=0,a=(v=v===void 0?{}:v).loop===void 0?null:v.loop,u=v.palette===void 0?null:v.palette;if(l<=0||b<=0||65535<l||65535<b)throw new Error("Width/Height invalid.");function c(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}i[o++]=71,i[o++]=73,i[o++]=70,i[o++]=56,i[o++]=57,i[o++]=97;var y=0,h=0;if(u!==null){for(var d=c(u);d>>=1;)++y;if(d=1<<y,--y,v.background!==void 0){if(d<=(h=v.background))throw new Error("Background index out of range.");if(h===0)throw new Error("Background index explicitly passed as 0.")}}if(i[o++]=255&l,i[o++]=l>>8&255,i[o++]=255&b,i[o++]=b>>8&255,i[o++]=(u!==null?128:0)|y,i[o++]=h,i[o++]=0,u!==null)for(var x=0,_=u.length;x<_;++x){var T=u[x];i[o++]=T>>16&255,i[o++]=T>>8&255,i[o++]=255&T}if(a!==null){if(a<0||65535<a)throw new Error("Loop count invalid.");i[o++]=33,i[o++]=255,i[o++]=11,i[o++]=78,i[o++]=69,i[o++]=84,i[o++]=83,i[o++]=67,i[o++]=65,i[o++]=80,i[o++]=69,i[o++]=50,i[o++]=46,i[o++]=48,i[o++]=3,i[o++]=1,i[o++]=255&a,i[o++]=a>>8&255,i[o++]=0}var k=!1;this.addFrame=function(M,O,L,F,D,V){if(k===!0&&(--o,k=!1),V=V===void 0?{}:V,M<0||O<0||65535<M||65535<O)throw new Error("x/y invalid.");if(L<=0||F<=0||65535<L||65535<F)throw new Error("Width/Height invalid.");if(D.length<L*F)throw new Error("Not enough pixels for the frame size.");var P=!0,G=V.palette;if(G==null&&(P=!1,G=u),G==null)throw new Error("Must supply either a local or global palette.");for(var q=c(G),z=0;q>>=1;)++z;var q=1<<z,Q=V.delay===void 0?0:V.delay,K=V.disposal===void 0?0:V.disposal;if(K<0||3<K)throw new Error("Disposal out of range.");var Z=!1,Y=0;if(V.transparent!==void 0&&V.transparent!==null&&(Z=!0,(Y=V.transparent)<0||q<=Y))throw new Error("Transparent color index.");if(K===0&&!Z&&Q===0||(i[o++]=33,i[o++]=249,i[o++]=4,i[o++]=K<<2|(Z===!0?1:0),i[o++]=255&Q,i[o++]=Q>>8&255,i[o++]=Y,i[o++]=0),i[o++]=44,i[o++]=255&M,i[o++]=M>>8&255,i[o++]=255&O,i[o++]=O>>8&255,i[o++]=255&L,i[o++]=L>>8&255,i[o++]=255&F,i[o++]=F>>8&255,i[o++]=P===!0?128|z-1:0,P===!0)for(var ee=0,ae=G.length;ee<ae;++ee){var A=G[ee];i[o++]=A>>16&255,i[o++]=A>>8&255,i[o++]=255&A}return o=function(B,W,J,ie){B[W++]=J;var ne=W++,pe=1<<J,ge=pe-1,he=1+pe,be=1+he,_e=J+1,le=0,de=0;function xe(ut){for(;ut<=le;)B[W++]=255&de,de>>=8,le-=8,W===ne+256&&(B[ne]=255,ne=W++)}function Ae(ut){de|=ut<<le,le+=_e,xe(8)}var Se=ie[0]&ge,Te={};Ae(pe);for(var ke=1,Xe=ie.length;ke<Xe;++ke){var Pe=ie[ke]&ge,mt=Se<<8|Pe,it=Te[mt];if(it===void 0){for(de|=Se<<le,le+=_e;8<=le;)B[W++]=255&de,de>>=8,le-=8,W===ne+256&&(B[ne]=255,ne=W++);be===4096?(Ae(pe),be=1+he,_e=J+1,Te={}):(1<<_e<=be&&++_e,Te[mt]=be++),Se=Pe}else Se=it}return Ae(Se),Ae(he),xe(1),ne+1===W?B[ne]=0:(B[ne]=W-ne-1,B[W++]=0),W}(i,o,z<2?2:z,D)},this.end=function(){return k===!1&&(i[o++]=59,k=!0),o},this.getOutputBuffer=function(){return i},this.setOutputBuffer=function(M){i=M},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(M){o=M}}function p(i,l,b,v){for(var o=i[l++],a=1<<o,u=1+a,c=1+u,y=o+1,h=(1<<y)-1,d=0,x=0,_=0,T=i[l++],k=new Int32Array(4096),M=null;;){for(;d<16&&T!==0;)x|=i[l++]<<d,d+=8,T===1?T=i[l++]:--T;if(d<y)break;var O=x&h;if(x>>=y,d-=y,O==a)c=1+u,h=(1<<(y=o+1))-1,M=null;else{if(O==u)break;for(var L=O<c?O:M,F=0,D=L;a<D;)D=k[D]>>8,++F;var V=D;if(v<_+F+(L!==O?1:0))return void console.log("Warning, gif stream longer than expected.");b[_++]=V;var P=_+=F;for(L!==O&&(b[_++]=V),D=L;F--;)D=k[D],b[--P]=255&D,D>>=8;M!==null&&c<4096&&(k[c++]=M<<8|V,h+1<=c&&y<12&&(++y,h=h<<1|1)),M=O}}_!==v&&console.log("Warning, gif stream shorter than expected.")}try{w.GifWriter=f,w.GifReader=function(i){var l=0;if(i[l++]!==71||i[l++]!==73||i[l++]!==70||i[l++]!==56||(i[l++]+1&253)!=56||i[l++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=i[l++]|i[l++]<<8,v=i[l++]|i[l++]<<8,o=i[l++],a=1<<1+(7&o),u=(i[l++],i[l++],null),c=null,y=(o>>7&&(u=l,l+=3*(c=a)),!0),h=[],d=0,x=null,_=0,T=null;for(this.width=b,this.height=v;y&&l<i.length;)switch(i[l++]){case 33:switch(i[l++]){case 255:if(i[l]!==11||i[l+1]==78&&i[l+2]==69&&i[l+3]==84&&i[l+4]==83&&i[l+5]==67&&i[l+6]==65&&i[l+7]==80&&i[l+8]==69&&i[l+9]==50&&i[l+10]==46&&i[l+11]==48&&i[l+12]==3&&i[l+13]==1&&i[l+16]==0)l+=14,T=i[l++]|i[l++]<<8,l++;else for(l+=12;;){if(!(0<=(M=i[l++])))throw Error("Invalid block size");if(M===0)break;l+=M}break;case 249:if(i[l++]!==4||i[l+4]!==0)throw new Error("Invalid graphics extension block.");var k=i[l++],d=i[l++]|i[l++]<<8,x=i[l++];(1&k)==0&&(x=null),_=k>>2&7,l++;break;case 254:for(;;){if(!(0<=(M=i[l++])))throw Error("Invalid block size");if(M===0)break;l+=M}break;default:throw new Error("Unknown graphic control label: 0x"+i[l-1].toString(16))}break;case 44:var M,O=i[l++]|i[l++]<<8,L=i[l++]|i[l++]<<8,F=i[l++]|i[l++]<<8,D=i[l++]|i[l++]<<8,Q=i[l++],V=Q>>6&1,P=1<<1+(7&Q),G=u,z=c,q=!1,Q=(Q>>7&&(q=!0,G=l,l+=3*(z=P)),l);for(l++;;){if(!(0<=(M=i[l++])))throw Error("Invalid block size");if(M===0)break;l+=M}h.push({x:O,y:L,width:F,height:D,has_local_palette:q,palette_offset:G,palette_size:z,data_offset:Q,data_length:l-Q,transparent_index:x,interlaced:!!V,delay:d,disposal:_});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+i[l-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return T},this.frameInfo=function(K){if(K<0||K>=h.length)throw new Error("Frame index out of range.");return h[K]},this.decodeAndBlitFrameBGRA=function(K,Z){for(var K=this.frameInfo(K),Y=K.width*K.height,ee=new Uint8Array(Y),ae=(p(i,K.data_offset,ee,Y),K.palette_offset),A=K.transparent_index,B=(A===null&&(A=256),K.width),W=b-B,J=B,ie=4*(K.y*b+K.x),ne=4*((K.y+K.height)*b+K.x),pe=ie,ge=4*W,he=(K.interlaced===!0&&(ge+=4*b*7),8),be=0,_e=ee.length;be<_e;++be){var le,de,xe=ee[be];J===0&&(J=B,ne<=(pe+=ge)&&(ge=4*W+4*b*(he-1),pe=ie+(B+W)*(he<<1),he>>=1)),xe===A?pe+=4:(le=i[ae+3*xe],de=i[ae+3*xe+1],xe=i[ae+3*xe+2],Z[pe++]=xe,Z[pe++]=de,Z[pe++]=le,Z[pe++]=255),--J}},this.decodeAndBlitFrameRGBA=function(K,Z){for(var K=this.frameInfo(K),Y=K.width*K.height,ee=new Uint8Array(Y),ae=(p(i,K.data_offset,ee,Y),K.palette_offset),A=K.transparent_index,B=(A===null&&(A=256),K.width),W=b-B,J=B,ie=4*(K.y*b+K.x),ne=4*((K.y+K.height)*b+K.x),pe=ie,ge=4*W,he=(K.interlaced===!0&&(ge+=4*b*7),8),be=0,_e=ee.length;be<_e;++be){var le,de,xe=ee[be];J===0&&(J=B,ne<=(pe+=ge)&&(ge=4*W+4*b*(he-1),pe=ie+(B+W)*(he<<1),he>>=1)),xe===A?pe+=4:(le=i[ae+3*xe],de=i[ae+3*xe+1],xe=i[ae+3*xe+2],Z[pe++]=le,Z[pe++]=de,Z[pe++]=xe,Z[pe++]=255),--J}}}}catch{}},{}],257:[function(t,j,w){(function(f){var p,i;p=this,i=function(l){function b(X){if(this==null)throw TypeError();var C,N=String(this),U=N.length,X=X?Number(X):0;if(!((X=X!=X?0:X)<0||U<=X))return 55296<=(C=N.charCodeAt(X))&&C<=56319&&X+1<U&&56320<=(U=N.charCodeAt(X+1))&&U<=57343?1024*(C-55296)+U-56320+65536:C}String.prototype.codePointAt||((v=function(){try{var S={},C=Object.defineProperty,N=C(S,S,S)&&C}catch{}return N}())?v(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b);var v,o=0,a=-3;function u(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(S,C){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=C,this.destLen=0,this.ltree=new u,this.dtree=new u}var y=new u,h=new u,d=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),T=new Uint16Array(30),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new u,O=new Uint8Array(320);function L(S,C,N,U){for(var X,$=0;$<N;++$)S[$]=0;for($=0;$<30-N;++$)S[$+N]=$/N|0;for(X=U,$=0;$<30;++$)C[$]=X,X+=1<<S[$]}var F=new Uint16Array(16);function D(S,C,N,U){for(var X,$=0;$<16;++$)S.table[$]=0;for($=0;$<U;++$)S.table[C[N+$]]++;for($=X=S.table[0]=0;$<16;++$)F[$]=X,X+=S.table[$];for($=0;$<U;++$)C[N+$]&&(S.trans[F[C[N+$]]++]=$)}function V(S,C,N){if(!C)return N;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var U=S.tag&65535>>>16-C;return S.tag>>>=C,S.bitcount-=C,U+N}function P(S,C){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var N=0,U=0,X=0,$=S.tag;U=2*U+(1&$),$>>>=1,N+=C.table[++X],0<=(U-=C.table[X]););return S.tag=$,S.bitcount-=X,C.trans[N+U]}function G(S,C,N){for(;;){var U=P(S,C);if(U===256)return o;if(U<256)S.dest[S.destLen++]=U;else for(var X,$=V(S,d[U-=257],x[U]),U=P(S,N),te=X=S.destLen-V(S,_[U],T[U]);te<X+$;++te)S.dest[S.destLen++]=S.dest[te]}}for(var z=y,q=h,Q=0;Q<7;++Q)z.table[Q]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,Q=0;Q<24;++Q)z.trans[Q]=256+Q;for(Q=0;Q<144;++Q)z.trans[24+Q]=Q;for(Q=0;Q<8;++Q)z.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)z.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)q.table[Q]=0;for(q.table[5]=32,Q=0;Q<32;++Q)q.trans[Q]=Q;L(d,x,4,3),L(_,T,2,1),d[28]=0,x[28]=258;var K=function(S,C){var N,U,X,$=new c(S,C);do{switch(X=void 0,(U=$).bitcount--||(U.tag=U.source[U.sourceIndex++],U.bitcount=7),X=1&U.tag,U.tag>>>=1,U=X,V($,2,0)){case 0:N=function(Be){for(var bt,Nt;8<Be.bitcount;)Be.sourceIndex--,Be.bitcount-=8;if((bt=256*Be.source[Be.sourceIndex+1]+Be.source[Be.sourceIndex])!==(65535&~(256*Be.source[Be.sourceIndex+3]+Be.source[Be.sourceIndex+2])))return a;for(Be.sourceIndex+=4,Nt=bt;Nt;--Nt)Be.dest[Be.destLen++]=Be.source[Be.sourceIndex++];return Be.bitcount=0,o}($);break;case 1:N=G($,y,h);break;case 2:We=ze=Ke=Ue=te=we=Re=Fe=Oe=ye=ve=ue=void 0;for(var te,ue=$,ve=$.ltree,ye=$.dtree,Oe=V(ue,5,257),Fe=V(ue,5,1),Re=V(ue,4,4),we=0;we<19;++we)O[we]=0;for(we=0;we<Re;++we){var Ke=V(ue,3,0);O[k[we]]=Ke}for(D(M,O,0,19),te=0;te<Oe+Fe;){var ze=P(ue,M);switch(ze){case 16:for(var We=O[te-1],Ue=V(ue,2,3);Ue;--Ue)O[te++]=We;break;case 17:for(Ue=V(ue,3,3);Ue;--Ue)O[te++]=0;break;case 18:for(Ue=V(ue,7,11);Ue;--Ue)O[te++]=0;break;default:O[te++]=ze}}D(ve,O,0,Oe),D(ye,O,Oe,Fe),N=G($,$.ltree,$.dtree);break;default:N=a}if(N!==o)throw new Error("Data error")}while(!U);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function Z(S,C,N,U,X){return Math.pow(1-X,3)*S+3*Math.pow(1-X,2)*X*C+3*(1-X)*Math.pow(X,2)*N+Math.pow(X,3)*U}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ee(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ae(S){throw new Error(S)}function A(S,C){S||ae(C)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(S,C){typeof S=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),typeof C=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=C,this.y2=C),C<this.y1&&(this.y1=C),C>this.y2&&(this.y2=C))},Y.prototype.addX=function(S){this.addPoint(S,null)},Y.prototype.addY=function(S){this.addPoint(null,S)},Y.prototype.addBezier=function(S,C,N,U,X,$,te,ue){var ve=[S,C],ye=[N,U],Oe=[X,$],Fe=[te,ue];this.addPoint(S,C),this.addPoint(te,ue);for(var Re=0;Re<=1;Re++){var we,Ke=6*ve[Re]-12*ye[Re]+6*Oe[Re],ze=-3*ve[Re]+9*ye[Re]-9*Oe[Re]+3*Fe[Re],We=3*ye[Re]-3*ve[Re];ze==0?Ke==0||0<(we=-We/Ke)&&we<1&&(Re===0&&this.addX(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],we)),Re===1&&this.addY(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],we))):(we=Math.pow(Ke,2)-4*We*ze)<0||(0<(We=(-Ke+Math.sqrt(we))/(2*ze))&&We<1&&(Re===0&&this.addX(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],We)),Re===1&&this.addY(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],We))),0<(We=(-Ke-Math.sqrt(we))/(2*ze))&&We<1&&(Re===0&&this.addX(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],We)),Re===1&&this.addY(Z(ve[Re],ye[Re],Oe[Re],Fe[Re],We))))}},Y.prototype.addQuad=function(S,C,N,U,X,$){N=S+2/3*(N-S),U=C+2/3*(U-C),this.addBezier(S,C,N,U,N+1/3*(X-S),U+1/3*($-C),X,$)},ee.prototype.moveTo=function(S,C){this.commands.push({type:"M",x:S,y:C})},ee.prototype.lineTo=function(S,C){this.commands.push({type:"L",x:S,y:C})},ee.prototype.curveTo=ee.prototype.bezierCurveTo=function(S,C,N,U,X,$){this.commands.push({type:"C",x1:S,y1:C,x2:N,y2:U,x:X,y:$})},ee.prototype.quadTo=ee.prototype.quadraticCurveTo=function(S,C,N,U){this.commands.push({type:"Q",x1:S,y1:C,x:N,y:U})},ee.prototype.close=ee.prototype.closePath=function(){this.commands.push({type:"Z"})},ee.prototype.extend=function(S){var C;if(S.commands)S=S.commands;else if(S instanceof Y)return C=S,this.moveTo(C.x1,C.y1),this.lineTo(C.x2,C.y1),this.lineTo(C.x2,C.y2),this.lineTo(C.x1,C.y2),void this.close();Array.prototype.push.apply(this.commands,S)},ee.prototype.getBoundingBox=function(){for(var S=new Y,C=0,N=0,U=0,X=0,$=0;$<this.commands.length;$++){var te=this.commands[$];switch(te.type){case"M":S.addPoint(te.x,te.y),C=U=te.x,N=X=te.y;break;case"L":S.addPoint(te.x,te.y),U=te.x,X=te.y;break;case"Q":S.addQuad(U,X,te.x1,te.y1,te.x,te.y),U=te.x,X=te.y;break;case"C":S.addBezier(U,X,te.x1,te.y1,te.x2,te.y2,te.x,te.y),U=te.x,X=te.y;break;case"Z":U=C,X=N;break;default:throw new Error("Unexpected path command "+te.type)}}return S.isEmpty()&&S.addPoint(0,0),S},ee.prototype.draw=function(S){S.beginPath();for(var C=0;C<this.commands.length;C+=1){var N=this.commands[C];N.type==="M"?S.moveTo(N.x,N.y):N.type==="L"?S.lineTo(N.x,N.y):N.type==="C"?S.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?S.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},ee.prototype.toPathData=function(S){function C(){for(var $=arguments,te="",ue=0;ue<arguments.length;ue+=1){var ve=$[ue];0<=ve&&0<ue&&(te+=" "),te+=(ve=ve,Math.round(ve)===ve?""+Math.round(ve):ve.toFixed(S))}return te}S=S!==void 0?S:2;for(var N="",U=0;U<this.commands.length;U+=1){var X=this.commands[U];X.type==="M"?N+="M"+C(X.x,X.y):X.type==="L"?N+="L"+C(X.x,X.y):X.type==="C"?N+="C"+C(X.x1,X.y1,X.x2,X.y2,X.x,X.y):X.type==="Q"?N+="Q"+C(X.x1,X.y1,X.x,X.y):X.type==="Z"&&(N+="Z")}return N},ee.prototype.toSVG=function(S){var C=(C='<path d="')+this.toPathData(S)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?C+=' fill="none"':C+=' fill="'+this.fill+'"'),this.stroke&&(C+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),C+="/>"},ee.prototype.toDOMElement=function(C){var C=this.toPathData(C),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",C),N};var B={fail:ae,argument:A,assert:A},W={},J={},ie={};function ne(S){return function(){return S}}J.BYTE=function(S){return B.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},ie.BYTE=ne(1),J.CHAR=function(S){return[S.charCodeAt(0)]},ie.CHAR=ne(1),J.CHARARRAY=function(S){for(var C=[],N=0;N<S.length;N+=1)C[N]=S.charCodeAt(N);return C},ie.CHARARRAY=function(S){return S.length},J.USHORT=function(S){return[S>>8&255,255&S]},ie.USHORT=ne(2),J.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},ie.SHORT=ne(2),J.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},ie.UINT24=ne(3),J.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},ie.ULONG=ne(4),J.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},ie.LONG=ne(4),J.FIXED=J.ULONG,ie.FIXED=ie.ULONG,J.FWORD=J.SHORT,ie.FWORD=ie.SHORT,J.UFWORD=J.USHORT,ie.UFWORD=ie.USHORT,J.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},ie.LONGDATETIME=ne(8),J.TAG=function(S){return B.argument(S.length===4,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},ie.TAG=ne(4),J.Card8=J.BYTE,ie.Card8=ie.BYTE,J.Card16=J.USHORT,ie.Card16=ie.USHORT,J.OffSize=J.BYTE,ie.OffSize=ie.BYTE,J.SID=J.USHORT,ie.SID=ie.USHORT,J.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?J.NUMBER16(S):J.NUMBER32(S)},ie.NUMBER=function(S){return J.NUMBER(S).length},J.NUMBER16=function(S){return[28,S>>8&255,255&S]},ie.NUMBER16=ne(3),J.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},ie.NUMBER32=ne(5),J.REAL=function(S){for(var C=S.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(C),U=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),C=(Math.round(S*N)/N).toString()),""),X=0,$=C.length;X<$;X+=1){var te=C[X];U+=te==="e"?C[++X]==="-"?"c":"b":te==="."?"a":te==="-"?"e":te}for(var ue=[30],ve=0,ye=(U+=1&U.length?"f":"ff").length;ve<ye;ve+=2)ue.push(parseInt(U.substr(ve,2),16));return ue},ie.REAL=function(S){return J.REAL(S).length},J.NAME=J.CHARARRAY,ie.NAME=ie.CHARARRAY,J.STRING=J.CHARARRAY,ie.STRING=ie.CHARARRAY,W.UTF8=function(S,C,N){for(var U=[],X=N,$=0;$<X;$++,C+=1)U[$]=S.getUint8(C);return String.fromCharCode.apply(null,U)},W.UTF16=function(S,C,N){for(var U=[],X=N/2,$=0;$<X;$++,C+=2)U[$]=S.getUint16(C);return String.fromCharCode.apply(null,U)},J.UTF16=function(S){for(var C=[],N=0;N<S.length;N+=1){var U=S.charCodeAt(N);C[C.length]=U>>8&255,C[C.length]=255&U}return C},ie.UTF16=function(S){return 2*S.length};var pe,ge={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},he=(W.MACSTRING=function(S,C,N,U){var X=ge[U];if(X!==void 0){for(var $="",te=0;te<N;te++){var ue=S.getUint8(C+te);$+=ue<=127?String.fromCharCode(ue):X[127&ue]}return $}},typeof WeakMap=="function"&&new WeakMap);function be(S){return-128<=S&&S<=127}J.MACSTRING=function(S,C){var N=function(te){if(!pe)for(var ue in pe={},ge)pe[ue]=new String(ue);var ve=pe[te];if(ve!==void 0){if(he){var ye=he.get(ve);if(ye!==void 0)return ye}var Oe=ge[te];if(Oe!==void 0){for(var Fe={},Re=0;Re<Oe.length;Re++)Fe[Oe.charCodeAt(Re)]=Re+128;return he&&he.set(ve,Fe),Fe}}}(C);if(N!==void 0){for(var U=[],X=0;X<S.length;X++){var $=S.charCodeAt(X);if(128<=$&&($=N[$])===void 0)return;U[X]=$}return U}},ie.MACSTRING=function(S,C){return S=J.MACSTRING(S,C),S!==void 0?S.length:0},J.VARDELTAS=function(S){for(var U=0,C=[];U<S.length;)var N=S[U],U=(N===0?function(X,$,te){for(var ue=0,ve=X.length;$<ve&&ue<64&&X[$]===0;)++$,++ue;return te.push(128|ue-1),$}:-128<=N&&N<=127?function(X,$,te){for(var ue=0,ve=X.length,ye=$;ye<ve&&ue<64;){var Oe=X[ye];if(!be(Oe)||Oe===0&&ye+1<ve&&X[ye+1]===0)break;++ye,++ue}te.push(ue-1);for(var Fe=$;Fe<ye;++Fe)te.push(X[Fe]+256&255);return ye}:function(X,$,te){for(var ue=0,ve=X.length,ye=$;ye<ve&&ue<64;){var Oe=X[ye];if(Oe===0||be(Oe)&&ye+1<ve&&be(X[ye+1]))break;++ye,++ue}te.push(64|ue-1);for(var Fe=$;Fe<ye;++Fe){var Re=X[Fe];te.push(Re+65536>>8&255,Re+256&255)}return ye})(S,U,C);return C},J.INDEX=function(S){for(var C=1,N=[C],U=[],X=0;X<S.length;X+=1){var $=J.OBJECT(S[X]);Array.prototype.push.apply(U,$),C+=$.length,N.push(C)}if(U.length===0)return[0,0];for(var te=[],ue=1+Math.floor(Math.log(C)/Math.log(2))/8|0,ve=[void 0,J.BYTE,J.USHORT,J.UINT24,J.ULONG][ue],ye=0;ye<N.length;ye+=1){var Oe=ve(N[ye]);Array.prototype.push.apply(te,Oe)}return Array.prototype.concat(J.Card16(S.length),J.OffSize(ue),te,U)},ie.INDEX=function(S){return J.INDEX(S).length},J.DICT=function(S){for(var C=[],N=Object.keys(S),U=N.length,X=0;X<U;X+=1){var $=parseInt(N[X],0),te=S[$];C=(C=C.concat(J.OPERAND(te.value,te.type))).concat(J.OPERATOR($))}return C},ie.DICT=function(S){return J.DICT(S).length},J.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},J.OPERAND=function(S,C){var N=[];if(Array.isArray(C))for(var U=0;U<C.length;U+=1)B.argument(S.length===C.length,"Not enough arguments given for type"+C),N=N.concat(J.OPERAND(S[U],C[U]));else if(C==="SID")N=N.concat(J.NUMBER(S));else if(C==="offset")N=N.concat(J.NUMBER32(S));else if(C==="number")N=N.concat(J.NUMBER(S));else{if(C!=="real")throw new Error("Unknown operand type "+C);N=N.concat(J.REAL(S))}return N},J.OP=J.BYTE,ie.OP=ie.BYTE;var _e=typeof WeakMap=="function"&&new WeakMap;function le(S,C,N){for(var U=0;U<C.length;U+=1){var X=C[U];this[X.name]=X.value}if(this.tableName=S,this.fields=C,N)for(var $=Object.keys(N),te=0;te<$.length;te+=1){var ue=$[te],ve=N[ue];this[ue]!==void 0&&(this[ue]=ve)}}function de(S,C,N){N===void 0&&(N=C.length);var U=new Array(C.length+1);U[0]={name:S+"Count",type:"USHORT",value:N};for(var X=0;X<C.length;X++)U[X+1]={name:S+X,type:"USHORT",value:C[X]};return U}function xe(S,C,N){var U=C.length,X=new Array(U+1);X[0]={name:S+"Count",type:"USHORT",value:U};for(var $=0;$<U;$++)X[$+1]={name:S+$,type:"TABLE",value:N(C[$],$)};return X}function Ae(S,C,N){var U=C.length,X=[];X[0]={name:S+"Count",type:"USHORT",value:U};for(var $=0;$<U;$++)X=X.concat(N(C[$],$));return X}function Se(S){S.format===1?le.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(de("glyph",S.glyphs))):B.assert(!1,"Can't create coverage table format 2 yet.")}function Te(S){le.call(this,"scriptListTable",Ae("scriptRecord",S,function(C,N){var U=C.script,X=U.defaultLangSys;return B.assert(!!X,"Unable to write GSUB: script "+C.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:C.tag},{name:"script"+N,type:"TABLE",value:new le("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new le("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X.reqFeatureIndex}].concat(de("featureIndex",X.featureIndexes)))}].concat(Ae("langSys",U.langSysRecords,function($,te){var ue=$.langSys;return[{name:"langSysTag"+te,type:"TAG",value:$.tag},{name:"langSys"+te,type:"TABLE",value:new le("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ue.reqFeatureIndex}].concat(de("featureIndex",ue.featureIndexes)))}]})))}]}))}function ke(S){le.call(this,"featureListTable",Ae("featureRecord",S,function(C,N){var U=C.feature;return[{name:"featureTag"+N,type:"TAG",value:C.tag},{name:"feature"+N,type:"TABLE",value:new le("featureTable",[{name:"featureParams",type:"USHORT",value:U.featureParams}].concat(de("lookupListIndex",U.lookupListIndexes)))}]}))}function Xe(S,C){le.call(this,"lookupListTable",xe("lookup",S,function(N){var U=C[N.lookupType];return B.assert(!!U,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new le("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(xe("subtable",N.subtables,U)))}))}J.CHARSTRING=function(S){if(_e){var C=_e.get(S);if(C!==void 0)return C}for(var $=[],N=S.length,U=0;U<N;U+=1)var X=S[U],$=$.concat(J[X.type](X.value));return _e&&_e.set(S,$),$},ie.CHARSTRING=function(S){return J.CHARSTRING(S).length},J.OBJECT=function(S){var C=J[S.type];return B.argument(C!==void 0,"No encoding function for type "+S.type),C(S.value)},ie.OBJECT=function(S){var C=ie[S.type];return B.argument(C!==void 0,"No sizeOf function for type "+S.type),C(S.value)},J.TABLE=function(S){for(var C=[],N=S.fields.length,U=[],X=[],$=0;$<N;$+=1){var te=S.fields[$],ve=J[te.type],ue=(B.argument(ve!==void 0,"No encoding function for field type "+te.type+" ("+te.name+")"),S[te.name]),ve=ve(ue=ue===void 0?te.value:ue);te.type==="TABLE"?(X.push(C.length),C=C.concat([0,0]),U.push(ve)):C=C.concat(ve)}for(var ye=0;ye<U.length;ye+=1){var Oe=X[ye],Fe=C.length;B.argument(Fe<65536,"Table "+S.tableName+" too big."),C[Oe]=Fe>>8,C[Oe+1]=255&Fe,C=C.concat(U[ye])}return C},ie.TABLE=function(S){for(var C=0,N=S.fields.length,U=0;U<N;U+=1){var X=S.fields[U],$=ie[X.type],te=(B.argument($!==void 0,"No sizeOf function for field type "+X.type+" ("+X.name+")"),S[X.name]);C+=$(te=te===void 0?X.value:te),X.type==="TABLE"&&(C+=2)}return C},J.RECORD=J.TABLE,ie.RECORD=ie.TABLE,J.LITERAL=function(S){return S},ie.LITERAL=function(S){return S.length},le.prototype.encode=function(){return J.TABLE(this)},le.prototype.sizeOf=function(){return ie.TABLE(this)};var Pe={Table:le,Record:le,Coverage:(Se.prototype=Object.create(le.prototype)).constructor=Se,ScriptList:(Te.prototype=Object.create(le.prototype)).constructor=Te,FeatureList:(ke.prototype=Object.create(le.prototype)).constructor=ke,LookupList:(Xe.prototype=Object.create(le.prototype)).constructor=Xe,ushortList:de,tableList:xe,recordList:Ae};function mt(S,C){return S.getUint8(C)}function it(S,C){return S.getUint16(C,!1)}function ut(S,C){return S.getUint32(C,!1)}function dt(S,C){return S.getInt16(C,!1)+S.getUint16(C+2,!1)/65535}var ht={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ce(S,C){this.data=S,this.offset=C,this.relativeOffset=0}Ce.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ce.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ce.prototype.parseCard8=Ce.prototype.parseByte,Ce.prototype.parseCard16=Ce.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ce.prototype.parseSID=Ce.prototype.parseUShort,Ce.prototype.parseOffset16=Ce.prototype.parseUShort,Ce.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ce.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Ce.prototype.parseOffset32=Ce.prototype.parseULong=function(){var S=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ce.prototype.parseFixed=function(){var S=dt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ce.prototype.parseString=function(S){var C=this.data,N=this.offset+this.relativeOffset,U="";this.relativeOffset+=S;for(var X=0;X<S;X++)U+=String.fromCharCode(C.getUint8(N+X));return U},Ce.prototype.parseTag=function(){return this.parseString(4)},Ce.prototype.parseLongDateTime=function(){var S=ut(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Ce.prototype.parseVersion=function(S){var C=it(this.data,this.offset+this.relativeOffset),N=it(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,C+N/(S=S===void 0?4096:S)/10},Ce.prototype.skip=function(S,C){this.relativeOffset+=ht[S]*(C=C===void 0?1:C)},Ce.prototype.parseULongList=function(S){S===void 0&&(S=this.parseULong());for(var C=new Array(S),N=this.data,U=this.offset+this.relativeOffset,X=0;X<S;X++)C[X]=N.getUint32(U),U+=4;return this.relativeOffset+=4*S,C},Ce.prototype.parseOffset16List=Ce.prototype.parseUShortList=function(S){S===void 0&&(S=this.parseUShort());for(var C=new Array(S),N=this.data,U=this.offset+this.relativeOffset,X=0;X<S;X++)C[X]=N.getUint16(U),U+=2;return this.relativeOffset+=2*S,C},Ce.prototype.parseShortList=function(S){for(var C=new Array(S),N=this.data,U=this.offset+this.relativeOffset,X=0;X<S;X++)C[X]=N.getInt16(U),U+=2;return this.relativeOffset+=2*S,C},Ce.prototype.parseByteList=function(S){for(var C=new Array(S),N=this.data,U=this.offset+this.relativeOffset,X=0;X<S;X++)C[X]=N.getUint8(U++);return this.relativeOffset+=S,C},Ce.prototype.parseList=function(S,C){C||(C=S,S=this.parseUShort());for(var N=new Array(S),U=0;U<S;U++)N[U]=C.call(this);return N},Ce.prototype.parseList32=function(S,C){C||(C=S,S=this.parseULong());for(var N=new Array(S),U=0;U<S;U++)N[U]=C.call(this);return N},Ce.prototype.parseRecordList=function(S,C){C||(C=S,S=this.parseUShort());for(var N=new Array(S),U=Object.keys(C),X=0;X<S;X++){for(var $={},te=0;te<U.length;te++){var ue=U[te],ve=C[ue];$[ue]=ve.call(this)}N[X]=$}return N},Ce.prototype.parseRecordList32=function(S,C){C||(C=S,S=this.parseULong());for(var N=new Array(S),U=Object.keys(C),X=0;X<S;X++){for(var $={},te=0;te<U.length;te++){var ue=U[te],ve=C[ue];$[ue]=ve.call(this)}N[X]=$}return N},Ce.prototype.parseStruct=function(S){if(typeof S=="function")return S.call(this);for(var C=Object.keys(S),N={},U=0;U<C.length;U++){var X=C[U],$=S[X];N[X]=$.call(this)}return N},Ce.prototype.parseValueRecord=function(S){var C;if((S=S===void 0?this.parseUShort():S)!==0)return C={},1&S&&(C.xPlacement=this.parseShort()),2&S&&(C.yPlacement=this.parseShort()),4&S&&(C.xAdvance=this.parseShort()),8&S&&(C.yAdvance=this.parseShort()),16&S&&(C.xPlaDevice=void 0,this.parseShort()),32&S&&(C.yPlaDevice=void 0,this.parseShort()),64&S&&(C.xAdvDevice=void 0,this.parseShort()),128&S&&(C.yAdvDevice=void 0,this.parseShort()),C},Ce.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),C=this.parseUShort(),N=new Array(C),U=0;U<C;U++)N[U]=this.parseValueRecord(S);return N},Ce.prototype.parsePointer=function(S){var C=this.parseOffset16();if(0<C)return new Ce(this.data,this.offset+C).parseStruct(S)},Ce.prototype.parsePointer32=function(S){var C=this.parseOffset32();if(0<C)return new Ce(this.data,this.offset+C).parseStruct(S)},Ce.prototype.parseListOfLists=function(S){for(var C=this.parseOffset16List(),N=C.length,U=this.relativeOffset,X=new Array(N),$=0;$<N;$++){var te=C[$];if(te===0)X[$]=void 0;else if(this.relativeOffset=te,S){for(var ue=this.parseOffset16List(),ve=new Array(ue.length),ye=0;ye<ue.length;ye++)this.relativeOffset=te+ue[ye],ve[ye]=S.call(this);X[$]=ve}else X[$]=this.parseUShortList()}return this.relativeOffset=U,X},Ce.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort(),N=this.parseUShort();if(C===1)return{format:1,glyphs:this.parseUShortList(N)};if(C!==2)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var U=new Array(N),X=0;X<N;X++)U[X]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:U}},Ce.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();if(C===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(C===2)return{format:2,ranges:this.parseRecordList({start:Ce.uShort,end:Ce.uShort,classId:Ce.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Ce.list=function(S,C){return function(){return this.parseList(S,C)}},Ce.list32=function(S,C){return function(){return this.parseList32(S,C)}},Ce.recordList=function(S,C){return function(){return this.parseRecordList(S,C)}},Ce.recordList32=function(S,C){return function(){return this.parseRecordList32(S,C)}},Ce.pointer=function(S){return function(){return this.parsePointer(S)}},Ce.pointer32=function(S){return function(){return this.parsePointer32(S)}},Ce.tag=Ce.prototype.parseTag,Ce.byte=Ce.prototype.parseByte,Ce.uShort=Ce.offset16=Ce.prototype.parseUShort,Ce.uShortList=Ce.prototype.parseUShortList,Ce.uLong=Ce.offset32=Ce.prototype.parseULong,Ce.uLongList=Ce.prototype.parseULongList,Ce.struct=Ce.prototype.parseStruct,Ce.coverage=Ce.prototype.parseCoverage,Ce.classDef=Ce.prototype.parseClassDef;var Qe={reserved:Ce.uShort,reqFeatureIndex:Ce.uShort,featureIndexes:Ce.uShortList},Ie=(Ce.prototype.parseScriptList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,script:Ce.pointer({defaultLangSys:Ce.pointer(Qe),langSysRecords:Ce.recordList({tag:Ce.tag,langSys:Ce.pointer(Qe)})})}))||[]},Ce.prototype.parseFeatureList=function(){return this.parsePointer(Ce.recordList({tag:Ce.tag,feature:Ce.pointer({featureParams:Ce.offset16,lookupListIndexes:Ce.uShortList})}))||[]},Ce.prototype.parseLookupList=function(S){return this.parsePointer(Ce.list(Ce.pointer(function(){var C=this.parseUShort(),N=(B.argument(1<=C&&C<=9,"GPOS/GSUB lookup type "+C+" unknown."),this.parseUShort()),U=16&N;return{lookupType:C,lookupFlag:N,subtables:this.parseList(Ce.pointer(S[C])),markFilteringSet:U?this.parseUShort():void 0}})))||[]},Ce.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),C=this.parseUShort();return B.argument(S===1&&C<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ce.offset32,featureTableSubstitutionOffset:Ce.offset32})})||[]},{getByte:mt,getCard8:mt,getUShort:it,getCard16:it,getShort:function(S,C){return S.getInt16(C,!1)},getULong:ut,getFixed:dt,getTag:function(S,C){for(var N="",U=C;U<C+4;U+=1)N+=String.fromCharCode(S.getInt8(U));return N},getOffset:function(S,C,N){for(var U=0,X=0;X<N;X+=1)U=(U<<=8)+S.getUint8(C+X);return U},getBytes:function(S,C,N){for(var U=[],X=C;X<N;X+=1)U.push(S.getUint8(X));return U},bytesToString:function(S){for(var C="",N=0;N<S.length;N+=1)C+=String.fromCharCode(S[N]);return C},Parser:Ce}),oe={parse:function(S,C){for(var N={},U=(N.version=Ie.getUShort(S,C),B.argument(N.version===0,"cmap table version should be 0."),N.numTables=Ie.getUShort(S,C+2),-1),X=N.numTables-1;0<=X;--X){var $=Ie.getUShort(S,C+4+8*X),te=Ie.getUShort(S,C+4+8*X+2);if($===3&&(te===0||te===1||te===10)||$===0&&(te===0||te===1||te===2||te===3||te===4)){U=Ie.getULong(S,C+4+8*X+4);break}}if(U===-1)throw new Error("No valid cmap sub-tables found.");var ue=new Ie.Parser(S,C+U);if(N.format=ue.parseUShort(),N.format===12){var ve,ye=N,Oe=ue;Oe.parseUShort(),ye.length=Oe.parseULong(),ye.language=Oe.parseULong(),ye.groupCount=ve=Oe.parseULong(),ye.glyphIndexMap={};for(var Fe=0;Fe<ve;Fe+=1)for(var Re=Oe.parseULong(),we=Oe.parseULong(),Ke=Oe.parseULong(),ze=Re;ze<=we;ze+=1)ye.glyphIndexMap[ze]=Ke,Ke++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var We=N,Ue=S,Be=C,bt=U;We.length=ue.parseUShort(),We.language=ue.parseUShort(),We.segCount=Nt=ue.parseUShort()>>1,ue.skip("uShort",3),We.glyphIndexMap={};for(var Nt,St=new Ie.Parser(Ue,Be+bt+14),Tt=new Ie.Parser(Ue,Be+bt+16+2*Nt),Bt=new Ie.Parser(Ue,Be+bt+16+4*Nt),hr=new Ie.Parser(Ue,Be+bt+16+6*Nt),Zt=Be+bt+16+8*Nt,br=0;br<Nt-1;br+=1)for(var nn=void 0,sn=St.parseUShort(),Xn=Tt.parseUShort(),sr=Bt.parseShort(),ur=hr.parseUShort(),rr=Xn;rr<=sn;rr+=1)ur!==0?(Zt=(Zt=hr.offset+hr.relativeOffset-2)+ur+2*(rr-Xn),(nn=Ie.getUShort(Ue,Zt))!==0&&(nn=nn+sr&65535)):nn=rr+sr&65535,We.glyphIndexMap[rr]=nn}return N},make:function(S){for(var C=!0,N=S.length-1;0<N;--N)if(65535<S.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),C=!1;break}var U,X,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:C?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:C?12:20}],te=($=($=C?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Pe.Table("cmap",$));for(te.segments=[],N=0;N<S.length;N+=1){for(var ue=S.get(N),ve=0;ve<ue.unicodes.length;ve+=1)U=ue.unicodes[ve],X=N,te.segments.push({end:U,start:U,delta:-(U-X),offset:0,glyphIndex:X});te.segments=te.segments.sort(function(Be,bt){return Be.start-bt.start})}te.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=te.segments.length,Oe=0,Fe=[],Re=[],we=[],Ke=[],ze=[],We=[];for(N=0;N<ye;N+=1){var Ue=te.segments[N];Ue.end<=65535&&Ue.start<=65535?(Fe=Fe.concat({name:"end_"+N,type:"USHORT",value:Ue.end}),Re=Re.concat({name:"start_"+N,type:"USHORT",value:Ue.start}),we=we.concat({name:"idDelta_"+N,type:"SHORT",value:Ue.delta}),Ke=Ke.concat({name:"idRangeOffset_"+N,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(ze=ze.concat({name:"glyph_"+N,type:"USHORT",value:Ue.glyphId}))):Oe+=1,C||Ue.glyphIndex===void 0||(We=(We=(We=We.concat({name:"cmap12Start_"+N,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:Ue.glyphIndex}))}return te.segCountX2=2*(ye-Oe),te.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-Oe)/Math.log(2))),te.entrySelector=Math.log(te.searchRange/2)/Math.log(2),te.rangeShift=te.segCountX2-te.searchRange,te.fields=te.fields.concat(Fe),te.fields.push({name:"reservedPad",type:"USHORT",value:0}),te.fields=te.fields.concat(Re),te.fields=te.fields.concat(we),te.fields=te.fields.concat(Ke),te.fields=te.fields.concat(ze),te.cmap4Length=14+2*Fe.length+2+2*Re.length+2*we.length+2*Ke.length+2*ze.length,C||($=16+4*We.length,te.cmap12Offset=20+te.cmap4Length,te.fields=te.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:We.length/3}]),te.fields=te.fields.concat(We)),te}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],fe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Me=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function De(S){this.font=S}function Ge(S){this.cmap=S}function rt(S,C){this.encoding=S,this.charset=C}function at(S){switch(S.version){case 1:this.names=Me.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var C=0;C<S.numberOfGlyphs;C++)S.glyphNameIndex[C]<Me.length?this.names[C]=Me[S.glyphNameIndex[C]]:this.names[C]=S.names[S.glyphNameIndex[C]-Me.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var N=0;N<S.numberOfGlyphs;N++)this.names[N]=Me[N+S.glyphNameIndex[N]];break;default:this.names=[]}}De.prototype.charToGlyphIndex=function(S){var C=S.codePointAt(0),N=this.font.glyphs;if(N){for(var U=0;U<N.length;U+=1)for(var X=N.get(U),$=0;$<X.unicodes.length;$+=1)if(X.unicodes[$]===C)return U}return null},Ge.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},rt.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),S=this.encoding[S],this.charset.indexOf(S)},at.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},at.prototype.glyphIndexToName=function(S){return this.names[S]};var lt={line:function(S,C,N,U,X){S.beginPath(),S.moveTo(C,N),S.lineTo(U,X),S.stroke()}};function ft(S){this.bindConstructorValues(S)}function Rt(S,C,N){Object.defineProperty(S,C,{get:function(){return S.path,S[N]},set:function(U){S[N]=U},enumerable:!0,configurable:!0})}function jt(S,C){if(this.font=S,this.glyphs={},Array.isArray(C))for(var N=0;N<C.length;N++)this.glyphs[N]=C[N];this.length=C&&C.length||0}ft.prototype.bindConstructorValues=function(S){var C;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||S.unicode!==void 0?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(S=S.path,C=S||new ee,{configurable:!0,get:function(){return C=typeof C=="function"?C():C},set:function(N){C=N}}))},ft.prototype.addUnicode=function(S){this.unicodes.length===0&&(this.unicode=S),this.unicodes.push(S)},ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ft.prototype.getPath=function(S,C,N,U,X){S=S!==void 0?S:0,C=C!==void 0?C:0,N=N!==void 0?N:72;for(var $,te,ue=(U=U||{}).xScale,ve=U.yScale,ye=(($=U.hinting&&X&&X.hinting?this.path&&X.hinting.exec(this,N):$)?(te=X.hinting.getCommands($),S=Math.round(S),C=Math.round(C),ue=ve=1):(te=this.path.commands,U=1/this.path.unitsPerEm*N,ue===void 0&&(ue=U),ve===void 0&&(ve=U)),new ee),Oe=0;Oe<te.length;Oe+=1){var Fe=te[Oe];Fe.type==="M"?ye.moveTo(S+Fe.x*ue,C+-Fe.y*ve):Fe.type==="L"?ye.lineTo(S+Fe.x*ue,C+-Fe.y*ve):Fe.type==="Q"?ye.quadraticCurveTo(S+Fe.x1*ue,C+-Fe.y1*ve,S+Fe.x*ue,C+-Fe.y*ve):Fe.type==="C"?ye.curveTo(S+Fe.x1*ue,C+-Fe.y1*ve,S+Fe.x2*ue,C+-Fe.y2*ve,S+Fe.x*ue,C+-Fe.y*ve):Fe.type==="Z"&&ye.closePath()}return ye},ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var S=[],C=[],N=0;N<this.points.length;N+=1){var U=this.points[N];C.push(U),U.lastPointOfContour&&(S.push(C),C=[])}return B.argument(C.length===0,"There are still points left in the current contour."),S},ft.prototype.getMetrics=function(){for(var S=this.path.commands,C=[],N=[],U=0;U<S.length;U+=1){var X=S[U];X.type!=="Z"&&(C.push(X.x),N.push(X.y)),X.type!=="Q"&&X.type!=="C"||(C.push(X.x1),N.push(X.y1)),X.type==="C"&&(C.push(X.x2),N.push(X.y2))}var $={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,C),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},ft.prototype.draw=function(S,C,N,U,X){this.getPath(C,N,U,X).draw(S)},ft.prototype.drawPoints=function(S,C,N,U){function X(Oe,Fe,Re,we){var Ke=2*Math.PI;S.beginPath();for(var ze=0;ze<Oe.length;ze+=1)S.moveTo(Fe+Oe[ze].x*we,Re+Oe[ze].y*we),S.arc(Fe+Oe[ze].x*we,Re+Oe[ze].y*we,2,0,Ke,!1);S.closePath(),S.fill()}C=C!==void 0?C:0,N=N!==void 0?N:0;for(var U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),$=[],te=[],ue=this.path,ve=0;ve<ue.commands.length;ve+=1){var ye=ue.commands[ve];ye.x!==void 0&&$.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&te.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&te.push({x:ye.x2,y:-ye.y2})}S.fillStyle="blue",X($,C,N,U),S.fillStyle="red",X(te,C,N,U)},ft.prototype.drawMetrics=function(S,C,N,U){C=C!==void 0?C:0,N=N!==void 0?N:0,U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),S.lineWidth=1,S.strokeStyle="black",lt.line(S,C,-1e4,C,1e4),lt.line(S,-1e4,N,1e4,N);var X=this.xMin||0,$=this.yMin||0,te=this.xMax||0,ue=this.yMax||0,ve=this.advanceWidth||0;S.strokeStyle="blue",lt.line(S,C+X*U,-1e4,C+X*U,1e4),lt.line(S,C+te*U,-1e4,C+te*U,1e4),lt.line(S,-1e4,N+-$*U,1e4,N+-$*U),lt.line(S,-1e4,N+-ue*U,1e4,N+-ue*U),S.strokeStyle="green",lt.line(S,C+ve*U,-1e4,C+ve*U,1e4)},jt.prototype.get=function(S){return typeof this.glyphs[S]=="function"&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},jt.prototype.push=function(S,C){this.glyphs[S]=C,this.length++};var gt={GlyphSet:jt,glyphLoader:function(S,C){return new ft({index:C,font:S})},ttfGlyphLoader:function(S,C,N,U,X,$){return function(){var te=new ft({index:C,font:S});return te.path=function(){N(te,U,X);var ue=$(S.glyphs,te);return ue.unitsPerEm=S.unitsPerEm,ue},Rt(te,"xMin","_xMin"),Rt(te,"xMax","_xMax"),Rt(te,"yMin","_yMin"),Rt(te,"yMax","_yMax"),te}},cffGlyphLoader:function(S,C,N,U){return function(){var X=new ft({index:C,font:S});return X.path=function(){var $=N(S,X,U);return $.unitsPerEm=S.unitsPerEm,$},X}}};function kt(S){return S=S.length<1240?107:S.length<33900?1131:32768,S}function Mt(S,C,N){var U,X=[],$=[],te=Ie.getCard16(S,C);if(te!==0){for(var ue=Ie.getByte(S,C+2),ve=C+(te+1)*ue+2,ye=C+3,Oe=0;Oe<te+1;Oe+=1)X.push(Ie.getOffset(S,ye,ue)),ye+=ue;U=ve+X[te]}else U=C+2;for(var Fe=0;Fe<X.length-1;Fe+=1){var Re=Ie.getBytes(S,ve+X[Fe],ve+X[Fe+1]);N&&(Re=N(Re)),$.push(Re)}return{objects:$,startOffset:C,endOffset:U}}function or(S,C){if(C===28)return S.parseByte()<<8|S.parseByte();if(C===29)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(C===30){for(var N=S,U="",X=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var te=N.parseByte(),$=te>>4,te=15&te;if($==15||(U+=X[$],te==15))break;U+=X[te]}return parseFloat(U)}if(32<=C&&C<=246)return C-139;if(247<=C&&C<=250)return 256*(C-247)+S.parseByte()+108;if(251<=C&&C<=254)return 256*-(C-251)-S.parseByte()-108;throw new Error("Invalid b0 "+C)}function en(S,C,N){var U=new Ie.Parser(S,C=C!==void 0?C:0),X=[],$=[];for(N=N!==void 0?N:S.length;U.relativeOffset<N;){var te=U.parseByte();te<=21?(te===12&&(te=1200+U.parseByte()),X.push([te,$]),$=[]):$.push(or(U,te))}for(var ue=X,ve={},ye=0;ye<ue.length;ye+=1){var Oe=ue[ye][0],Fe=ue[ye][1],Re=void 0,Re=Fe.length===1?Fe[0]:Fe;if(ve.hasOwnProperty(Oe)&&!isNaN(ve[Oe]))throw new Error("Object "+ve+" already has key "+Oe);ve[Oe]=Re}return ve}function Tr(S,C){return C=C<=390?ce[C]:S[C-391]}function Xt(S,C,N){for(var U,X={},$=0;$<C.length;$+=1){var te=C[$];if(Array.isArray(te.type)){var ue=[];ue.length=te.type.length;for(var ve=0;ve<te.type.length;ve++)(U=S[te.op]!==void 0?S[te.op][ve]:void 0)===void 0&&(U=te.value!==void 0&&te.value[ve]!==void 0?te.value[ve]:null),te.type[ve]==="SID"&&(U=Tr(N,U)),ue[ve]=U;X[te.name]=ue}else(U=S[te.op])===void 0&&(U=te.value!==void 0?te.value:null),te.type==="SID"&&(U=Tr(N,U)),X[te.name]=U}return X}var mr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Yt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Xr(S,C,N,U){return Xt(en(S,C,N),Yt,U)}function Gr(S,C,N,U){for(var X=[],$=0;$<N.length;$+=1){var te=new DataView(new Uint8Array(N[$]).buffer),te=(ue=U,Xt(en(te,0,te.byteLength),mr,ue)),ue=(te._subrs=[],te._subrsBias=0,te.private[0]),ve=te.private[1];ue!==0&&ve!==0&&(ue=Xr(S,ve+C,ue,U),te._defaultWidthX=ue.defaultWidthX,te._nominalWidthX=ue.nominalWidthX,ue.subrs!==0&&(ve=Mt(S,ve+ue.subrs+C),te._subrs=ve.objects,te._subrsBias=kt(te._subrs)),te._privateDict=ue),X.push(te)}return X}function tr(S,C,N){var U,X,$,te,ue,ve,ye,Oe,Fe,Re=new ee,we=[],Ke=0,ze=!1,We=!1,Ue=0,Be=0,bt=(Fe=(S.isCIDFont?(ue=S.tables.cff.topDict._fdSelect[C.index],ue=S.tables.cff.topDict._fdArray[ue],ve=ue._subrs,ye=ue._subrsBias,Oe=ue._defaultWidthX,ue):(ve=S.tables.cff.topDict._subrs,ye=S.tables.cff.topDict._subrsBias,Oe=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Oe);function Nt(Tt,Bt){We&&Re.closePath(),Re.moveTo(Tt,Bt),We=!0}function St(){we.length%2==0||ze||(bt=we.shift()+Fe),Ke+=we.length>>1,we.length=0,ze=!0}return function Tt(Bt){for(var hr,Zt,br,nn,sn,Xn,sr,ur,rr,cn,ir,zr,nr=0;nr<Bt.length;){var Pr=Bt[nr];switch(nr+=1,Pr){case 1:case 3:St();break;case 4:1<we.length&&!ze&&(bt=we.shift()+Fe,ze=!0),Be+=we.pop(),Nt(Ue,Be);break;case 5:for(;0<we.length;)Ue+=we.shift(),Be+=we.shift(),Re.lineTo(Ue,Be);break;case 6:for(;0<we.length&&(Ue+=we.shift(),Re.lineTo(Ue,Be),we.length!==0);)Be+=we.shift(),Re.lineTo(Ue,Be);break;case 7:for(;0<we.length&&(Be+=we.shift(),Re.lineTo(Ue,Be),we.length!==0);)Ue+=we.shift(),Re.lineTo(Ue,Be);break;case 8:for(;0<we.length;)U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te+we.shift(),Re.curveTo(U,X,$,te,Ue,Be);break;case 10:sn=we.pop()+ye,(Xn=ve[sn])&&Tt(Xn);break;case 11:return;case 12:switch(Pr=Bt[nr],nr+=1,Pr){case 35:U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),sr=$+we.shift(),ur=te+we.shift(),rr=sr+we.shift(),cn=ur+we.shift(),ir=rr+we.shift(),zr=cn+we.shift(),Ue=ir+we.shift(),Be=zr+we.shift(),we.shift(),Re.curveTo(U,X,$,te,sr,ur),Re.curveTo(rr,cn,ir,zr,Ue,Be);break;case 34:U=Ue+we.shift(),X=Be,$=U+we.shift(),te=X+we.shift(),sr=$+we.shift(),ur=te,rr=sr+we.shift(),cn=te,ir=rr+we.shift(),zr=Be,Ue=ir+we.shift(),Re.curveTo(U,X,$,te,sr,ur),Re.curveTo(rr,cn,ir,zr,Ue,Be);break;case 36:U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),sr=$+we.shift(),ur=te,rr=sr+we.shift(),cn=te,ir=rr+we.shift(),zr=cn+we.shift(),Ue=ir+we.shift(),Re.curveTo(U,X,$,te,sr,ur),Re.curveTo(rr,cn,ir,zr,Ue,Be);break;case 37:U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),sr=$+we.shift(),ur=te+we.shift(),rr=sr+we.shift(),cn=ur+we.shift(),ir=rr+we.shift(),zr=cn+we.shift(),Math.abs(ir-Ue)>Math.abs(zr-Be)?Ue=ir+we.shift():Be=zr+we.shift(),Re.curveTo(U,X,$,te,sr,ur),Re.curveTo(rr,cn,ir,zr,Ue,Be);break;default:console.log("Glyph "+C.index+": unknown operator 1200"+Pr),we.length=0}break;case 14:0<we.length&&!ze&&(bt=we.shift()+Fe,ze=!0),We&&(Re.closePath(),We=!1);break;case 18:St();break;case 19:case 20:St(),nr+=Ke+7>>3;break;case 21:2<we.length&&!ze&&(bt=we.shift()+Fe,ze=!0),Be+=we.pop(),Nt(Ue+=we.pop(),Be);break;case 22:1<we.length&&!ze&&(bt=we.shift()+Fe,ze=!0),Nt(Ue+=we.pop(),Be);break;case 23:St();break;case 24:for(;2<we.length;)U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te+we.shift(),Re.curveTo(U,X,$,te,Ue,Be);Ue+=we.shift(),Be+=we.shift(),Re.lineTo(Ue,Be);break;case 25:for(;6<we.length;)Ue+=we.shift(),Be+=we.shift(),Re.lineTo(Ue,Be);U=Ue+we.shift(),X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te+we.shift(),Re.curveTo(U,X,$,te,Ue,Be);break;case 26:for(we.length%2&&(Ue+=we.shift());0<we.length;)U=Ue,X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$,Be=te+we.shift(),Re.curveTo(U,X,$,te,Ue,Be);break;case 27:for(we.length%2&&(Be+=we.shift());0<we.length;)U=Ue+we.shift(),X=Be,$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te,Re.curveTo(U,X,$,te,Ue,Be);break;case 28:hr=Bt[nr],Zt=Bt[nr+1],we.push((hr<<24|Zt<<16)>>16),nr+=2;break;case 29:sn=we.pop()+S.gsubrsBias,(Xn=S.gsubrs[sn])&&Tt(Xn);break;case 30:for(;0<we.length&&(U=Ue,X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te+(we.length===1?we.shift():0),Re.curveTo(U,X,$,te,Ue,Be),we.length!==0);)U=Ue+we.shift(),X=Be,$=U+we.shift(),te=X+we.shift(),Be=te+we.shift(),Ue=$+(we.length===1?we.shift():0),Re.curveTo(U,X,$,te,Ue,Be);break;case 31:for(;0<we.length&&(U=Ue+we.shift(),X=Be,$=U+we.shift(),te=X+we.shift(),Be=te+we.shift(),Ue=$+(we.length===1?we.shift():0),Re.curveTo(U,X,$,te,Ue,Be),we.length!==0);)U=Ue,X=Be+we.shift(),$=U+we.shift(),te=X+we.shift(),Ue=$+we.shift(),Be=te+(we.length===1?we.shift():0),Re.curveTo(U,X,$,te,Ue,Be);break;default:Pr<32?console.log("Glyph "+C.index+": unknown operator "+Pr):Pr<247?we.push(Pr-139):Pr<251?(hr=Bt[nr],nr+=1,we.push(256*(Pr-247)+hr+108)):Pr<255?(hr=Bt[nr],nr+=1,we.push(256*-(Pr-251)-hr-108)):(hr=Bt[nr],Zt=Bt[nr+1],br=Bt[nr+2],nn=Bt[nr+3],nr+=4,we.push((hr<<24|Zt<<16|br<<8|nn)/65536))}}}(N),C.advanceWidth=bt,Re}function tn(S,C){var N,U=ce.indexOf(S);return 0<=U&&(N=U),0<=(U=C.indexOf(S))?N=U+ce.length:(N=ce.length+C.length,C.push(S)),N}function Hn(S,C,N){for(var U={},X=0;X<S.length;X+=1){var $=S[X],te=C[$.name];te===void 0||function ue(ve,ye){if(ve===ye)return 1;if(Array.isArray(ve)&&Array.isArray(ye)&&ve.length===ye.length){for(var Oe=0;Oe<ve.length;Oe+=1)if(!ue(ve[Oe],ye[Oe]))return;return 1}}(te,$.value)||($.type==="SID"&&(te=tn(te,N)),U[$.op]={name:$.name,type:$.type,value:te})}return U}function Nr(S,C){var N=new Pe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=Hn(mr,S,C),N}function Yr(S){var C=new Pe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return C.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],C}function Cs(S){for(var C=new Pe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<S.length;N+=1){var U=S.get(N),X=function($){for(var te=[],ue=$.path,ve=(te.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),ye=0,Oe=0;Oe<ue.commands.length;Oe+=1){var Fe,Re,we,Ke,ze=void 0,We=void 0,Ue=ue.commands[Oe];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*ve+2/3*Ue.x1,y1:1/3*ye+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(ze=Math.round(Ue.x-ve),We=Math.round(Ue.y-ye),te.push({name:"dx",type:"NUMBER",value:ze}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rmoveto",type:"OP",value:21}),ve=Math.round(Ue.x),ye=Math.round(Ue.y)):Ue.type==="L"?(ze=Math.round(Ue.x-ve),We=Math.round(Ue.y-ye),te.push({name:"dx",type:"NUMBER",value:ze}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rlineto",type:"OP",value:5}),ve=Math.round(Ue.x),ye=Math.round(Ue.y)):Ue.type==="C"&&(Fe=Math.round(Ue.x1-ve),Re=Math.round(Ue.y1-ye),we=Math.round(Ue.x2-Ue.x1),Ke=Math.round(Ue.y2-Ue.y1),ze=Math.round(Ue.x-Ue.x2),We=Math.round(Ue.y-Ue.y2),te.push({name:"dx1",type:"NUMBER",value:Fe}),te.push({name:"dy1",type:"NUMBER",value:Re}),te.push({name:"dx2",type:"NUMBER",value:we}),te.push({name:"dy2",type:"NUMBER",value:Ke}),te.push({name:"dx",type:"NUMBER",value:ze}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rrcurveto",type:"OP",value:8}),ve=Math.round(Ue.x),ye=Math.round(Ue.y))}return te.push({name:"endchar",type:"OP",value:14}),te}(U);C.charStrings.push({name:U.name,type:"CHARSTRING",value:X})}return C}var ni={parse:function(S,C,N){N.tables.cff={},ue=S,U=C,(X={}).formatMajor=Ie.getCard8(ue,U),X.formatMinor=Ie.getCard8(ue,U+1),X.size=Ie.getCard8(ue,U+2),X.offsetSize=Ie.getCard8(ue,U+3),X.startOffset=U,X.endOffset=U+4;var ue=Mt(S,X.endOffset,Ie.bytesToString),U=Mt(S,ue.endOffset),X=Mt(S,U.endOffset,Ie.bytesToString),ue=Mt(S,X.endOffset);if(N.gsubrs=ue.objects,N.gsubrsBias=kt(N.gsubrs),(ue=Gr(S,C,U.objects,X.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ue.length);if(U=ue[0],(N.tables.cff.topDict=U)._privateDict&&(N.defaultWidthX=U._privateDict.defaultWidthX,N.nominalWidthX=U._privateDict.nominalWidthX),U.ros[0]!==void 0&&U.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var ue=U.fdArray,$=U.fdSelect;if(ue===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ue=Gr(S,C,Mt(S,ue+=C).objects,X.objects),U._fdArray=ue,U._fdSelect=function(Re,we,Ke,ze){var We,Ue=[],Be=new Ie.Parser(Re,we);if((Re=Be.parseCard8())===0)for(var bt=0;bt<Ke;bt++){if(ze<=(We=Be.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+We+" (FD count "+ze+")");Ue.push(We)}else{if(Re!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Re);var Nt,St=Be.parseCard16(),Tt=Be.parseCard16();if(Tt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Tt);for(var Bt=0;Bt<St;Bt++){if(We=Be.parseCard8(),Nt=Be.parseCard16(),ze<=We)throw new Error("CFF table CID Font FDSelect has bad FD index value "+We+" (FD count "+ze+")");if(Ke<Nt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Nt);for(;Tt<Nt;Tt++)Ue.push(We);Tt=Nt}if(Nt!==Ke)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Nt)}return Ue}(S,$+=C,N.numGlyphs,ue.length)}var $=C+U.private[1],ue=Xr(S,$,U.private[0],X.objects),te=(N.defaultWidthX=ue.defaultWidthX,N.nominalWidthX=ue.nominalWidthX,ue.subrs!==0?($=Mt(S,$+ue.subrs),N.subrs=$.objects,N.subrsBias=kt(N.subrs)):(N.subrs=[],N.subrsBias=0),Mt(S,C+U.charStrings)),ue=(N.nGlyphs=te.objects.length,function(Oe,Fe,Re,we){var Ke=new Ie.Parser(Oe,Fe),ze=(--Re,[".notdef"]);if((Oe=Ke.parseCard8())===0)for(var We=0;We<Re;We+=1)Ue=Ke.parseSID(),ze.push(Tr(we,Ue));else if(Oe===1)for(;ze.length<=Re;)for(var Ue=Ke.parseSID(),Be=Ke.parseCard8(),bt=0;bt<=Be;bt+=1)ze.push(Tr(we,Ue)),Ue+=1;else{if(Oe!==2)throw new Error("Unknown charset format "+Oe);for(;ze.length<=Re;){Ue=Ke.parseSID(),Be=Ke.parseCard16();for(var Nt=0;Nt<=Be;Nt+=1)ze.push(Tr(we,Ue)),Ue+=1}}return ze}(S,C+U.charset,N.nGlyphs,X.objects));U.encoding===0?N.cffEncoding=new rt(re,ue):U.encoding===1?N.cffEncoding=new rt(fe,ue):N.cffEncoding=function(Oe,Fe,Re){var we={},Ke=new Ie.Parser(Oe,Fe);if((Oe=Ke.parseCard8())===0)for(var ze=Ke.parseCard8(),We=0;We<ze;We+=1)we[Be=Ke.parseCard8()]=We;else{if(Oe!==1)throw new Error("Unknown encoding format "+Oe);for(var Ue=Ke.parseCard8(),Be=1,bt=0;bt<Ue;bt+=1)for(var Nt=Ke.parseCard8(),St=Ke.parseCard8(),Tt=Nt;Tt<=Nt+St;Tt+=1)we[Tt]=Be,Be+=1}return new rt(we,Re)}(S,C+U.encoding,ue),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new gt.GlyphSet(N);for(var ve=0;ve<N.nGlyphs;ve+=1){var ye=te.objects[ve];N.glyphs.push(ve,gt.cffGlyphLoader(N,ve,tr,ye))}},make:function(S,Oe){for(var N,U=new Pe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),X=1/Oe.unitsPerEm,X={version:Oe.version,fullName:Oe.fullName,familyName:Oe.familyName,weight:Oe.weightName,fontBBox:Oe.fontBBox||[0,0,0,0],fontMatrix:[X,0,0,X,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],te=1;te<S.length;te+=1)N=S.get(te),$.push(N.name);var ue,ve,ye=[],Oe=(U.header=new Pe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),U.nameIndex=function(Re){var we=new Pe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var Ke=0;Ke<Re.length;Ke+=1)we.names.push({name:"name_"+Ke,type:"NAME",value:Re[Ke]});return we}([Oe.postScriptName]),Nr(X,ye)),Fe=(U.topDictIndex=Yr(Oe),U.globalSubrIndex=new Pe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),U.charsets=function(Re,we){for(var Ke=new Pe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ze=0;ze<Re.length;ze+=1){var We=tn(Re[ze],we);Ke.fields.push({name:"glyph_"+ze,type:"SID",value:We})}return Ke}($,ye),U.charStringsIndex=Cs(S),U.privateDict=(Fe={},ue=ye,(ve=new Pe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Hn(Yt,Fe,ue),ve),U.stringIndex=function(Re){var we=new Pe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var Ke=0;Ke<Re.length;Ke+=1)we.strings.push({name:"string_"+Ke,type:"STRING",value:Re[Ke]});return we}(ye),U.header.sizeOf()+U.nameIndex.sizeOf()+U.topDictIndex.sizeOf()+U.stringIndex.sizeOf()+U.globalSubrIndex.sizeOf());return X.charset=Fe,X.encoding=0,X.charStrings=X.charset+U.charsets.sizeOf(),X.private[1]=X.charStrings+U.charStringsIndex.sizeOf(),Oe=Nr(X,ye),U.topDictIndex=Yr(Oe),U}},_o={parse:function(U,C){var N={},U=new Ie.Parser(U,C);return N.version=U.parseVersion(),N.fontRevision=Math.round(1e3*U.parseFixed())/1e3,N.checkSumAdjustment=U.parseULong(),N.magicNumber=U.parseULong(),B.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=U.parseUShort(),N.unitsPerEm=U.parseUShort(),N.created=U.parseLongDateTime(),N.modified=U.parseLongDateTime(),N.xMin=U.parseShort(),N.yMin=U.parseShort(),N.xMax=U.parseShort(),N.yMax=U.parseShort(),N.macStyle=U.parseUShort(),N.lowestRecPPEM=U.parseUShort(),N.fontDirectionHint=U.parseShort(),N.indexToLocFormat=U.parseShort(),N.glyphDataFormat=U.parseShort(),N},make:function(S){var C=Math.round(new Date().getTime()/1e3)+2082844800,N=C;return S.createdTimestamp&&(N=S.createdTimestamp+2082844800),new Pe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:C},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)}},je={parse:function(U,C){var N={},U=new Ie.Parser(U,C);return N.version=U.parseVersion(),N.ascender=U.parseShort(),N.descender=U.parseShort(),N.lineGap=U.parseShort(),N.advanceWidthMax=U.parseUShort(),N.minLeftSideBearing=U.parseShort(),N.minRightSideBearing=U.parseShort(),N.xMaxExtent=U.parseShort(),N.caretSlopeRise=U.parseShort(),N.caretSlopeRun=U.parseShort(),N.caretOffset=U.parseShort(),U.relativeOffset+=8,N.metricDataFormat=U.parseShort(),N.numberOfHMetrics=U.parseUShort(),N},make:function(S){return new Pe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)}},nt={parse:function(S,C,N,U,X){for(var $,te,ue=new Ie.Parser(S,C),ve=0;ve<U;ve+=1){ve<N&&($=ue.parseUShort(),te=ue.parseShort());var ye=X.get(ve);ye.advanceWidth=$,ye.leftSideBearing=te}},make:function(S){for(var C=new Pe.Table("hmtx",[]),N=0;N<S.length;N+=1){var X=S.get(N),U=X.advanceWidth||0,X=X.leftSideBearing||0;C.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:U}),C.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:X})}return C}},pt={make:function(S){for(var C=new Pe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),N="",U=12+4*S.length,X=0;X<S.length;++X){var $=N.indexOf(S[X]);$<0&&($=N.length,N+=S[X]),C.fields.push({name:"offset "+X,type:"USHORT",value:U+$}),C.fields.push({name:"length "+X,type:"USHORT",value:S[X].length})}return C.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),C},parse:function(S,C){for(var N=new Ie.Parser(S,C),U=N.parseULong(),X=(B.argument(U===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),$=[],te=0;te<X;te++){for(var ue="",ve=C+N.parseUShort(),ye=N.parseUShort(),Oe=ve;Oe<ve+ye;++Oe)ue+=String.fromCharCode(S.getInt8(Oe));$.push(ue)}return $}},tt={parse:function(U,C){var N={},U=new Ie.Parser(U,C);return N.version=U.parseVersion(),N.numGlyphs=U.parseUShort(),N.version===1&&(N.maxPoints=U.parseUShort(),N.maxContours=U.parseUShort(),N.maxCompositePoints=U.parseUShort(),N.maxCompositeContours=U.parseUShort(),N.maxZones=U.parseUShort(),N.maxTwilightPoints=U.parseUShort(),N.maxStorage=U.parseUShort(),N.maxFunctionDefs=U.parseUShort(),N.maxInstructionDefs=U.parseUShort(),N.maxStackElements=U.parseUShort(),N.maxSizeOfInstructions=U.parseUShort(),N.maxComponentElements=U.parseUShort(),N.maxComponentDepth=U.parseUShort()),N},make:function(S){return new Pe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])}},It=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Gt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ct={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ct="utf-16",yt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Er={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function yr(S,C,N){switch(S){case 0:return Ct;case 1:return Er[N]||yt[C];case 3:if(C===1||C===10)return Ct}}function ar(S){var C,N={};for(C in S)N[S[C]]=parseInt(C);return N}function cr(S,C,N,U,X,$){return new Pe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:C},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:U},{name:"length",type:"USHORT",value:X},{name:"offset",type:"USHORT",value:$}])}function ms(S,C){if((N=function($,te){var ue=$.length,ve=te.length-ue+1;e:for(var ye=0;ye<ve;ye++)for(;ye<ve;ye++){for(var Oe=0;Oe<ue;Oe++)if(te[ye+Oe]!==$[Oe])continue e;return ye}return-1}(S,C))<0)for(var N=C.length,U=0,X=S.length;U<X;++U)C.push(S[U]);return N}var On={parse:function(S,C,N){for(var U={},X=new Ie.Parser(S,C),C=X.parseUShort(),$=X.parseUShort(),te=X.offset+X.parseUShort(),ue=0;ue<$;ue++){var Ke=X.parseUShort(),ve=X.parseUShort(),ye=X.parseUShort(),Oe=X.parseUShort(),Oe=It[Oe]||Oe,Fe=X.parseUShort(),Re=X.parseUShort(),we=function(We,Ue,Be){switch(We){case 0:if(Ue===65535)return"und";if(Be)return Be[Ue];break;case 1:return Ze[Ue];case 3:return ct[Ue]}}(Ke,ye,N),Ke=yr(Ke,ve,ye);Ke!==void 0&&we!==void 0&&(ve=void 0,(ve=Ke===Ct?W.UTF16(S,te+Re,Fe):W.MACSTRING(S,te+Re,Fe,Ke))&&((ye=(ye=U[Oe])===void 0?U[Oe]={}:ye)[we]=ve))}return C===1&&X.parseUShort(),U},make:function(S,C){var N,U=[],X={},$=ar(It);for(N in S){var te=$[N];if(te===void 0&&(te=N),Re=parseInt(te),isNaN(Re))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');X[Re]=S[N],U.push(Re)}for(var ue=ar(Ze),ve=ar(ct),ye=[],Oe=[],Fe=0;Fe<U.length;Fe++){var Re,we,Ke=X[Re=U[Fe]];for(we in Ke){var ze=Ke[we],Nt=1,We=ue[we],Ue=Gt[We],Be=yr(Nt,Ue,We),Be=J.MACSTRING(ze,Be),bt=(Be===void 0&&(Nt=0,(We=C.indexOf(we))<0&&(We=C.length,C.push(we)),Ue=4,Be=J.UTF16(ze)),ms(Be,Oe)),Nt=(ye.push(cr(Nt,Ue,We,Re,Be.length,bt)),ve[we]);Nt!==void 0&&(We=ms(Ue=J.UTF16(ze),Oe),ye.push(cr(3,1,Nt,Re,Ue.length,We)))}}ye.sort(function(Bt,hr){return Bt.platformID-hr.platformID||Bt.encodingID-hr.encodingID||Bt.languageID-hr.languageID||Bt.nameID-hr.nameID});for(var St=new Pe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),Tt=0;Tt<ye.length;Tt++)St.fields.push({name:"record_"+Tt,type:"RECORD",value:ye[Tt]});return St.fields.push({name:"strings",type:"LITERAL",value:Oe}),St}},$n=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Zr={parse:function(S,C){var N={},U=new Ie.Parser(S,C);N.version=U.parseUShort(),N.xAvgCharWidth=U.parseShort(),N.usWeightClass=U.parseUShort(),N.usWidthClass=U.parseUShort(),N.fsType=U.parseUShort(),N.ySubscriptXSize=U.parseShort(),N.ySubscriptYSize=U.parseShort(),N.ySubscriptXOffset=U.parseShort(),N.ySubscriptYOffset=U.parseShort(),N.ySuperscriptXSize=U.parseShort(),N.ySuperscriptYSize=U.parseShort(),N.ySuperscriptXOffset=U.parseShort(),N.ySuperscriptYOffset=U.parseShort(),N.yStrikeoutSize=U.parseShort(),N.yStrikeoutPosition=U.parseShort(),N.sFamilyClass=U.parseShort(),N.panose=[];for(var X=0;X<10;X++)N.panose[X]=U.parseByte();return N.ulUnicodeRange1=U.parseULong(),N.ulUnicodeRange2=U.parseULong(),N.ulUnicodeRange3=U.parseULong(),N.ulUnicodeRange4=U.parseULong(),N.achVendID=String.fromCharCode(U.parseByte(),U.parseByte(),U.parseByte(),U.parseByte()),N.fsSelection=U.parseUShort(),N.usFirstCharIndex=U.parseUShort(),N.usLastCharIndex=U.parseUShort(),N.sTypoAscender=U.parseShort(),N.sTypoDescender=U.parseShort(),N.sTypoLineGap=U.parseShort(),N.usWinAscent=U.parseUShort(),N.usWinDescent=U.parseUShort(),1<=N.version&&(N.ulCodePageRange1=U.parseULong(),N.ulCodePageRange2=U.parseULong()),2<=N.version&&(N.sxHeight=U.parseShort(),N.sCapHeight=U.parseShort(),N.usDefaultChar=U.parseUShort(),N.usBreakChar=U.parseUShort(),N.usMaxContent=U.parseUShort()),N},make:function(S){return new Pe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},unicodeRanges:$n,getUnicodeRange:function(S){for(var C=0;C<$n.length;C+=1){var N=$n[C];if(S>=N.begin&&S<N.end)return C}return-1}},xo={parse:function(S,C){var N={},U=new Ie.Parser(S,C);switch(N.version=U.parseVersion(),N.italicAngle=U.parseFixed(),N.underlinePosition=U.parseShort(),N.underlineThickness=U.parseShort(),N.isFixedPitch=U.parseULong(),N.minMemType42=U.parseULong(),N.maxMemType42=U.parseULong(),N.minMemType1=U.parseULong(),N.maxMemType1=U.parseULong(),N.version){case 1:N.names=Me.slice();break;case 2:N.numberOfGlyphs=U.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var X=0;X<N.numberOfGlyphs;X++)N.glyphNameIndex[X]=U.parseUShort();N.names=[];for(var $,te=0;te<N.numberOfGlyphs;te++)N.glyphNameIndex[te]>=Me.length&&($=U.parseChar(),N.names.push(U.parseString($)));break;case 2.5:N.numberOfGlyphs=U.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var ue=0;ue<N.numberOfGlyphs;ue++)N.offset[ue]=U.parseChar()}return N},make:function(){return new Pe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},An=new Array(9),kn=(An[1]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),deltaGlyphId:this.parseUShort()}:C===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),substitute:this.parseOffset16List()}:void B.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},An[2]=function(){var S=this.parseUShort();return B.argument(S===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ce.coverage),sequences:this.parseListOfLists()}},An[3]=function(){var S=this.parseUShort();return B.argument(S===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ce.coverage),alternateSets:this.parseListOfLists()}},An[4]=function(){var S=this.parseUShort();return B.argument(S===1,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ce.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ce.uShort,lookupListIndex:Ce.uShort});An[5]=function(){var S,C,N=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{substFormat:U,coverage:this.parsePointer(Ce.coverage),ruleSets:this.parseListOfLists(function(){var X=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(X-1),lookupRecords:this.parseRecordList($,kn)}})}:U===2?{substFormat:U,coverage:this.parsePointer(Ce.coverage),classDef:this.parsePointer(Ce.classDef),classSets:this.parseListOfLists(function(){var X=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(X-1),lookupRecords:this.parseRecordList($,kn)}})}:U===3?(S=this.parseUShort(),C=this.parseUShort(),{substFormat:U,coverages:this.parseList(S,Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList(C,kn)}):void B.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},An[6]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Ce.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(kn)}})}:C===2?{substFormat:2,coverage:this.parsePointer(Ce.coverage),backtrackClassDef:this.parsePointer(Ce.classDef),inputClassDef:this.parsePointer(Ce.classDef),lookaheadClassDef:this.parsePointer(Ce.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(kn)}})}:C===3?{substFormat:3,backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),inputCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookupRecords:this.parseRecordList(kn)}:void B.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},An[7]=function(){var S=this.parseUShort(),S=(B.argument(S===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),C=new Ce(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:S,extension:An[S].call(C)}},An[8]=function(){var S=this.parseUShort();return B.argument(S===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ce.coverage),backtrackCoverage:this.parseList(Ce.pointer(Ce.coverage)),lookaheadCoverage:this.parseList(Ce.pointer(Ce.coverage)),substitutes:this.parseUShortList()}};var gn=new Array(9);gn[1]=function(S){return S.substFormat===1?new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]):new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pe.Coverage(S.coverage)}].concat(Pe.ushortList("substitute",S.substitute)))},gn[3]=function(S){return B.assert(S.substFormat===1,"Lookup type 3 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(S.coverage)}].concat(Pe.tableList("altSet",S.alternateSets,function(C){return new Pe.Table("alternateSetTable",Pe.ushortList("alternate",C))})))},gn[4]=function(S){return B.assert(S.substFormat===1,"Lookup type 4 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(S.coverage)}].concat(Pe.tableList("ligSet",S.ligatureSets,function(C){return new Pe.Table("ligatureSetTable",Pe.tableList("ligature",C,function(N){return new Pe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(Pe.ushortList("component",N.components,N.components.length+1)))}))})))};var gl={parse:function(S,C){return C=(S=new Ce(S,C=C||0)).parseVersion(1),B.argument(C===1||C===1.1,"Unsupported GSUB table version."),C===1?{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(An)}:{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(An),variations:S.parseFeatureVariationsList()}},make:function(S){return new Pe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(S.lookups,gn)}])}},Xu={parse:function(S,C){for(var N=new Ie.Parser(S,C),U=N.parseULong(),X=(B.argument(U===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),$={},te=0;te<X;te++){var ue=N.parseTag(),ye=N.parseULong(),ve=N.parseULong(),ye=W.UTF8(S,C+ye,ve);$[ue]=ye}return $},make:function(S){var C,N=Object.keys(S).length,U="",X=16+12*N,$=new Pe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:X},{name:"numTags",type:"ULONG",value:N}]);for(C in S){var te=U.length;U+=S[C],$.fields.push({name:"tag "+C,type:"TAG",value:C}),$.fields.push({name:"offset "+C,type:"ULONG",value:X+te}),$.fields.push({name:"length "+C,type:"ULONG",value:S[C].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:U}),$}};function wo(S){return Math.log(S)/Math.log(2)|0}function aa(S){for(;S.length%4!=0;)S.push(0);for(var C=0,N=0;N<S.length;N+=4)C+=(S[N]<<24)+(S[N+1]<<16)+(S[N+2]<<8)+S[N+3];return C%=Math.pow(2,32)}function So(S,C,N,U){return new Pe.Record("Table Record",[{name:"tag",type:"TAG",value:S!==void 0?S:""},{name:"checkSum",type:"ULONG",value:C!==void 0?C:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:U!==void 0?U:0}])}function Yu(S){for(var C=new Pe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(C.tables=S,C.numTables=S.length,Math.pow(2,wo(C.numTables))),U=(C.searchRange=16*N,C.entrySelector=wo(N),C.rangeShift=16*C.numTables-C.searchRange,[]),X=[],$=C.sizeOf()+So().sizeOf()*C.numTables;$%4!=0;)$+=1,X.push({name:"padding",type:"BYTE",value:0});for(var te=0;te<S.length;te+=1){var ue=S[te],ve=(B.argument(ue.tableName.length===4,"Table name"+ue.tableName+" is invalid."),ue.sizeOf()),ye=So(ue.tableName,aa(ue.encode()),$,ve);for(U.push({name:ye.tag+" Table Record",type:"RECORD",value:ye}),X.push({name:ue.tableName+" table",type:"RECORD",value:ue}),$+=ve,B.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,X.push({name:"padding",type:"BYTE",value:0})}return U.sort(function(Oe,Fe){return Oe.value.tag>Fe.value.tag?1:-1}),C.fields=C.fields.concat(U),C.fields=C.fields.concat(X),C}function Ln(S,C,N){for(var U=0;U<C.length;U+=1){var X=S.charToGlyphIndex(C[U]);if(0<X)return S.glyphs.get(X).getMetrics()}return N}var vl={make:Yu,fontToTable:function(S){for(var C,N=[],U=[],X=[],$=[],te=[],ue=[],ve=[],ye=0,Oe=0,Fe=0,Re=0,we=0,Ke=0;Ke<S.glyphs.length;Ke+=1){var ze=S.glyphs.get(Ke),We=0|ze.unicode;if(isNaN(ze.advanceWidth))throw new Error("Glyph "+ze.name+" ("+Ke+"): advanceWidth is not a number.");(We<C||C===void 0)&&0<We&&(C=We),ye<We&&(ye=We);var We=Zr.getUnicodeRange(We);if(We<32)Oe|=1<<We;else if(We<64)Fe|=1<<We-32;else if(We<96)Re|=1<<We-64;else{if(!(We<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<We-96}ze.name!==".notdef"&&(We=ze.getMetrics(),N.push(We.xMin),U.push(We.yMin),X.push(We.xMax),$.push(We.yMax),ue.push(We.leftSideBearing),ve.push(We.rightSideBearing),te.push(ze.advanceWidth))}var Ue,Be={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,U),xMax:Math.max.apply(null,X),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,te),advanceWidthAvg:function(Pr){for(var Bi=0,Yn=0;Yn<Pr.length;Yn+=1)Bi+=Pr[Yn];return Bi/Pr.length}(te),minLeftSideBearing:Math.min.apply(null,ue),maxLeftSideBearing:Math.max.apply(null,ue),minRightSideBearing:Math.min.apply(null,ve)},bt=(Be.ascender=S.ascender,Be.descender=S.descender,_o.make({flags:3,unitsPerEm:S.unitsPerEm,xMin:Be.xMin,yMin:Be.yMin,xMax:Be.xMax,yMax:Be.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Nt=je.make({ascender:Be.ascender,descender:Be.descender,advanceWidthMax:Be.advanceWidthMax,minLeftSideBearing:Be.minLeftSideBearing,minRightSideBearing:Be.minRightSideBearing,xMaxExtent:Be.maxLeftSideBearing+(Be.xMax-Be.xMin),numberOfHMetrics:S.glyphs.length}),St=tt.make(S.glyphs.length),Tt=Zr.make({xAvgCharWidth:Math.round(Be.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:C,usLastCharIndex:ye,ulUnicodeRange1:Oe,ulUnicodeRange2:Fe,ulUnicodeRange3:Re,ulUnicodeRange4:we,fsSelection:S.tables.os2.fsSelection,sTypoAscender:Be.ascender,sTypoDescender:Be.descender,sTypoLineGap:0,usWinAscent:Be.yMax,usWinDescent:Math.abs(Be.yMin),ulCodePageRange1:1,sxHeight:Ln(S,"xyvw",{yMax:Math.round(Be.ascender/2)}).yMax,sCapHeight:Ln(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",Be).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),Bt=nt.make(S.glyphs),hr=oe.make(S.glyphs),ur=S.getEnglishName("fontFamily"),rr=S.getEnglishName("fontSubfamily"),sr=ur+" "+rr,Zt=(Zt=S.getEnglishName("postScriptName"))||ur.replace(/\s/g,"")+"-"+rr,br={};for(Ue in S.names)br[Ue]=S.names[Ue];br.uniqueID||(br.uniqueID={en:S.getEnglishName("manufacturer")+":"+sr}),br.postScriptName||(br.postScriptName={en:Zt}),br.preferredFamily||(br.preferredFamily=S.names.fontFamily),br.preferredSubfamily||(br.preferredSubfamily=S.names.fontSubfamily);var sn=[],nn=On.make(br,sn),sn=0<sn.length?pt.make(sn):void 0,Xn=xo.make(),sr=ni.make(S.glyphs,{version:S.getEnglishName("version"),fullName:sr,familyName:ur,weightName:rr,postScriptName:Zt,unitsPerEm:S.unitsPerEm,fontBBox:[0,Be.yMin,Be.ascender,Be.advanceWidthMax]}),ur=S.metas&&0<Object.keys(S.metas).length?Xu.make(S.metas):void 0,rr=[bt,Nt,St,Tt,nn,hr,Xn,sr,Bt];sn&&rr.push(sn),S.tables.gsub&&rr.push(gl.make(S.tables.gsub)),ur&&rr.push(ur);for(var cn=aa((Zt=Yu(rr)).encode()),ir=Zt.fields,zr=!1,nr=0;nr<ir.length;nr+=1)if(ir[nr].name==="head table"){ir[nr].value.checkSumAdjustment=2981146554-cn,zr=!0;break}if(zr)return Zt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:aa};function la(S,C){for(var N=0,U=S.length-1;N<=U;){var X=N+U>>>1,$=S[X].tag;if($===C)return X;$<C?N=1+X:U=X-1}return-N-1}function ua(S,C){for(var N=0,U=S.length-1;N<=U;){var X=N+U>>>1,$=S[X];if($===C)return X;$<C?N=1+X:U=X-1}return-N-1}function si(S,C){for(var N=0,U=S.length-1;N<=U;){var X,$=N+U>>>1,te=(X=S[$]).start;if(te===C)return X;te<C?N=1+$:U=$-1}if(0<N)return C>(X=S[N-1]).end?0:X}function jo(S,C){this.font=S,this.tableName=C}function To(S){jo.call(this,S,"gpos")}function vn(S){jo.call(this,S,"gsub")}function Zu(S,C,N){for(var U=S.subtables,X=0;X<U.length;X++){var $=U[X];if($.substFormat===C)return $}if(N)return U.push(N),N}function bl(S){for(var C=new ArrayBuffer(S.length),N=new Uint8Array(C),U=0;U<S.length;++U)N[U]=S[U];return C}function ii(S,C){if(!S)throw C}function ca(S,C,N,U,X){var $=0<(C&U)?($=S.parseByte(),N+($=(C&X)==0?-$:$)):0<(C&X)?N:N+S.parseShort();return $}function Hh(S,C,N){var U,X=new Ie.Parser(C,N);if(S.numberOfContours=X.parseShort(),S._xMin=X.parseShort(),S._yMin=X.parseShort(),S._xMax=X.parseShort(),S._yMax=X.parseShort(),0<S.numberOfContours){for(var $=S.endPointIndices=[],te=0;te<S.numberOfContours;te+=1)$.push(X.parseUShort());S.instructionLength=X.parseUShort(),S.instructions=[];for(var ue=0;ue<S.instructionLength;ue+=1)S.instructions.push(X.parseByte());for(var ve=$[$.length-1]+1,ye=[],Oe=0;Oe<ve;Oe+=1)if(U=X.parseByte(),ye.push(U),0<(8&U))for(var Fe=X.parseByte(),Re=0;Re<Fe;Re+=1)ye.push(U),Oe+=1;if(B.argument(ye.length===ve,"Bad flags."),0<$.length){var we,Ke=[];if(0<ve){for(var ze=0;ze<ve;ze+=1)U=ye[ze],(we={}).onCurve=!!(1&U),we.lastPointOfContour=0<=$.indexOf(ze),Ke.push(we);for(var We=0,Ue=0;Ue<ve;Ue+=1)U=ye[Ue],(we=Ke[Ue]).x=ca(X,U,We,2,16),We=we.x;for(var Be=0,bt=0;bt<ve;bt+=1)U=ye[bt],(we=Ke[bt]).y=ca(X,U,Be,4,32),Be=we.y}S.points=Ke}else S.points=[]}else if(S.numberOfContours===0)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Nt=!0;Nt;){ye=X.parseUShort();var St={glyphIndex:X.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ye)?0<(2&ye)?(St.dx=X.parseShort(),St.dy=X.parseShort()):St.matchedPoints=[X.parseUShort(),X.parseUShort()]:0<(2&ye)?(St.dx=X.parseChar(),St.dy=X.parseChar()):St.matchedPoints=[X.parseByte(),X.parseByte()],0<(8&ye)?St.xScale=St.yScale=X.parseF2Dot14():0<(64&ye)?(St.xScale=X.parseF2Dot14(),St.yScale=X.parseF2Dot14()):0<(128&ye)&&(St.xScale=X.parseF2Dot14(),St.scale01=X.parseF2Dot14(),St.scale10=X.parseF2Dot14(),St.yScale=X.parseF2Dot14()),S.components.push(St),Nt=!!(32&ye)}if(256&ye){S.instructionLength=X.parseUShort(),S.instructions=[];for(var Tt=0;Tt<S.instructionLength;Tt+=1)S.instructions.push(X.parseByte())}}}function _l(S,C){for(var N=[],U=0;U<S.length;U+=1){var X=S[U],X={x:C.xScale*X.x+C.scale01*X.y+C.dx,y:C.scale10*X.x+C.yScale*X.y+C.dy,onCurve:X.onCurve,lastPointOfContour:X.lastPointOfContour};N.push(X)}return N}function Eo(S){var C=new ee;if(S)for(var N=function(Fe){for(var Re=[],we=[],Ke=0;Ke<Fe.length;Ke+=1){var ze=Fe[Ke];we.push(ze),ze.lastPointOfContour&&(Re.push(we),we=[])}return B.argument(we.length===0,"There are still points left in the current contour."),Re}(S),U=0;U<N.length;++U){var X,$=N[U],te=$[$.length-1],ue=$[0];te.onCurve?C.moveTo(te.x,te.y):ue.onCurve?C.moveTo(ue.x,ue.y):(X={x:.5*(te.x+ue.x),y:.5*(te.y+ue.y)},C.moveTo(X.x,X.y));for(var ve=0;ve<$.length;++ve){var ye,Oe=te,te=ue,ue=$[(ve+1)%$.length];te.onCurve?C.lineTo(te.x,te.y):(ye=ue,Oe.onCurve||(te.x,Oe.x,te.y,Oe.y),ue.onCurve||(ye={x:.5*(te.x+ue.x),y:.5*(te.y+ue.y)}),C.quadraticCurveTo(te.x,te.y,ye.x,ye.y))}C.closePath()}return C}function xl(S,C){if(C.isComposite)for(var N=0;N<C.components.length;N+=1){var U=C.components[N],X=S.get(U.glyphIndex);if(X.getPath(),X.points){var $=void 0;if(U.matchedPoints===void 0)$=_l(X.points,U);else{if(U.matchedPoints[0]>C.points.length-1||U.matchedPoints[1]>X.points.length-1)throw Error("Matched points out of range in "+C.name);var te=C.points[U.matchedPoints[0]],ue=X.points[U.matchedPoints[1]],U={xScale:U.xScale,scale01:U.scale01,scale10:U.scale10,yScale:U.yScale,dx:0,dy:0},ue=_l([ue],U)[0];U.dx=te.x-ue.x,U.dy=te.y-ue.y,$=_l(X.points,U)}C.points=C.points.concat($)}}return Eo(C.points)}(To.prototype=jo.prototype={searchTag:la,binSearch:ua,getTable:function(S){var C=this.font.tables[this.tableName];return C=!C&&S?this.font.tables[this.tableName]=this.createDefaultTable():C},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(C){return C.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var C=!1,N=0;N<S.scripts.length;N++){var U=S.scripts[N].tag;if(U==="DFLT")return U;U==="latn"&&(C=!0)}return C?"latn":void 0}},getScriptTable:function(S,C){var N,U=this.getTable(C);if(U)return N=U.scripts,0<=(U=la(U.scripts,S=S||"DFLT"))?N[U].script:C?(N.splice(-1-U,0,C={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),C.script):void 0},getLangSysTable:function(X,C,N){var U,X=this.getScriptTable(X,N);if(X)return C&&C!=="dflt"&&C!=="DFLT"?0<=(U=la(X.langSysRecords,C))?X.langSysRecords[U].langSys:N?(X.langSysRecords.splice(-1-U,0,N={tag:C,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:X.defaultLangSys},getFeatureTable:function(S,C,N,U){if(S=this.getLangSysTable(S,C,U),S){for(var X,$=S.featureIndexes,te=this.font.tables[this.tableName].features,ue=0;ue<$.length;ue++)if((X=te[$[ue]]).tag===N)return X.feature;if(U)return C=te.length,B.assert(C===0||N>=te[C-1].tag,"Features must be added in alphabetical order."),te.push(X={tag:N,feature:{params:0,lookupListIndexes:[]}}),$.push(C),X.feature}},getLookupTables:function($,C,N,U,X){var $=this.getFeatureTable($,C,N,X),te=[];if($){for(var ue,ve=$.lookupListIndexes,ye=this.font.tables[this.tableName].lookups,Oe=0;Oe<ve.length;Oe++)(ue=ye[ve[Oe]]).lookupType===U&&te.push(ue);if(te.length===0&&X)return C=ye.length,ye.push(ue={lookupType:U,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ve.push(C),[ue]}return te},getGlyphClass:function(S,C){switch(S.format){case 1:return S.startGlyph<=C&&C<S.startGlyph+S.classes.length?S.classes[C-S.startGlyph]:0;case 2:var N=si(S.ranges,C);return N?N.classId:0}},getCoverageIndex:function(S,C){switch(S.format){case 1:var N=ua(S.glyphs,C);return 0<=N?N:-1;case 2:return N=si(S.ranges,C),N?N.index+C-N.start:-1}},expandCoverage:function(S){if(S.format===1)return S.glyphs;for(var C=[],N=S.ranges,U=0;U<N.length;U++)for(var X=N[U],$=X.start,te=X.end,ue=$;ue<=te;ue++)C.push(ue);return C}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},To.prototype.getKerningValue=function(S,C,N){for(var U=0;U<S.length;U++)for(var X=S[U].subtables,$=0;$<X.length;$++){var te=X[$],ue=this.getCoverageIndex(te.coverage,C);if(!(ue<0))switch(te.posFormat){case 1:for(var ve=te.pairSets[ue],ye=0;ye<ve.length;ye++){var Oe=ve[ye];if(Oe.secondGlyph===N)return Oe.value1&&Oe.value1.xAdvance||0}break;case 2:var Re=this.getGlyphClass(te.classDef1,C),Fe=this.getGlyphClass(te.classDef2,N),Re=te.classRecords[Re][Fe];return Re.value1&&Re.value1.xAdvance||0}}return 0},To.prototype.getKerningTables=function(S,C){if(this.font.tables.gpos)return this.getLookupTables(S,C,"kern",2)},(vn.prototype=jo.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},vn.prototype.getSingle=function(S,C,N){for(var U=[],X=this.getLookupTables(C,N,S,1),$=0;$<X.length;$++)for(var te=X[$].subtables,ue=0;ue<te.length;ue++){var ve=te[ue],ye=this.expandCoverage(ve.coverage),Oe=void 0;if(ve.substFormat===1)for(var Fe=ve.deltaGlyphId,Oe=0;Oe<ye.length;Oe++){var Re=ye[Oe];U.push({sub:Re,by:Re+Fe})}else{var we=ve.substitute;for(Oe=0;Oe<ye.length;Oe++)U.push({sub:ye[Oe],by:we[Oe]})}}return U},vn.prototype.getAlternates=function(S,C,N){for(var U=[],X=this.getLookupTables(C,N,S,3),$=0;$<X.length;$++)for(var te=X[$].subtables,ue=0;ue<te.length;ue++)for(var ve=te[ue],ye=this.expandCoverage(ve.coverage),Oe=ve.alternateSets,Fe=0;Fe<ye.length;Fe++)U.push({sub:ye[Fe],by:Oe[Fe]});return U},vn.prototype.getLigatures=function(S,C,N){for(var U=[],X=this.getLookupTables(C,N,S,4),$=0;$<X.length;$++)for(var te=X[$].subtables,ue=0;ue<te.length;ue++)for(var ve=te[ue],ye=this.expandCoverage(ve.coverage),Oe=ve.ligatureSets,Fe=0;Fe<ye.length;Fe++)for(var Re=ye[Fe],we=Oe[Fe],Ke=0;Ke<we.length;Ke++){var ze=we[Ke];U.push({sub:[Re].concat(ze.components),by:ze.ligGlyph})}return U},vn.prototype.addSingle=function(S,C,N,U){N=Zu(this.getLookupTables(N,U,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),B.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),U=C.sub,S=this.binSearch(N.coverage.glyphs,U),S<0&&(N.coverage.glyphs.splice(S=-1-S,0,U),N.substitute.splice(S,0,0)),N.substitute[S]=C.by},vn.prototype.addAlternate=function(S,C,N,U){N=Zu(this.getLookupTables(N,U,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),B.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),U=C.sub,S=this.binSearch(N.coverage.glyphs,U),S<0&&(N.coverage.glyphs.splice(S=-1-S,0,U),N.alternateSets.splice(S,0,0)),N.alternateSets[S]=C.by},vn.prototype.addLigature=function($,ve,ue,X){var ue=this.getLookupTables(ue,X,$,4,!0)[0],X=ue.subtables[0],$=(X||(ue.subtables[0]=X={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),B.assert(X.coverage.format===1,"Ligature: unable to modify coverage table format "+X.coverage.format),ve.sub[0]),te=ve.sub.slice(1),ue={ligGlyph:ve.by,components:te},ve=this.binSearch(X.coverage.glyphs,$);if(0<=ve){for(var ye=X.ligatureSets[ve],Oe=0;Oe<ye.length;Oe++)if(function(Fe,Re){var we=Fe.length;if(we===Re.length){for(var Ke=0;Ke<we;Ke++)if(Fe[Ke]!==Re[Ke])return;return 1}}(ye[Oe].components,te))return;ye.push(ue)}else X.coverage.glyphs.splice(ve=-1-ve,0,$),X.ligatureSets.splice(ve,0,[ue])},vn.prototype.getFeature=function(S,C,N){if(/ss\d\d/.test(S))return this.getSingle(S,C,N);switch(S){case"aalt":case"salt":return this.getSingle(S,C,N).concat(this.getAlternates(S,C,N));case"dlig":case"liga":case"rlig":return this.getLigatures(S,C,N)}},vn.prototype.add=function(S,C,N,U){if(/ss\d\d/.test(S))return this.addSingle(S,C,N,U);switch(S){case"aalt":case"salt":return typeof C.by=="number"?this.addSingle(S,C,N,U):this.addAlternate(S,C,N,U);case"dlig":case"liga":case"rlig":return this.addLigature(S,C,N,U)}};var ha={getPath:Eo,parse:function(S,C,N,U){for(var X=new gt.GlyphSet(U),$=0;$<N.length-1;$+=1){var te=N[$];te!==N[$+1]?X.push($,gt.ttfGlyphLoader(U,$,Hh,S,C+te,xl)):X.push($,gt.glyphLoader(U,$))}return X}};function oi(S){this.font=S,this.getCommands=function(C){return ha.getPath(C).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ri(S){return S}function wl(S){return Math.sign(S)*Math.round(Math.abs(S))}function Sl(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function Qu(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Mo(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function jl(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Li(S){var C=this.srPeriod,N=this.srPhase,U=1;return S<0&&(S=-S,U=-1),S+=this.srThreshold-N,S=Math.trunc(S/C)*C,(S+=N)<0?N*U:S*U}var rn={x:1,y:0,axis:"x",distance:function(S,C,N,U){return(N?S.xo:S.x)-(U?C.xo:C.x)},interpolate:function(S,C,N,U){var X,$,te,ue,ve,ye,Oe;if(!U||U===this)return X=S.xo-C.xo,$=S.xo-N.xo,ve=C.x-C.xo,ye=N.x-N.xo,(Oe=(te=Math.abs(X))+(ue=Math.abs($)))===0?void(S.x=S.xo+(ve+ye)/2):void(S.x=S.xo+(ve*ue+ye*te)/Oe);X=U.distance(S,C,!0,!0),$=U.distance(S,N,!0,!0),ve=U.distance(C,C,!1,!0),ye=U.distance(N,N,!1,!0),(Oe=(te=Math.abs(X))+(ue=Math.abs($)))===0?rn.setRelative(S,S,(ve+ye)/2,U,!0):rn.setRelative(S,S,(ve*ue+ye*te)/Oe,U,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,C,N,U,X){var $,te;U&&U!==this?($=X?C.xo:C.x,te=X?C.yo:C.y,$+=N*U.x,te+=N*U.y,S.x=$+(S.y-te)/U.normalSlope):S.x=(X?C.xo:C.x)+N},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},es={x:0,y:1,axis:"y",distance:function(S,C,N,U){return(N?S.yo:S.y)-(U?C.yo:C.y)},interpolate:function(S,C,N,U){var X,$,te,ue,ve,ye,Oe;if(!U||U===this)return X=S.yo-C.yo,$=S.yo-N.yo,ve=C.y-C.yo,ye=N.y-N.yo,(Oe=(te=Math.abs(X))+(ue=Math.abs($)))===0?void(S.y=S.yo+(ve+ye)/2):void(S.y=S.yo+(ve*ue+ye*te)/Oe);X=U.distance(S,C,!0,!0),$=U.distance(S,N,!0,!0),ve=U.distance(C,C,!1,!0),ye=U.distance(N,N,!1,!0),(Oe=(te=Math.abs(X))+(ue=Math.abs($)))===0?es.setRelative(S,S,(ve+ye)/2,U,!0):es.setRelative(S,S,(ve*ue+ye*te)/Oe,U,!0)},normalSlope:0,setRelative:function(S,C,N,U,X){var $,te;U&&U!==this?($=X?C.xo:C.x,te=X?C.yo:C.y,$+=N*U.x,te+=N*U.y,S.y=te+U.normalSlope*(S.x-$)):S.y=(X?C.yo:C.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function zs(S,C){this.x=S,this.y=C,this.axis=void 0,this.slope=C/S,this.normalSlope=-S/C,Object.freeze(this)}function Ni(S,C){var N=Math.sqrt(S*S+C*C);return C/=N,(S/=N)===1&&C===0?rn:S===0&&C===1?es:new zs(S,C)}function Wn(S,C,N,U){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*C)/64,this.lastPointOfContour=N,this.onCurve=U,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(rn),Object.freeze(es),zs.prototype.distance=function(S,C,N,U){return this.x*rn.distance(S,C,N,U)+this.y*es.distance(S,C,N,U)},zs.prototype.interpolate=function(S,X,$,U){var te=U.distance(S,X,!0,!0),ue=U.distance(S,$,!0,!0),X=U.distance(X,X,!1,!0),$=U.distance($,$,!1,!0),te=Math.abs(te),ue=Math.abs(ue),ve=te+ue;ve===0?this.setRelative(S,S,(X+$)/2,U,!0):this.setRelative(S,S,(X*ue+$*te)/ve,U,!0)},zs.prototype.setRelative=function(S,$,ve,ye,ue){var te=ue?$.xo:$.x,ue=ue?$.yo:$.y,$=te+ve*(ye=ye||this).x,te=ue+ve*ye.y,ue=ye.normalSlope,ve=this.slope,ye=S.x,Oe=S.y;S.x=(ve*ye-ue*$+te-Oe)/(ve-ue),S.y=ve*(S.x-ye)+Oe},zs.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},Wn.prototype.nextTouched=function(S){for(var C=this.nextPointOnContour;!S.touched(C)&&C!==this;)C=C.nextPointOnContour;return C},Wn.prototype.prevTouched=function(S){for(var C=this.prevPointOnContour;!S.touched(C)&&C!==this;)C=C.prevPointOnContour;return C};var qs=Object.freeze(new Wn(0,0)),Ku={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Cr(S,C){switch(this.env=S,this.stack=[],this.prog=C,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=rn,this.round=wl}}function ys(S){for(var C=S.tZone=new Array(S.gZone.length),N=0;N<C.length;N++)C[N]=new Wn(0,0)}function Oo(S,C){var N,U=S.prog,X=S.ip,$=1;do if((N=U[++X])===88)$++;else if(N===89)$--;else if(N===64)X+=U[X+1]+1;else if(N===65)X+=2*U[X+1]+1;else if(176<=N&&N<=183)X+=N-176+1;else if(184<=N&&N<=191)X+=2*(N-184+1);else if(C&&$===1&&N===27)break;while(0<$);S.ip=X}function Pi(S,C){l.DEBUG&&console.log(C.step,"SVTCA["+S.axis+"]"),C.fv=C.pv=C.dpv=S}function Ju(S,C){l.DEBUG&&console.log(C.step,"SPVTCA["+S.axis+"]"),C.pv=C.dpv=S}function da(S,C){l.DEBUG&&console.log(C.step,"SFVTCA["+S.axis+"]"),C.fv=S}function fa(S,C){var N,X=C.stack,U=X.pop(),X=X.pop(),$=C.z2[U],te=C.z1[X];l.DEBUG&&console.log("SPVTL["+S+"]",U,X),U=S?(N=$.y-te.y,te.x-$.x):(N=te.x-$.x,te.y-$.y),C.pv=C.dpv=Ni(N,U)}function Ii(S,C){var N,X=C.stack,U=X.pop(),X=X.pop(),$=C.z2[U],te=C.z1[X];l.DEBUG&&console.log("SFVTL["+S+"]",U,X),U=S?(N=$.y-te.y,te.x-$.x):(N=te.x-$.x,te.y-$.y),C.fv=Ni(N,U)}function Fi(S){l.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function Tl(S,C){var N=C.stack.pop(),U=C.z0[N],X=C.fv,$=C.pv,te=(l.DEBUG&&console.log(C.step,"MDAP["+S+"]",N),$.distance(U,qs));S&&(te=C.round(te)),X.setRelative(U,qs,te,$),X.touch(U),C.rp0=C.rp1=N}function $u(S,C){var N,U,X,$=C.z2,te=$.length-2;l.DEBUG&&console.log(C.step,"IUP["+S.axis+"]");for(var ue=0;ue<te;ue++)N=$[ue],S.touched(N)||(U=N.prevTouched(S))!==N&&(U===(X=N.nextTouched(S))&&S.setRelative(N,N,S.distance(U,U,!1,!0),S,!0),S.interpolate(N,U,X,S))}function ec(S,C){for(var N=C.stack,U=S?C.rp1:C.rp2,X=(S?C.z0:C.z1)[U],$=C.fv,te=C.pv,ue=C.loop,ve=C.z2;ue--;){var ye=N.pop(),Oe=ve[ye],Fe=te.distance(X,X,!1,!0);$.setRelative(Oe,Oe,Fe,te),$.touch(Oe),l.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-ue)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",ye)}C.loop=1}function tc(S,C){for(var N=C.stack,te=S?C.rp1:C.rp2,U=(S?C.z0:C.z1)[te],X=C.fv,$=C.pv,te=N.pop(),ue=C.z2[C.contours[te]],ve=ue,ye=(l.DEBUG&&console.log(C.step,"SHC["+S+"]",te),$.distance(U,U,!1,!0));ve!==U&&X.setRelative(ve,ve,ye,$),(ve=ve.nextPointOnContour)!==ue;);}function pa(S,C){var N,U,ue=C.stack,X=S?C.rp1:C.rp2,X=(S?C.z0:C.z1)[X],$=C.fv,te=C.pv,ue=ue.pop();switch(l.DEBUG&&console.log(C.step,"SHZ["+S+"]",ue),ue){case 0:N=C.tZone;break;case 1:N=C.gZone;break;default:throw new Error("Invalid zone")}for(var ve=te.distance(X,X,!1,!0),ye=N.length-2,Oe=0;Oe<ye;Oe++)U=N[Oe],$.setRelative(U,U,ve,te)}function rc(S,C){var U=C.stack,N=U.pop()/64,U=U.pop(),X=C.z1[U],$=C.z0[C.rp0],te=C.fv,ue=C.pv;te.setRelative(X,$,N,ue),te.touch(X),l.DEBUG&&console.log(C.step,"MSIRP["+S+"]",N,U),C.rp1=C.rp0,C.rp2=U,S&&(C.rp0=U)}function nc(S,C){var N=C.stack,ue=N.pop(),N=N.pop(),U=C.z0[N],X=C.fv,$=C.pv,te=C.cvt[ue],ue=(l.DEBUG&&console.log(C.step,"MIAP["+S+"]",ue,"(",te,")",N),$.distance(U,qs));S&&(Math.abs(ue-te)<C.cvCutIn&&(ue=te),ue=C.round(ue)),X.setRelative(U,qs,ue,$),C.zp0===0&&(U.xo=U.x,U.yo=U.y),X.touch(U),C.rp0=C.rp1=N}function sc(S,C){var N=C.stack,U=N.pop(),X=C.z2[U];l.DEBUG&&console.log(C.step,"GC["+S+"]",U),N.push(64*C.dpv.distance(X,qs,S,!1))}function ic(S,C){var U=C.stack,N=U.pop(),U=U.pop(),X=C.z1[N],$=C.z0[U],$=C.dpv.distance($,X,S,S);l.DEBUG&&console.log(C.step,"MD["+S+"]",N,U,"->",$),C.stack.push(Math.round(64*$))}function El(S,C){var N=C.stack,U=N.pop(),X=C.fv,$=C.pv,te=C.ppem,ue=C.deltaBase+16*(S-1),ve=C.deltaShift,ye=C.z0;l.DEBUG&&console.log(C.step,"DELTAP["+S+"]",U,N);for(var Oe=0;Oe<U;Oe++){var Fe=N.pop(),Re=N.pop();ue+((240&Re)>>4)===te&&(0<=(Re=(15&Re)-8)&&Re++,l.DEBUG&&console.log(C.step,"DELTAPFIX",Fe,"by",Re*ve),Fe=ye[Fe],X.setRelative(Fe,Fe,Re*ve,$))}}function Ao(S,C){var N=C.stack,U=N.pop();l.DEBUG&&console.log(C.step,"ROUND[]"),N.push(64*C.round(U/64))}function Ml(S,C){var N=C.stack,U=N.pop(),X=C.ppem,$=C.deltaBase+16*(S-1),te=C.deltaShift;l.DEBUG&&console.log(C.step,"DELTAC["+S+"]",U,N);for(var ue=0;ue<U;ue++){var ve=N.pop(),ye=N.pop();$+((240&ye)>>4)===X&&(0<=(ye=(15&ye)-8)&&ye++,ye=ye*te,l.DEBUG&&console.log(C.step,"DELTACFIX",ve,"by",ye),C.cvt[ve]+=ye)}}function oc(S,C){var N,X=C.stack,U=X.pop(),X=X.pop(),$=C.z2[U],te=C.z1[X];l.DEBUG&&console.log(C.step,"SDPVTL["+S+"]",U,X),U=S?(N=$.y-te.y,te.x-$.x):(N=te.x-$.x,te.y-$.y),C.dpv=Ni(N,U)}function Hs(S,C){var N=C.stack,U=C.prog,X=C.ip;l.DEBUG&&console.log(C.step,"PUSHB["+S+"]");for(var $=0;$<S;$++)N.push(U[++X]);C.ip=X}function Ws(S,C){var N=C.ip,U=C.prog,X=C.stack;l.DEBUG&&console.log(C.ip,"PUSHW["+S+"]");for(var $=0;$<S;$++){var te=U[++N]<<8|U[++N];32768&te&&(te=-(1+(65535^te))),X.push(te)}C.ip=N}function vt(S,C,N,U,X,$){var te,ue,ye=$.stack,ve=S&&ye.pop(),ye=ye.pop(),Oe=$.rp0,Oe=$.z0[Oe],Fe=$.z1[ye],Re=$.minDis,we=$.fv,Ke=$.dpv,ze=te=Ke.distance(Fe,Oe,!0,!0),We=0<=ze?1:-1;ze=Math.abs(ze),S&&(ue=$.cvt[ve],U&&Math.abs(ze-ue)<$.cvCutIn&&(ze=ue)),N&&ze<Re&&(ze=Re),U&&(ze=$.round(ze)),we.setRelative(Fe,Oe,We*ze,Ke),we.touch(Fe),l.DEBUG&&console.log($.step,(S?"MIRP[":"MDRP[")+(C?"M":"m")+(N?">":"_")+(U?"R":"_")+(X===0?"Gr":X===1?"Bl":X===2?"Wh":"")+"]",S?ve+"("+$.cvt[ve]+","+ue+")":"",ye,"(d =",te,"->",We*ze,")"),$.rp1=$.rp0,$.rp2=ye,C&&($.rp0=ye)}oi.prototype.exec=function(S,C){if(typeof C!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,U=this._prepState;if(!U||U.ppem!==C){var X=this._fpgmState;if(!X){Cr.prototype=Ku,(X=this._fpgmState=new Cr("fpgm",N.tables.fpgm)).funcs=[],X.font=N,l.DEBUG&&(console.log("---EXEC FPGM---"),X.step=-1);try{Ui(X)}catch(ye){return console.log("Hinting error in FPGM:"+ye),void(this._errorState=3)}}Cr.prototype=X,(U=this._prepState=new Cr("prep",N.tables.prep)).ppem=C;var $=N.tables.cvt;if($)for(var te=U.cvt=new Array($.length),ue=C/N.unitsPerEm,ve=0;ve<$.length;ve++)te[ve]=$[ve]*ue;else U.cvt=[];l.DEBUG&&(console.log("---EXEC PREP---"),U.step=-1);try{Ui(U)}catch(ye){this._errorState<2&&console.log("Hinting error in PREP:"+ye),this._errorState=2}}if(!(1<this._errorState))try{return Wh(S,U)}catch(ye){this._errorState<1&&(console.log("Hinting error:"+ye),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Wh=function(S,C){var N=C.ppem/C.font.unitsPerEm,U=N,X=S.components;if(Cr.prototype=C,X){for(var $=C.font,te=[],ue=[],ve=0;ve<X.length;ve++){var ye=X[ve],Oe=$.glyphs.get(ye.glyphIndex),Fe=new Cr("glyf",Oe.instructions);l.DEBUG&&(console.log("---EXEC COMP "+ve+"---"),Fe.step=-1),ac(Oe,Fe,N,U);for(var Re=Math.round(ye.dx*N),we=Math.round(ye.dy*U),Ke=Fe.gZone,ze=Fe.contours,We=0;We<Ke.length;We++){var Ue=Ke[We];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+Re,Ue.yo=Ue.y=Ue.y+we}var Be=te.length;te.push.apply(te,Ke);for(var bt=0;bt<ze.length;bt++)ue.push(ze[bt]+Be)}S.instructions&&!Fe.inhibitGridFit&&((Fe=new Cr("glyf",S.instructions)).gZone=Fe.z0=Fe.z1=Fe.z2=te,Fe.contours=ue,te.push(new Wn(0,0),new Wn(Math.round(S.advanceWidth*N),0)),l.DEBUG&&(console.log("---EXEC COMPOSITE---"),Fe.step=-1),Ui(Fe),te.length-=2)}else Fe=new Cr("glyf",S.instructions),l.DEBUG&&(console.log("---EXEC GLYPH---"),Fe.step=-1),ac(S,Fe,N,U),te=Fe.gZone;return te},ac=function(S,C,N,U){for(var X,$,te,ue=S.points||[],ve=ue.length,ye=C.gZone=C.z0=C.z1=C.z2=[],Oe=C.contours=[],Fe=0;Fe<ve;Fe++)X=ue[Fe],ye[Fe]=new Wn(X.x*N,X.y*U,X.lastPointOfContour,X.onCurve);for(var Re=0;Re<ve;Re++)X=ye[Re],$||($=X,Oe.push(Re)),X.lastPointOfContour?((X.nextPointOnContour=$).prevPointOnContour=X,$=void 0):(te=ye[Re+1],(X.nextPointOnContour=te).prevPointOnContour=X);if(!C.inhibitGridFit){if(l.DEBUG){console.log("PROCESSING GLYPH",C.stack);for(var we=0;we<ve;we++)console.log(we,ye[we].x,ye[we].y)}if(ye.push(new Wn(0,0),new Wn(Math.round(S.advanceWidth*N),0)),Ui(C),ye.length-=2,l.DEBUG){console.log("FINISHED GLYPH",C.stack);for(var Ke=0;Ke<ve;Ke++)console.log(Ke,ye[Ke].x,ye[Ke].y)}}},Ui=function(S){var C=S.prog;if(C){var N,U=C.length;for(S.ip=0;S.ip<U;S.ip++){if(l.DEBUG&&S.step++,!(N=lc[C[S.ip]]))throw new Error("unknown instruction: 0x"+Number(C[S.ip]).toString(16));N(S)}}},lc=[Pi.bind(void 0,es),Pi.bind(void 0,rn),Ju.bind(void 0,es),Ju.bind(void 0,rn),da.bind(void 0,es),da.bind(void 0,rn),fa.bind(void 0,0),fa.bind(void 0,1),Ii.bind(void 0,0),Ii.bind(void 0,1),function(S){var C=(N=S.stack).pop(),N=N.pop();l.DEBUG&&console.log(S.step,"SPVFS[]",C,N),S.pv=S.dpv=Ni(N,C)},function(S){var C=(N=S.stack).pop(),N=N.pop();l.DEBUG&&console.log(S.step,"SPVFS[]",C,N),S.fv=Ni(N,C)},function(S){var C=S.stack,N=S.pv;l.DEBUG&&console.log(S.step,"GPV[]"),C.push(16384*N.x),C.push(16384*N.y)},function(S){var C=S.stack,N=S.fv;l.DEBUG&&console.log(S.step,"GFV[]"),C.push(16384*N.x),C.push(16384*N.y)},function(S){S.fv=S.pv,l.DEBUG&&console.log(S.step,"SFVTPV[]")},function(C){var N=(te=C.stack).pop(),U=te.pop(),X=te.pop(),$=te.pop(),te=te.pop(),ve=C.z0,Oe=C.z1,ue=ve[N],ve=ve[U],ye=Oe[X],Oe=Oe[$],C=C.z2[te],N=(l.DEBUG&&console.log("ISECT[], ",N,U,X,$,te),ue.x),U=ue.y,X=ve.x,$=ve.y,te=ye.x,ue=ye.y,ve=Oe.x,ye=Oe.y,Oe=(N-X)*(ue-ye)-(U-$)*(te-ve),Fe=N*$-U*X,Re=te*ye-ue*ve;C.x=(Fe*(te-ve)-Re*(N-X))/Oe,C.y=(Fe*(ue-ye)-Re*(U-$))/Oe},function(S){S.rp0=S.stack.pop(),l.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),l.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),l.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var C=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"SZP0[]",C),S.zp0=C){case 0:S.tZone||ys(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"SZP1[]",C),S.zp1=C){case 0:S.tZone||ys(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"SZP2[]",C),S.zp2=C){case 0:S.tZone||ys(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var C=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"SZPS[]",C),S.zp0=S.zp1=S.zp2=C){case 0:S.tZone||ys(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),l.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){l.DEBUG&&console.log(S.step,"RTG[]"),S.round=wl},function(S){l.DEBUG&&console.log(S.step,"RTHG[]"),S.round=Qu},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SMD[]",C),S.minDis=C/64},function(S){l.DEBUG&&console.log(S.step,"ELSE[]"),Oo(S,!1)},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"JMPR[]",C),S.ip+=C-1},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SCVTCI[]",C),S.cvCutIn=C/64},void 0,void 0,function(S){var C=S.stack;l.DEBUG&&console.log(S.step,"DUP[]"),C.push(C[C.length-1])},Fi,function(S){l.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"SWAP[]"),C.push(N),C.push(U)},function(S){var C=S.stack;l.DEBUG&&console.log(S.step,"DEPTH[]"),C.push(C.length)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"CINDEX[]",N),C.push(C[C.length-N])},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"MINDEX[]",N),C.push(C.splice(C.length-N,1)[0])},void 0,void 0,void 0,function(S){var C=(U=S.stack).pop(),N=U.pop(),U=(l.DEBUG&&console.log(S.step,"LOOPCALL[]",C,N),S.ip),X=S.prog;S.prog=S.funcs[C];for(var $=0;$<N;$++)Ui(S),l.DEBUG&&console.log(++S.step,$+1<N?"next loopcall":"done loopcall",$);S.ip=U,S.prog=X},function(S){var C=S.stack.pop(),N=(l.DEBUG&&console.log(S.step,"CALL[]",C),S.ip),U=S.prog;S.prog=S.funcs[C],Ui(S),S.ip=N,S.prog=U,l.DEBUG&&console.log(++S.step,"returning from",C)},function(S){if(S.env!=="fpgm")throw new Error("FDEF not allowed here");var U=S.stack,C=S.prog,N=S.ip,U=U.pop(),X=N;for(l.DEBUG&&console.log(S.step,"FDEF[]",U);C[++N]!==45;);S.ip=N,S.funcs[U]=C.slice(X+1,N)},void 0,Tl.bind(void 0,0),Tl.bind(void 0,1),$u.bind(void 0,es),$u.bind(void 0,rn),ec.bind(void 0,0),ec.bind(void 0,1),tc.bind(void 0,0),tc.bind(void 0,1),pa.bind(void 0,0),pa.bind(void 0,1),function(S){for(var C=S.stack,N=S.loop,U=S.fv,X=C.pop()/64,$=S.z2;N--;){var te=C.pop(),ue=$[te];l.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-N)+": ":"")+"SHPIX[]",te,X),U.setRelative(ue,ue,X),U.touch(ue)}S.loop=1},function(S){for(var C=S.stack,N=S.rp1,U=S.rp2,X=S.loop,$=S.z0[N],te=S.z1[U],ue=S.fv,ve=S.dpv,ye=S.z2;X--;){var Oe=C.pop(),Fe=ye[Oe];l.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-X)+": ":"")+"IP[]",Oe,N,"<->",U),ue.interpolate(Fe,$,te,ve),ue.touch(Fe)}S.loop=1},rc.bind(void 0,0),rc.bind(void 0,1),function(S){for(var C=S.stack,N=S.rp0,U=S.z0[N],X=S.loop,$=S.fv,te=S.pv,ue=S.z1;X--;){var ve=C.pop(),ye=ue[ve];l.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-X)+": ":"")+"ALIGNRP[]",ve),$.setRelative(ye,U,0,te),$.touch(ye)}S.loop=1},function(S){l.DEBUG&&console.log(S.step,"RTDG[]"),S.round=Sl},nc.bind(void 0,0),nc.bind(void 0,1),function(S){var C=S.prog,N=S.ip,U=S.stack,X=C[++N];l.DEBUG&&console.log(S.step,"NPUSHB[]",X);for(var $=0;$<X;$++)U.push(C[++N]);S.ip=N},function(S){var C=S.ip,N=S.prog,U=S.stack,X=N[++C];l.DEBUG&&console.log(S.step,"NPUSHW[]",X);for(var $=0;$<X;$++){var te=N[++C]<<8|N[++C];32768&te&&(te=-(1+(65535^te))),U.push(te)}S.ip=C},function(S){var U=S.stack,C=(C=S.store)||(S.store=[]),N=U.pop(),U=U.pop();l.DEBUG&&console.log(S.step,"WS",N,U),C[U]=N},function(X){var C=X.stack,N=X.store,U=C.pop(),X=(l.DEBUG&&console.log(X.step,"RS",U),N&&N[U]||0);C.push(X)},function(S){var C=(N=S.stack).pop(),N=N.pop();l.DEBUG&&console.log(S.step,"WCVTP",C,N),S.cvt[N]=C/64},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"RCVT",N),C.push(64*S.cvt[N])},sc.bind(void 0,0),sc.bind(void 0,1),void 0,ic.bind(void 0,0),ic.bind(void 0,1),function(S){l.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){l.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"LT[]",N,U),C.push(U<N?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"LTEQ[]",N,U),C.push(U<=N?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"GT[]",N,U),C.push(N<U?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"GTEQ[]",N,U),C.push(N<=U?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"EQ[]",N,U),C.push(N===U?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"NEQ[]",N,U),C.push(N!==U?1:0)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"ODD[]",N),C.push(Math.trunc(N)%2?1:0)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"EVEN[]",N),C.push(Math.trunc(N)%2?0:1)},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"IF[]",C),C||(Oo(S,!0),l.DEBUG&&console.log(S.step,"EIF[]"))},function(S){l.DEBUG&&console.log(S.step,"EIF[]")},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"AND[]",N,U),C.push(N&&U?1:0)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"OR[]",N,U),C.push(N||U?1:0)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"NOT[]",N),C.push(N?0:1)},El.bind(void 0,1),function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SDB[]",C),S.deltaBase=C},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SDS[]",C),S.deltaShift=Math.pow(.5,C)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"ADD[]",N,U),C.push(U+N)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"SUB[]",N,U),C.push(U-N)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"DIV[]",N,U),C.push(64*U/N)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"MUL[]",N,U),C.push(U*N/64)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"ABS[]",N),C.push(Math.abs(N))},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"NEG[]",N),C.push(-N)},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"FLOOR[]",N),C.push(64*Math.floor(N/64))},function(S){var C=S.stack,N=C.pop();l.DEBUG&&console.log(S.step,"CEILING[]",N),C.push(64*Math.ceil(N/64))},Ao.bind(void 0,0),Ao.bind(void 0,1),Ao.bind(void 0,2),Ao.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var C=(N=S.stack).pop(),N=N.pop();l.DEBUG&&console.log(S.step,"WCVTF[]",C,N),S.cvt[N]=C*S.ppem/S.font.unitsPerEm},El.bind(void 0,2),El.bind(void 0,3),Ml.bind(void 0,1),Ml.bind(void 0,2),Ml.bind(void 0,3),function(S){var C,N=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"SROUND[]",N),S.round=Li,192&N){case 0:C=.5;break;case 64:C=1;break;case 128:C=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=C,48&N){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*C;break;case 32:S.srPhase=.5*C;break;case 48:S.srPhase=.75*C;break;default:throw new Error("invalid SROUND value")}S.srThreshold=(N&=15)===0?0:(N/8-.5)*C},function(S){var C,N=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"S45ROUND[]",N),S.round=Li,192&N){case 0:C=Math.sqrt(2)/2;break;case 64:C=Math.sqrt(2);break;case 128:C=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=C,48&N){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*C;break;case 32:S.srPhase=.5*C;break;case 48:S.srPhase=.75*C;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=(N&=15)===0?0:(N/8-.5)*C},void 0,void 0,function(S){l.DEBUG&&console.log(S.step,"ROFF[]"),S.round=Ri},void 0,function(S){l.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Mo},function(S){l.DEBUG&&console.log(S.step,"RDTG[]"),S.round=jl},Fi,Fi,void 0,void 0,void 0,void 0,void 0,function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SCANCTRL[]",C)},oc.bind(void 0,0),oc.bind(void 0,1),function(S){var C=S.stack,N=C.pop(),U=0;l.DEBUG&&console.log(S.step,"GETINFO[]",N),1&N&&(U=35),32&N&&(U|=4096),C.push(U)},void 0,function(S){var C=S.stack,N=C.pop(),U=C.pop(),X=C.pop();l.DEBUG&&console.log(S.step,"ROLL[]"),C.push(U),C.push(N),C.push(X)},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"MAX[]",N,U),C.push(Math.max(U,N))},function(S){var C=S.stack,N=C.pop(),U=C.pop();l.DEBUG&&console.log(S.step,"MIN[]",N,U),C.push(Math.min(U,N))},function(S){var C=S.stack.pop();l.DEBUG&&console.log(S.step,"SCANTYPE[]",C)},function(S){var C=S.stack.pop(),N=S.stack.pop();switch(l.DEBUG&&console.log(S.step,"INSTCTRL[]",C,N),C){case 1:return void(S.inhibitGridFit=!!N);case 2:return void(S.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Hs.bind(void 0,1),Hs.bind(void 0,2),Hs.bind(void 0,3),Hs.bind(void 0,4),Hs.bind(void 0,5),Hs.bind(void 0,6),Hs.bind(void 0,7),Hs.bind(void 0,8),Ws.bind(void 0,1),Ws.bind(void 0,2),Ws.bind(void 0,3),Ws.bind(void 0,4),Ws.bind(void 0,5),Ws.bind(void 0,6),Ws.bind(void 0,7),Ws.bind(void 0,8),vt.bind(void 0,0,0,0,0,0),vt.bind(void 0,0,0,0,0,1),vt.bind(void 0,0,0,0,0,2),vt.bind(void 0,0,0,0,0,3),vt.bind(void 0,0,0,0,1,0),vt.bind(void 0,0,0,0,1,1),vt.bind(void 0,0,0,0,1,2),vt.bind(void 0,0,0,0,1,3),vt.bind(void 0,0,0,1,0,0),vt.bind(void 0,0,0,1,0,1),vt.bind(void 0,0,0,1,0,2),vt.bind(void 0,0,0,1,0,3),vt.bind(void 0,0,0,1,1,0),vt.bind(void 0,0,0,1,1,1),vt.bind(void 0,0,0,1,1,2),vt.bind(void 0,0,0,1,1,3),vt.bind(void 0,0,1,0,0,0),vt.bind(void 0,0,1,0,0,1),vt.bind(void 0,0,1,0,0,2),vt.bind(void 0,0,1,0,0,3),vt.bind(void 0,0,1,0,1,0),vt.bind(void 0,0,1,0,1,1),vt.bind(void 0,0,1,0,1,2),vt.bind(void 0,0,1,0,1,3),vt.bind(void 0,0,1,1,0,0),vt.bind(void 0,0,1,1,0,1),vt.bind(void 0,0,1,1,0,2),vt.bind(void 0,0,1,1,0,3),vt.bind(void 0,0,1,1,1,0),vt.bind(void 0,0,1,1,1,1),vt.bind(void 0,0,1,1,1,2),vt.bind(void 0,0,1,1,1,3),vt.bind(void 0,1,0,0,0,0),vt.bind(void 0,1,0,0,0,1),vt.bind(void 0,1,0,0,0,2),vt.bind(void 0,1,0,0,0,3),vt.bind(void 0,1,0,0,1,0),vt.bind(void 0,1,0,0,1,1),vt.bind(void 0,1,0,0,1,2),vt.bind(void 0,1,0,0,1,3),vt.bind(void 0,1,0,1,0,0),vt.bind(void 0,1,0,1,0,1),vt.bind(void 0,1,0,1,0,2),vt.bind(void 0,1,0,1,0,3),vt.bind(void 0,1,0,1,1,0),vt.bind(void 0,1,0,1,1,1),vt.bind(void 0,1,0,1,1,2),vt.bind(void 0,1,0,1,1,3),vt.bind(void 0,1,1,0,0,0),vt.bind(void 0,1,1,0,0,1),vt.bind(void 0,1,1,0,0,2),vt.bind(void 0,1,1,0,0,3),vt.bind(void 0,1,1,0,1,0),vt.bind(void 0,1,1,0,1,1),vt.bind(void 0,1,1,0,1,2),vt.bind(void 0,1,1,0,1,3),vt.bind(void 0,1,1,1,0,0),vt.bind(void 0,1,1,1,0,1),vt.bind(void 0,1,1,1,0,2),vt.bind(void 0,1,1,1,0,3),vt.bind(void 0,1,1,1,1,0),vt.bind(void 0,1,1,1,1,1),vt.bind(void 0,1,1,1,1,2),vt.bind(void 0,1,1,1,1,3)],Xh=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function lr(S){(S=S||{}).empty||(ii(S.familyName,"When creating a new Font object, familyName is required."),ii(S.styleName,"When creating a new Font object, styleName is required."),ii(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ii(S.ascender,"When creating a new Font object, ascender is required."),ii(S.descender,"When creating a new Font object, descender is required."),ii(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new gt.GlyphSet(this,S.glyphs||[]),this.encoding=new De(this),this.position=new To(this),this.substitution=new vn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new oi(this):void 0)}})}function uc(S,C){var N,U=JSON.stringify(S),X=256;for(N in C){var $=parseInt(N);if($&&!($<256)){if(JSON.stringify(C[N])===U)return $;X<=$&&(X=$+1)}}return C[X]=S,X}lr.prototype.hasChar=function(S){return this.encoding.charToGlyphIndex(S)!==null},lr.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},lr.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},lr.prototype.stringToGlyphs=function(S,C){C=C||this.defaultRenderOptions;for(var N=Xh(S),U=[],X=0;X<N.length;X+=1){var $=N[X];U.push(this.charToGlyphIndex($))}var te=U.length;if(C.features){var S=C.script||this.substitution.getDefaultScriptName(),ue=[];C.features.liga&&(ue=ue.concat(this.substitution.getFeature("liga",S,C.language))),C.features.rlig&&(ue=ue.concat(this.substitution.getFeature("rlig",S,C.language)));for(var ve=0;ve<te;ve+=1)for(var ye=0;ye<ue.length;ye++){for(var Oe=ue[ye],Fe=Oe.sub,Re=Fe.length,we=0;we<Re&&Fe[we]===U[ve+we];)we++;we===Re&&(U.splice(ve,Re,Oe.by),te=te-Re+1)}}for(var Ke=new Array(te),ze=this.glyphs.get(0),We=0;We<te;We+=1)Ke[We]=this.glyphs.get(U[We])||ze;return Ke},lr.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},lr.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},lr.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},lr.prototype.getKerningValue=function(S,C){S=S.index||S,C=C.index||C;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,S,C):this.kerningPairs[S+","+C]||0},lr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},lr.prototype.forEachGlyph=function(S,C,N,U,X,$){C=C!==void 0?C:0,N=N!==void 0?N:0,X=X||this.defaultRenderOptions;var te,ue=1/this.unitsPerEm*(U=U!==void 0?U:72),ve=this.stringToGlyphs(S,X);X.kerning&&(S=X.script||this.position.getDefaultScriptName(),te=this.position.getKerningTables(S,X.language));for(var ye=0;ye<ve.length;ye+=1){var Oe=ve[ye];$.call(this,Oe,C,N,U,X),Oe.advanceWidth&&(C+=Oe.advanceWidth*ue),X.kerning&&ye<ve.length-1&&(C+=(te?this.position.getKerningValue(te,Oe.index,ve[ye+1].index):this.getKerningValue(Oe,ve[ye+1]))*ue),X.letterSpacing?C+=X.letterSpacing*U:X.tracking&&(C+=X.tracking/1e3*U)}return C},lr.prototype.getPath=function(S,C,N,U,X){var $=new ee;return this.forEachGlyph(S,C,N,U,X,function(te,ue,ve,ye){te=te.getPath(ue,ve,ye,X,this),$.extend(te)}),$},lr.prototype.getPaths=function(S,C,N,U,X){var $=[];return this.forEachGlyph(S,C,N,U,X,function(te,ue,ve,ye){te=te.getPath(ue,ve,ye,X,this),$.push(te)}),$},lr.prototype.getAdvanceWidth=function(S,C,N){return this.forEachGlyph(S,0,0,C,N,function(){})},lr.prototype.draw=function(S,C,N,U,X,$){this.getPath(C,N,U,X,$).draw(S)},lr.prototype.drawPoints=function(S,C,N,U,X,$){this.forEachGlyph(C,N,U,X,$,function(te,ue,ve,ye){te.drawPoints(S,ue,ve,ye)})},lr.prototype.drawMetrics=function(S,C,N,U,X,$){this.forEachGlyph(C,N,U,X,$,function(te,ue,ve,ye){te.drawMetrics(S,ue,ve,ye)})},lr.prototype.getEnglishName=function(S){if(S=this.names[S],S)return S.en},lr.prototype.validate=function(){var S=this;function C(N){N=S.getEnglishName(N),N&&N.trim().length}C("fontFamily"),C("weightName"),C("manufacturer"),C("copyright"),C("version"),this.unitsPerEm},lr.prototype.toTables=function(){return vl.fontToTable(this)},lr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},lr.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),C=new ArrayBuffer(S.length),N=new Uint8Array(C),U=0;U<S.length;U++)N[U]=S[U];return C},lr.prototype.download=function(S){var C=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),U=(S=S||C.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,U.byteLength,function(X){X.root.getFile(S,{create:!0},function($){$.createWriter(function(te){var ue=new DataView(U),ue=new Blob([ue],{type:"font/opentype"});te.write(ue),te.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(X){throw new Error(X.name+": "+X.message)})):(C=t("fs"),N=function(X){for(var $=new f(X.byteLength),te=new Uint8Array(X),ue=0;ue<$.length;++ue)$[ue]=te[ue];return $}(U),C.writeFileSync(S,N))},lr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},lr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},lr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Yh={make:function(S,C){var N=new Pe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:S.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:S.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*S.axes.length}]);N.offsetToData=N.sizeOf();for(var U,X,$,te=0;te<S.axes.length;te++)N.fields=N.fields.concat((U=te,X=S.axes[te],$=C,$=uc(X.name,C),[{name:"tag_"+U,type:"TAG",value:X.tag},{name:"minValue_"+U,type:"FIXED",value:X.minValue<<16},{name:"defaultValue_"+U,type:"FIXED",value:X.defaultValue<<16},{name:"maxValue_"+U,type:"FIXED",value:X.maxValue<<16},{name:"flags_"+U,type:"USHORT",value:0},{name:"nameID_"+U,type:"USHORT",value:$}]));for(var ue=0;ue<S.instances.length;ue++)N.fields=N.fields.concat(function(ve,ye,Oe,Fe){for(var Re=[{name:"nameID_"+ve,type:"USHORT",value:uc(ye.name,Fe)},{name:"flags_"+ve,type:"USHORT",value:0}],we=0;we<Oe.length;++we){var Ke=Oe[we].tag;Re.push({name:"axis_"+ve+" "+Ke,type:"FIXED",value:ye.coordinates[Ke]<<16})}return Re}(ue,S.instances[ue],S.axes,C));return N},parse:function(S,C,N){for(var U,X,$,te,ue=new Ie.Parser(S,C),ve=ue.parseULong(),ye=(B.argument(ve===65536,"Unsupported fvar table version."),ue.parseOffset16()),Oe=(ue.skip("uShort",1),ue.parseUShort()),Fe=ue.parseUShort(),Re=ue.parseUShort(),we=ue.parseUShort(),Ke=[],ze=0;ze<Oe;ze++)Ke.push((U=S,X=C+ye+ze*Fe,$=N,te={},U=new Ie.Parser(U,X),te.tag=U.parseTag(),te.minValue=U.parseFixed(),te.defaultValue=U.parseFixed(),te.maxValue=U.parseFixed(),U.skip("uShort",1),te.name=$[U.parseUShort()]||{},te));for(var We=[],Ue=C+ye+Oe*Fe,Be=0;Be<Re;Be++)We.push(function(bt,Nt,St,Tt){var Bt={},hr=new Ie.Parser(bt,Nt);Bt.name=Tt[hr.parseUShort()]||{},hr.skip("uShort",1),Bt.coordinates={};for(var Zt=0;Zt<St.length;++Zt)Bt.coordinates[St[Zt].tag]=hr.parseFixed();return Bt}(S,Ue+Be*we,Ke,N));return{axes:Ke,instances:We}}},ts=new Array(10);ts[1]=function(){var S=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{posFormat:1,coverage:this.parsePointer(Ce.coverage),value:this.parseValueRecord()}:C===2?{posFormat:2,coverage:this.parsePointer(Ce.coverage),values:this.parseValueRecordList()}:void B.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},ts[2]=function(){var S,C,N,U,$=this.offset+this.relativeOffset,X=this.parseUShort(),$=(B.assert(X===1||X===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ce.coverage)),te=this.parseUShort(),ue=this.parseUShort();return X===1?{posFormat:X,coverage:$,valueFormat1:te,valueFormat2:ue,pairSets:this.parseList(Ce.pointer(Ce.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(te),value2:this.parseValueRecord(ue)}})))}:X===2?(S=this.parsePointer(Ce.classDef),C=this.parsePointer(Ce.classDef),N=this.parseUShort(),U=this.parseUShort(),{posFormat:X,coverage:$,valueFormat1:te,valueFormat2:ue,classDef1:S,classDef2:C,class1Count:N,class2Count:U,classRecords:this.parseList(N,Ce.list(U,function(){return{value1:this.parseValueRecord(te),value2:this.parseValueRecord(ue)}}))}):void 0},ts[3]=function(){return{error:"GPOS Lookup 3 not supported"}},ts[4]=function(){return{error:"GPOS Lookup 4 not supported"}},ts[5]=function(){return{error:"GPOS Lookup 5 not supported"}},ts[6]=function(){return{error:"GPOS Lookup 6 not supported"}},ts[7]=function(){return{error:"GPOS Lookup 7 not supported"}},ts[8]=function(){return{error:"GPOS Lookup 8 not supported"}},ts[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Zh=new Array(10),Qh={parse:function(S,C){return C=(S=new Ce(S,C=C||0)).parseVersion(1),B.argument(C===1||C===1.1,"Unsupported GPOS table version "+C),C===1?{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(ts)}:{version:C,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(ts),variations:S.parseFeatureVariationsList()}},make:function(S){return new Pe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(S.lookups,Zh)}])}},Kh={parse:function(S,C){if(S=new Ie.Parser(S,C),(C=S.parseUShort())===0){var N=S,U={},Fe=(N.skip("uShort"),N.parseUShort()),X=(B.argument(Fe===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var $=0;$<X;$+=1){var te=N.parseUShort(),ue=N.parseUShort(),ve=N.parseShort();U[te+","+ue]=ve}return U}if(C!==1)throw new Error("Unsupported kern table version ("+C+").");var ye=S,Oe={},Fe=(ye.skip("uShort"),1<ye.parseULong()&&console.warn("Only the first kern subtable is supported."),ye.skip("uLong"),255&ye.parseUShort());if(ye.skip("uShort"),Fe==0){var Re=ye.parseUShort();ye.skip("uShort",3);for(var we=0;we<Re;we+=1){var Ke=ye.parseUShort(),ze=ye.parseUShort(),We=ye.parseShort();Oe[Ke+","+ze]=We}}return Oe}},Jh={parse:function(S,C,N,U){for(var X=new Ie.Parser(S,C),$=U?X.parseUShort:X.parseULong,te=[],ue=0;ue<N+1;ue+=1){var ve=$.call(X);U&&(ve*=2),te.push(ve)}return te}};function Ol(S,C){t("fs").readFile(S,function(N,U){if(N)return C(N.message);C(null,bl(U))})}function ko(S,C){var N=new XMLHttpRequest;N.open("get",S,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?C(null,N.response):C("Font could not be loaded: "+N.statusText)},N.onerror=function(){C("Font could not be loaded")},N.send()}function cc(S,C){for(var N=[],U=12,X=0;X<C;X+=1){var $=Ie.getTag(S,U),te=Ie.getULong(S,U+4),ue=Ie.getULong(S,U+8),ve=Ie.getULong(S,U+12);N.push({tag:$,checksum:te,offset:ue,length:ve,compression:!1}),U+=16}return N}function Dr(N,C){if(C.compression!=="WOFF")return{data:N,offset:C.offset};var N=new Uint8Array(N.buffer,C.offset+2,C.compressedLength-2),U=new Uint8Array(C.length);if(K(N,U),U.byteLength!==C.length)throw new Error("Decompression error: "+C.tag+" decompressed length doesn't match recorded length");return{data:new DataView(U.buffer,0),offset:0}}function ma(Be){var C,N,U,X,$,te,ue,ve,ye,Oe,Fe,Re,we,Ke,ze=new lr({empty:!0}),We=new DataView(Be,0),Ue=[],Be=Ie.getTag(We,0);if(Be==="\0\0\0"||Be==="true"||Be==="typ1")ze.outlinesFormat="truetype",Ue=cc(We,U=Ie.getUShort(We,4));else if(Be==="OTTO")ze.outlinesFormat="cff",Ue=cc(We,U=Ie.getUShort(We,4));else{if(Be!=="wOFF")throw new Error("Unsupported OpenType signature "+Be);var bt=Ie.getTag(We,4);if(bt==="\0\0\0")ze.outlinesFormat="truetype";else{if(bt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Be);ze.outlinesFormat="cff"}Ue=function(ur,rr){for(var cn=[],ir=44,zr=0;zr<rr;zr+=1){var nr=Ie.getTag(ur,ir),Pr=Ie.getULong(ur,ir+4),Bi=Ie.getULong(ur,ir+8),Yn=Ie.getULong(ur,ir+12),ai=void 0,ai=Bi<Yn&&"WOFF";cn.push({tag:nr,offset:Pr,compression:ai,compressedLength:Bi,length:Yn}),ir+=20}return cn}(We,U=Ie.getUShort(We,12))}for(var Nt=0;Nt<U;Nt+=1){var St=Ue[Nt],Tt=void 0;switch(St.tag){case"cmap":Tt=Dr(We,St),ze.tables.cmap=oe.parse(Tt.data,Tt.offset),ze.encoding=new Ge(ze.tables.cmap);break;case"cvt ":Tt=Dr(We,St),Ke=new Ie.Parser(Tt.data,Tt.offset),ze.tables.cvt=Ke.parseShortList(St.length/2);break;case"fvar":$=St;break;case"fpgm":Tt=Dr(We,St),Ke=new Ie.Parser(Tt.data,Tt.offset),ze.tables.fpgm=Ke.parseByteList(St.length);break;case"head":Tt=Dr(We,St),ze.tables.head=_o.parse(Tt.data,Tt.offset),ze.unitsPerEm=ze.tables.head.unitsPerEm,C=ze.tables.head.indexToLocFormat;break;case"hhea":Tt=Dr(We,St),ze.tables.hhea=je.parse(Tt.data,Tt.offset),ze.ascender=ze.tables.hhea.ascender,ze.descender=ze.tables.hhea.descender,ze.numberOfHMetrics=ze.tables.hhea.numberOfHMetrics;break;case"hmtx":ye=St;break;case"ltag":Tt=Dr(We,St),N=pt.parse(Tt.data,Tt.offset);break;case"maxp":Tt=Dr(We,St),ze.tables.maxp=tt.parse(Tt.data,Tt.offset),ze.numGlyphs=ze.tables.maxp.numGlyphs;break;case"name":Re=St;break;case"OS/2":Tt=Dr(We,St),ze.tables.os2=Zr.parse(Tt.data,Tt.offset);break;case"post":Tt=Dr(We,St),ze.tables.post=xo.parse(Tt.data,Tt.offset),ze.glyphNames=new at(ze.tables.post);break;case"prep":Tt=Dr(We,St),Ke=new Ie.Parser(Tt.data,Tt.offset),ze.tables.prep=Ke.parseByteList(St.length);break;case"glyf":te=St;break;case"loca":Fe=St;break;case"CFF ":X=St;break;case"kern":Oe=St;break;case"GPOS":ue=St;break;case"GSUB":ve=St;break;case"meta":we=St}}if(bt=Dr(We,Re),ze.tables.name=On.parse(bt.data,bt.offset,N),ze.names=ze.tables.name,te&&Fe)Be=C===0,bt=Dr(We,Fe),bt=Jh.parse(bt.data,bt.offset,ze.numGlyphs,Be),Be=Dr(We,te),ze.glyphs=ha.parse(Be.data,Be.offset,bt,ze);else{if(!X)throw new Error("Font doesn't contain TrueType or CFF outlines.");Be=Dr(We,X),ni.parse(Be.data,Be.offset,ze)}for(var bt=Dr(We,ye),Bt=(nt.parse(bt.data,bt.offset,ze.numberOfHMetrics,ze.numGlyphs,ze.glyphs),ze),hr=Bt.tables.cmap.glyphIndexMap,Zt=Object.keys(hr),br=0;br<Zt.length;br+=1){var nn,sn=Zt[br],Xn=hr[sn];(nn=Bt.glyphs.get(Xn)).addUnicode(parseInt(sn))}for(var sr=0;sr<Bt.glyphs.length;sr+=1)nn=Bt.glyphs.get(sr),Bt.cffEncoding?Bt.isCIDFont?nn.name="gid"+sr:nn.name=Bt.cffEncoding.charset[sr]:Bt.glyphNames.names&&(nn.name=Bt.glyphNames.glyphIndexToName(sr));return Oe?(Be=Dr(We,Oe),ze.kerningPairs=Kh.parse(Be.data,Be.offset)):ze.kerningPairs={},ue&&(bt=Dr(We,ue),ze.tables.gpos=Qh.parse(bt.data,bt.offset),ze.position.init()),ve&&(Be=Dr(We,ve),ze.tables.gsub=gl.parse(Be.data,Be.offset)),$&&(bt=Dr(We,$),ze.tables.fvar=Yh.parse(bt.data,bt.offset,ze.names)),we&&(Be=Dr(We,we),ze.tables.meta=Xu.parse(Be.data,Be.offset),ze.metas=ze.tables.meta),ze}l.Font=lr,l.Glyph=ft,l.Path=ee,l.BoundingBox=Y,l._parse=Ie,l.parse=ma,l.load=function(S,C){(typeof window>"u"?Ol:ko)(S,function(N,U){if(N)return C(N);var X;try{X=ma(U)}catch($){return C($,null)}return C(null,X)})},l.loadSync=function(S){return ma(bl(t("fs").readFileSync(S)))},Object.defineProperty(l,"__esModule",{value:!0})},i(typeof w=="object"&&j!==void 0?w:p.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,j,w){(function(f){function p(b,v){for(var o=0,a=b.length-1;0<=a;a--){var u=b[a];u==="."?b.splice(a,1):u===".."?(b.splice(a,1),o++):o&&(b.splice(a,1),o--)}if(v)for(;o--;)b.unshift("..");return b}function i(b,v){if(b.filter)return b.filter(v);for(var o=[],a=0;a<b.length;a++)v(b[a],a,b)&&o.push(b[a]);return o}w.resolve=function(){for(var b="",v=!1,o=arguments.length-1;-1<=o&&!v;o--){var a=0<=o?arguments[o]:f.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");a&&(b=a+"/"+b,v=a.charAt(0)==="/")}return(v?"/":"")+(b=p(i(b.split("/"),function(u){return!!u}),!v).join("/"))||"."},w.normalize=function(b){var v=w.isAbsolute(b),o=l(b,-1)==="/";return(b=(b=p(i(b.split("/"),function(a){return!!a}),!v).join("/"))||v?b:".")&&o&&(b+="/"),(v?"/":"")+b},w.isAbsolute=function(b){return b.charAt(0)==="/"},w.join=function(){var b=Array.prototype.slice.call(arguments,0);return w.normalize(i(b,function(v,o){if(typeof v!="string")throw new TypeError("Arguments to path.join must be strings");return v}).join("/"))},w.relative=function(b,v){function o(x){for(var _=0;_<x.length&&x[_]==="";_++);for(var T=x.length-1;0<=T&&x[T]==="";T--);return T<_?[]:x.slice(_,T-_+1)}b=w.resolve(b).substr(1),v=w.resolve(v).substr(1);for(var a=o(b.split("/")),u=o(v.split("/")),c=Math.min(a.length,u.length),y=c,h=0;h<c;h++)if(a[h]!==u[h]){y=h;break}for(var d=[],h=y;h<a.length;h++)d.push("..");return(d=d.concat(u.slice(y))).join("/")},w.sep="/",w.delimiter=":",w.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var v=b.charCodeAt(0)===47,o=-1,a=!0,u=b.length-1;1<=u;--u)if(b.charCodeAt(u)===47){if(!a){o=u;break}}else a=!1;return o===-1?v?"/":".":v&&o===1?"/":b.slice(0,o)},w.basename=function(b,v){return b=function(o){typeof o!="string"&&(o+="");for(var a=0,u=-1,c=!0,y=o.length-1;0<=y;--y)if(o.charCodeAt(y)===47){if(!c){a=y+1;break}}else u===-1&&(c=!1,u=y+1);return u===-1?"":o.slice(a,u)}(b),b=v&&b.substr(-1*v.length)===v?b.substr(0,b.length-v.length):b},w.extname=function(b){typeof b!="string"&&(b+="");for(var v=-1,o=0,a=-1,u=!0,c=0,y=b.length-1;0<=y;--y){var h=b.charCodeAt(y);if(h===47){if(u)continue;o=y+1;break}a===-1&&(u=!1,a=y+1),h===46?v===-1?v=y:c!==1&&(c=1):v!==-1&&(c=-1)}return v===-1||a===-1||c===0||c===1&&v===a-1&&v===o+1?"":b.slice(v,a)};var l="ab".substr(-1)==="b"?function(b,v,o){return b.substr(v,o)}:function(b,v,o){return v<0&&(v=b.length+v),b.substr(v,o)}}).call(this,t("_process"))},{_process:259}],259:[function(t,i,w){var f,p,i=i.exports={};function l(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}try{f=typeof setTimeout=="function"?setTimeout:l}catch{f=l}try{p=typeof clearTimeout=="function"?clearTimeout:b}catch{p=b}function v(_){if(f===setTimeout)return setTimeout(_,0);if((f===l||!f)&&setTimeout)return(f=setTimeout)(_,0);try{return f(_,0)}catch{try{return f.call(null,_,0)}catch{return f.call(this,_,0)}}}var o,a=[],u=!1,c=-1;function y(){u&&o&&(u=!1,o.length?a=o.concat(a):c=-1,a.length&&h())}function h(){if(!u){for(var _=v(y),T=(u=!0,a.length);T;){for(o=a,a=[];++c<T;)o&&o[c].run();c=-1,T=a.length}o=null,u=!1,function(k){if(p===clearTimeout)return clearTimeout(k);if((p===b||!p)&&clearTimeout)return(p=clearTimeout)(k);try{p(k)}catch{try{return p.call(null,k)}catch{return p.call(this,k)}}}(_)}}function d(_,T){this.fun=_,this.array=T}function x(){}i.nextTick=function(_){var T=new Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)T[k-1]=arguments[k];a.push(new d(_,T)),a.length!==1||u||v(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=x,i.addListener=x,i.once=x,i.off=x,i.removeListener=x,i.removeAllListeners=x,i.emit=x,i.prependListener=x,i.prependOnceListener=x,i.listeners=function(_){return[]},i.binding=function(_){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(_){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],260:[function(t,j,w){j=function(f){var p,i=Object.prototype,l=i.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},b=M.iterator||"@@iterator",v=M.asyncIterator||"@@asyncIterator",o=M.toStringTag||"@@toStringTag";function a(Q,W,Z,J){var ee,ae,A,B,W=W&&W.prototype instanceof _?W:_,W=Object.create(W.prototype),J=new G(J||[]);return W._invoke=(ee=Q,ae=Z,A=J,B=c,function(ie,ne){if(B===h)throw new Error("Generator is already running");if(B===d){if(ie==="throw")throw ne;return q()}for(A.method=ie,A.arg=ne;;){var pe=A.delegate;if(pe&&(pe=function ge(he,be){var _e=he.iterator[be.method];if(_e===p){if(be.delegate=null,be.method==="throw"){if(he.iterator.return&&(be.method="return",be.arg=p,ge(he,be),be.method==="throw"))return x;be.method="throw",be.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}if(_e=u(_e,he.iterator,be.arg),_e.type==="throw")return be.method="throw",be.arg=_e.arg,be.delegate=null,x;if(_e=_e.arg,!_e)return be.method="throw",be.arg=new TypeError("iterator result is not an object"),be.delegate=null,x;{if(!_e.done)return _e;be[he.resultName]=_e.value,be.next=he.nextLoc,be.method!=="return"&&(be.method="next",be.arg=p)}return be.delegate=null,x}(pe,A),pe)){if(pe===x)continue;return pe}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(B===c)throw B=d,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);if(B=h,pe=u(ee,ae,A),pe.type==="normal"){if(B=A.done?d:y,pe.arg!==x)return{value:pe.arg,done:A.done}}else pe.type==="throw"&&(B=d,A.method="throw",A.arg=pe.arg)}}),W}function u(Q,K,Z){try{return{type:"normal",arg:Q.call(K,Z)}}catch(Y){return{type:"throw",arg:Y}}}f.wrap=a;var c="suspendedStart",y="suspendedYield",h="executing",d="completed",x={};function _(){}function T(){}function k(){}var M={},O=(M[b]=function(){return this},Object.getPrototypeOf),O=O&&O(O(z([]))),L=(O&&O!==i&&l.call(O,b)&&(M=O),k.prototype=_.prototype=Object.create(M));function F(Q){["next","throw","return"].forEach(function(K){Q[K]=function(Z){return this._invoke(K,Z)}})}function D(Q){var K;this._invoke=function(Z,Y){function ee(){return new Promise(function(ae,A){(function B(ge,J,ie,ne){var pe,ge=u(Q[ge],Q,J);if(ge.type!=="throw")return(J=(pe=ge.arg).value)&&typeof J=="object"&&l.call(J,"__await")?Promise.resolve(J.__await).then(function(he){B("next",he,ie,ne)},function(he){B("throw",he,ie,ne)}):Promise.resolve(J).then(function(he){pe.value=he,ie(pe)},function(he){return B("throw",he,ie,ne)});ne(ge.arg)})(Z,Y,ae,A)})}return K=K?K.then(ee,ee):ee()}}function V(Q){var K={tryLoc:Q[0]};1 in Q&&(K.catchLoc=Q[1]),2 in Q&&(K.finallyLoc=Q[2],K.afterLoc=Q[3]),this.tryEntries.push(K)}function P(Q){var K=Q.completion||{};K.type="normal",delete K.arg,Q.completion=K}function G(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(V,this),this.reset(!0)}function z(Q){if(Q){var K,Z=Q[b];if(Z)return Z.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length))return K=-1,(Z=function Y(){for(;++K<Q.length;)if(l.call(Q,K))return Y.value=Q[K],Y.done=!1,Y;return Y.value=p,Y.done=!0,Y}).next=Z}return{next:q}}function q(){return{value:p,done:!0}}return(T.prototype=L.constructor=k).constructor=T,k[o]=T.displayName="GeneratorFunction",f.isGeneratorFunction=function(Q){return Q=typeof Q=="function"&&Q.constructor,!!Q&&(Q===T||(Q.displayName||Q.name)==="GeneratorFunction")},f.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,k):(Q.__proto__=k,o in Q||(Q[o]="GeneratorFunction")),Q.prototype=Object.create(L),Q},f.awrap=function(Q){return{__await:Q}},F(D.prototype),D.prototype[v]=function(){return this},f.AsyncIterator=D,f.async=function(Q,K,Z,Y){var ee=new D(a(Q,K,Z,Y));return f.isGeneratorFunction(K)?ee:ee.next().then(function(ae){return ae.done?ae.value:ee.next()})},F(L),L[o]="Generator",L[b]=function(){return this},L.toString=function(){return"[object Generator]"},f.keys=function(Q){var K,Z=[];for(K in Q)Z.push(K);return Z.reverse(),function Y(){for(;Z.length;){var ee=Z.pop();if(ee in Q)return Y.value=ee,Y.done=!1,Y}return Y.done=!0,Y}},f.values=z,G.prototype={constructor:G,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(P),!Q)for(var K in this)K.charAt(0)==="t"&&l.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=p)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var K=this;function Z(W,J){return ae.type="throw",ae.arg=Q,K.next=W,J&&(K.method="next",K.arg=p),!!J}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var ee=this.tryEntries[Y],ae=ee.completion;if(ee.tryLoc==="root")return Z("end");if(ee.tryLoc<=this.prev){var A=l.call(ee,"catchLoc"),B=l.call(ee,"finallyLoc");if(A&&B){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}else if(A){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}}}},abrupt:function(Q,K){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var Y=this.tryEntries[Z];if(Y.tryLoc<=this.prev&&l.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var ee=Y;break}}var ae=(ee=ee&&(Q==="break"||Q==="continue")&&ee.tryLoc<=K&&K<=ee.finallyLoc?null:ee)?ee.completion:{};return ae.type=Q,ae.arg=K,ee?(this.method="next",this.next=ee.finallyLoc,x):this.complete(ae)},complete:function(Q,K){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&K&&(this.next=K),x},finish:function(Q){for(var K=this.tryEntries.length-1;0<=K;--K){var Z=this.tryEntries[K];if(Z.finallyLoc===Q)return this.complete(Z.completion,Z.afterLoc),P(Z),x}},catch:function(Q){for(var K=this.tryEntries.length-1;0<=K;--K){var Z,Y,ee=this.tryEntries[K];if(ee.tryLoc===Q)return(Z=ee.completion).type==="throw"&&(Y=Z.arg,P(ee)),Y}throw new Error("illegal catch attempt")},delegateYield:function(Q,K,Z){return this.delegate={iterator:z(Q),resultName:K,nextLoc:Z},this.method==="next"&&(this.arg=p),x}},f}(typeof j=="object"?j.exports:{});try{regeneratorRuntime=j}catch{Function("r","regeneratorRuntime = r")(j)}},{}],261:[function(t,j,w){(function(f){var p,i,l,b,v,o,a,u,c,y;function h(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function d(P){return P=typeof P!="string"?String(P):P}function x(P){var G={next:function(){var z=P.shift();return{done:z===void 0,value:z}}};return i&&(G[Symbol.iterator]=function(){return G}),G}function _(P){this.map={},P instanceof _?P.forEach(function(G,z){this.append(z,G)},this):Array.isArray(P)?P.forEach(function(G){this.append(G[0],G[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(G){this.append(G,P[G])},this)}function T(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function k(P){return new Promise(function(G,z){P.onload=function(){G(P.result)},P.onerror=function(){z(P.error)}})}function M(P){var G=new FileReader,z=k(G);return G.readAsArrayBuffer(P),z}function O(P){var G;return P.slice?P.slice(0):((G=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),G.buffer)}function L(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(l&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(b&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(p&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(v&&l&&a(P))this._bodyArrayBuffer=O(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v||!ArrayBuffer.prototype.isPrototypeOf(P)&&!u(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var P=T(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var P,G,z=T(this);if(z)return z;if(this._bodyBlob)return z=this._bodyBlob,P=new FileReader,G=k(P),P.readAsText(z),G;if(this._bodyArrayBuffer)return Promise.resolve(function(q){for(var Q=new Uint8Array(q),K=new Array(Q.length),Z=0;Z<Q.length;Z++)K[Z]=String.fromCharCode(Q[Z]);return K.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}function F(P,G){var z,q=(G=G||{}).body;if(P instanceof F){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,G.headers||(this.headers=new _(P.headers)),this.method=P.method,this.mode=P.mode,q||P._bodyInit==null||(q=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new _(G.headers)),this.method=(P=G.method||this.method||"GET",z=P.toUpperCase(),-1<c.indexOf(z)?z:P),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function D(P){var G=new FormData;return P.trim().split("&").forEach(function(z){var q;z&&(q=(z=z.split("=")).shift().replace(/\+/g," "),z=z.join("=").replace(/\+/g," "),G.append(decodeURIComponent(q),decodeURIComponent(z)))}),G}function V(P,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new _(G.headers),this.url=G.url||"",this._initBody(P)}f.fetch||(p="URLSearchParams"in f,i="Symbol"in f&&"iterator"in Symbol,l="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),b="FormData"in f,(v="ArrayBuffer"in f)&&(o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(P){return P&&DataView.prototype.isPrototypeOf(P)},u=ArrayBuffer.isView||function(P){return P&&-1<o.indexOf(Object.prototype.toString.call(P))}),_.prototype.append=function(P,G){P=h(P),G=d(G);var z=this.map[P];this.map[P]=z?z+","+G:G},_.prototype.delete=function(P){delete this.map[h(P)]},_.prototype.get=function(P){return P=h(P),this.has(P)?this.map[P]:null},_.prototype.has=function(P){return this.map.hasOwnProperty(h(P))},_.prototype.set=function(P,G){this.map[h(P)]=d(G)},_.prototype.forEach=function(P,G){for(var z in this.map)this.map.hasOwnProperty(z)&&P.call(G,this.map[z],z,this)},_.prototype.keys=function(){var P=[];return this.forEach(function(G,z){P.push(z)}),x(P)},_.prototype.values=function(){var P=[];return this.forEach(function(G){P.push(G)}),x(P)},_.prototype.entries=function(){var P=[];return this.forEach(function(G,z){P.push([z,G])}),x(P)},i&&(_.prototype[Symbol.iterator]=_.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],F.prototype.clone=function(){return new F(this,{body:this._bodyInit})},L.call(F.prototype),L.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},V.error=function(){var P=new V(null,{status:0,statusText:""});return P.type="error",P},y=[301,302,303,307,308],V.redirect=function(P,G){if(y.indexOf(G)===-1)throw new RangeError("Invalid status code");return new V(null,{status:G,headers:{location:P}})},f.Headers=_,f.Request=F,f.Response=V,f.fetch=function(P,G){return new Promise(function(z,q){var Q=new F(P,G),K=new XMLHttpRequest;K.onload=function(){var Z,Y={status:K.status,statusText:K.statusText,headers:(Y=K.getAllResponseHeaders()||"",Z=new _,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(A){var A=A.split(":"),B=A.shift().trim();B&&(A=A.join(":").trim(),Z.append(B,A))}),Z)},ee=(Y.url="responseURL"in K?K.responseURL:Y.headers.get("X-Request-URL"),"response"in K?K.response:K.responseText);z(new V(ee,Y))},K.onerror=function(){q(new TypeError("Network request failed"))},K.ontimeout=function(){q(new TypeError("Network request failed"))},K.open(Q.method,Q.url,!0),Q.credentials==="include"?K.withCredentials=!0:Q.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&l&&(K.responseType="blob"),Q.headers.forEach(function(Z,Y){K.setRequestHeader(Y,Z)}),K.send(Q._bodyInit===void 0?null:Q._bodyInit)})},f.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,j,w){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f,p=l(t("../core/main")),i=l(t("../color/color_conversion"));function l(o){return o&&o.__esModule?o:{default:o}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],v=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];p.default.prototype._rgbColorName=function(c){var a,u,c=i.default._rgbaToHSBA(c),y=[(f=c)[0],c[1],c[2]];y[0]!==0&&(y[0]=Math.round(100*y[0]),(c=y[0].toString().split(""))[u=c.length-1]=parseInt(c[u]),c[u]<2.5?c[u]=0:2.5<=c[u]&&c[u]<7.5&&(c[u]=5),c.length===2?(c[0]=parseInt(c[0]),7.5<=c[u]&&(c[u]=0,c[0]=c[0]+1),y[0]=10*c[0]+c[1]):7.5<=c[u]?y[0]=10:y[0]=c[u]),y[2]=y[2]/255;for(var h=y.length-1;1<=h;h--)y[h]<=.25?y[h]=0:.25<y[h]&&y[h]<.75?y[h]=.5:y[h]=1;if(y[0]===0&&y[1]===0&&y[2]===1){for(var d=2;0<=d;d--)f[d]=Math.round(1e4*f[d])/1e4;for(var x=0;x<b.length;x++){if(b[x].h===f[0]&&b[x].s===f[1]&&b[x].b===f[2]){a=b[x].name;break}a="white"}}else for(var _=0;_<v.length;_++)if(v[_].h===y[0]&&v[_].s===y[1]&&v[_].b===y[2]){a=v[_].name;break}return a},t=p.default,w.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t},p="_Description",i="_fallbackDesc",l="_fallbackTable",b="_Label",v="_labelDesc",o="_labelTable";function a(u){if(u==="label"||u==="fallback")throw new Error("description should not be LABEL or FALLBACK");return u.endsWith(".")||u.endsWith(";")||u.endsWith(",")||u.endsWith("?")||u.endsWith("!")||(u+="."),u}f.default.prototype.describe=function(u,c){var y;f.default._validateParameters("describe",arguments),typeof u=="string"&&(y=this.canvas.id,u=a(u),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==u&&(this.descriptions.fallback.innerHTML=u):this._describeHTML("fallback",u),c===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==u&&(this.descriptions.label.innerHTML=u):this._describeHTML("label",u)))},f.default.prototype.describeElement=function(u,c,y){var h,d;f.default._validateParameters("describeElement",arguments),typeof c=="string"&&typeof u=="string"&&(h=this.canvas.id,c=a(c),d=function(x){if(x==="label"||x==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return x.endsWith(".")||x.endsWith(";")||x.endsWith(",")?x=x.replace(/.$/,":"):x.endsWith(":")||(x+=":"),x}(u),u=u.replace(/[^a-zA-Z0-9]/g,""),d='<th scope="row">'.concat(d,"</th><td>").concat(c,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[u]?this.descriptions.fallbackElements[u].innerHTML!==d&&(this.descriptions.fallbackElements[u].innerHTML=d):this._describeElementHTML("fallback",u,d),y===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[u]?this.descriptions.labelElements[u].innerHTML!==d&&(this.descriptions.labelElements[u].innerHTML=d):this._describeElementHTML("label",u,d)))},f.default.prototype._describeHTML=function(u,c){var y,h=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(h+p))?this.dummyDOM.querySelector("#"+h+l).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+i,'"></p>')):(y='<div id="'.concat(h).concat(p,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(i,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(h)).innerHTML=y),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(i)),this.descriptions.fallback.innerHTML=c):u==="label"&&(this.dummyDOM.querySelector("#".concat(h+b))?this.dummyDOM.querySelector("#".concat(h+o))&&this.dummyDOM.querySelector("#".concat(h+o)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(v,'"></p>')):(y='<div id="'.concat(h).concat(b,'" class="p5Label"><p id="').concat(h).concat(v,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",y)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+v),this.descriptions.label.innerHTML=c)},f.default.prototype._describeElementHTML=function(u,c,y){var h,d=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(d+p))?this.dummyDOM.querySelector("#"+d+l)||this.dummyDOM.querySelector("#"+d+i).insertAdjacentHTML("afterend",'<table id="'.concat(d).concat(l,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(d).concat(p,'" role="region" aria-label="Canvas Description"><table id="').concat(d).concat(l,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+d).innerHTML=h),(h=document.createElement("tr")).id=d+"_fte_"+c,this.dummyDOM.querySelector("#"+d+l).appendChild(h),this.descriptions.fallbackElements[c]=this.dummyDOM.querySelector("#".concat(d).concat("_fte_").concat(c)),this.descriptions.fallbackElements[c].innerHTML=y):u==="label"&&(this.dummyDOM.querySelector("#".concat(d+b))?this.dummyDOM.querySelector("#".concat(d+o))||this.dummyDOM.querySelector("#"+d+v).insertAdjacentHTML("afterend",'<table id="'.concat(d+o,'"></table>')):(h='<div id="'.concat(d).concat(b,'" class="p5Label"><table id="').concat(d).concat(o,'"></table></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",h)),(u=document.createElement("tr")).id=d+"_lte_"+c,this.dummyDOM.querySelector("#"+d+o).appendChild(u),this.descriptions.labelElements[c]=this.dummyDOM.querySelector("#".concat(d).concat("_lte_").concat(c)),this.descriptions.labelElements[c].innerHTML=y)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(f){var p,i,l,b;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(p=this._accessibleOutputs[f],l=function(v,o,a,u){return o="".concat(o," canvas, ").concat(a," by ").concat(u," pixels, contains ").concat(v[0]),o=(v[0]===1?"".concat(o," shape: "):"".concat(o," shapes: ")).concat(v[1]),o}((i=function(v,o){var a,u="",c="",y=0;for(a in o){var h,d=0;for(h in o[a]){var x='<li id="'.concat(v,"shape").concat(y,'">').concat(o[a][h].color," ").concat(a,",");a==="line"?x+=" location = ".concat(o[a][h].pos,", length = ").concat(o[a][h].length," pixels"):(x+=" location = ".concat(o[a][h].pos),a!=="point"&&(x+=", area = ".concat(o[a][h].area," %")),x+="</li>"),u+=x,d++,y++}c=1<d?"".concat(c," ").concat(d," ").concat(a,"s"):"".concat(c," ").concat(d," ").concat(a)}return{numShapes:[y,c],details:u}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(v,o){var a,u,c=0,y="",h=Array.from(Array(10),function(){return Array(10)});for(a in o)for(var d in o[a]){var x=void 0;x=a!=="line"?'<a href="#'.concat(v,"shape").concat(c,'">').concat(o[a][d].color," ").concat(a,"</a>"):'<a href="#'.concat(v,"shape").concat(c,'">').concat(o[a][d].color," ").concat(a," midpoint</a>"),o[a][d].loc.locY<h.length&&o[a][d].loc.locX<h[o[a][d].loc.locY].length&&(h[o[a][d].loc.locY][o[a][d].loc.locX]?h[o[a][d].loc.locY][o[a][d].loc.locX]=h[o[a][d].loc.locY][o[a][d].loc.locX]+"  "+x:h[o[a][d].loc.locY][o[a][d].loc.locX]=x,c++)}for(u in h){var _,T="<tr>";for(_ in h[u])T+="<td>",h[u][_]!==void 0&&(T+=h[u][_]),T+="</td>";y=y+T+"</tr>"}return y}(f,this.ingredients.shapes),l!==p.summary.innerHTML&&(p.summary.innerHTML=l),b!==p.map.innerHTML&&(p.map.innerHTML=b),i.details!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=i.details),this._accessibleOutputs[f]=p)},t=t.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(l){return function(b){if(Array.isArray(b)){for(var v=0,o=new Array(b.length);v<b.length;v++)o[v]=b[v];return o}}(l)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(l,b,v){return b=Math.floor(l[0]/b*10),l=Math.floor(l[1]/v*10),b===10&&(b-=1),l===10&&(l-=1),{locX:b,locY:l}}f.default.prototype.textOutput=function(l){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(l){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(l,b){var v,o,a,u=this.canvas.id,c=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),"");b==="Fallback"?(v=u+l,this.dummyDOM.querySelector("#".concat(o=u+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(u,"_Description"))?this.dummyDOM.querySelector("#".concat(u,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(u)).innerHTML='<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>'))):b==="Label"&&(v=u+l+(c=b),this.dummyDOM.querySelector("#".concat(o=u+"accessibleOutput"+b))||(this.dummyDOM.querySelector("#".concat(u,"_Label"))?this.dummyDOM.querySelector("#".concat(u,"_Label")):this.dummyDOM.querySelector("#".concat(u))).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>'))),this._accessibleOutputs[v]={},l==="textOutput"?(c="#".concat(u,"gridOutput").concat(c),a='<div id="'.concat(v,'">Text Output<div id="').concat(v,'Summary" aria-label="text output summary"><p id="').concat(v,'_summary"></p><ul id="').concat(v,'_list"></ul></div><table id="').concat(v,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(o)).innerHTML=a,this._accessibleOutputs[v].list=this.dummyDOM.querySelector("#".concat(v,"_list"))):l==="gridOutput"&&(c="#".concat(u,"textOutput").concat(c),a='<div id="'.concat(v,'">Grid Output<p id="').concat(v,'_summary" aria-label="grid output summary"><table id="').concat(v,'_map" summary="grid output content"></table><ul id="').concat(v,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(o)).innerHTML=a,this._accessibleOutputs[v].map=this.dummyDOM.querySelector("#".concat(v,"_map"))),this._accessibleOutputs[v].shapeDetails=this.dummyDOM.querySelector("#".concat(v,"_shapeDetails")),this._accessibleOutputs[v].summary=this.dummyDOM.querySelector("#".concat(v,"_summary"))},f.default.prototype._updateAccsOutput=function(){var l=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(l+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(l+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(l+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(l+"gridOutputLabel"))},f.default.prototype._accsBackground=function(l){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==l&&(this.ingredients.colors.backgroundRGBA=l,this.ingredients.colors.background=this._rgbColorName(l))},f.default.prototype._accsCanvasColors=function(l,b){l==="fill"?this.ingredients.colors.fillRGBA!==b&&(this.ingredients.colors.fillRGBA=b,this.ingredients.colors.fill=this._rgbColorName(b)):l==="stroke"&&this.ingredients.colors.strokeRGBA!==b&&(this.ingredients.colors.strokeRGBA=b,this.ingredients.colors.stroke=this._rgbColorName(b))},f.default.prototype._accsOutput=function(l,b){l==="ellipse"&&b[2]===b[3]?l="circle":l==="rectangle"&&b[2]===b[3]&&(l="square");var v,o,a={},u=!0,c=function(h,d){var x;return h=h==="rectangle"||h==="ellipse"||h==="arc"||h==="circle"||h==="square"?(x=Math.round(d[0]+d[2]/2),Math.round(d[1]+d[3]/2)):h==="triangle"?(x=(d[0]+d[2]+d[4])/3,(d[1]+d[3]+d[5])/3):h==="quadrilateral"?(x=(d[0]+d[2]+d[4]+d[6])/4,(d[1]+d[3]+d[5]+d[7])/4):h==="line"?(x=(d[0]+d[2])/2,(d[1]+d[3])/2):(x=d[0],d[1]),[x,h]}(l,b);if(l==="line"?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(b[0],b[1],b[2],b[3])),v=this._getPos(b[0],[1]),o=this._getPos(b[2],[3]),a.loc=i(c,this.width,this.height),a.pos=v===o?"at ".concat(v):"from ".concat(v," to ").concat(o)):(l==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(l,b)),a.pos=this._getPos.apply(this,p(c)),a.loc=i(c,this.width,this.height)),this.ingredients.shapes[l]){if(this.ingredients.shapes[l]!==[a]){for(var y in this.ingredients.shapes[l])JSON.stringify(this.ingredients.shapes[l][y])===JSON.stringify(a)&&(u=!1);u===!0&&this.ingredients.shapes[l].push(a)}}else this.ingredients.shapes[l]=[a]},f.default.prototype._getPos=function(o,v){var o=new DOMPointReadOnly(o,v),v=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),o=o.matrixTransform(v),v=o.x,o=o.y,a=this.width*this._pixelDensity,u=this.height*this._pixelDensity;return v<.4*a?o<.4*u?"top left":.6*u<o?"bottom left":"mid left":.6*a<v?o<.4*u?"top right":.6*u<o?"bottom right":"mid right":o<.4*u?"top middle":.6*u<o?"bottom middle":"middle"},f.default.prototype._getArea=function(l,b){var v,o,a=0,u=(l==="arc"?(a=(v=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(o=b[0],d=b[1],u=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),x=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),y=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),c=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),o=Math.abs(o*(x-c)+u*(c-d)+y*(d-x))/2,v>Math.PI?a+=o:a-=o)):l==="ellipse"||l==="circle"?a=3.14*b[2]/2*b[3]/2:l==="line"||l==="point"?a=0:l==="quadrilateral"?a=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:l==="rectangle"||l==="square"?a=b[2]*b[3]:l==="triangle"&&(a=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2),this.width*this._pixelDensity),c=this.height*this._pixelDensity,y=[new DOMPoint(0,0),new DOMPoint(u,0),new DOMPoint(u,c),new DOMPoint(0,c)],h=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),d=y.map(function(_){return _.matrixTransform(h)}),x=Math.abs((d[3].x+d[0].x)*(d[3].y-d[0].y)+(d[0].x+d[1].x)*(d[0].y-d[1].y)+(d[1].x+d[2].x)*(d[1].y-d[2].y)+(d[2].x+d[3].x)*(d[2].y-d[3].y))/2;return Math.round(100*a/x)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(f){var p,i,l,b;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(p=this._accessibleOutputs[f],l=function(v,o,a,u){return a="Your output is a, ".concat(a," by ").concat(u," pixels, ").concat(o," canvas containing the following"),a=v===1?"".concat(a," shape:"):"".concat(a," ").concat(v," shapes:"),a}((i=function(v,o){var a,u="",c=0;for(a in o)for(var y in o[a]){var h='<li><a href="#'.concat(v,"shape").concat(c,'">').concat(o[a][y].color," ").concat(a,"</a>");a==="line"?h+=", ".concat(o[a][y].pos,", ").concat(o[a][y].length," pixels long.</li>"):(h+=", at ".concat(o[a][y].pos),a!=="point"&&(h+=", covering ".concat(o[a][y].area,"% of the canvas")),h+=".</li>"),u+=h,c++}return{numShapes:c,listShapes:u}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(v,o){var a,u="",c=0;for(a in o)for(var y in o[a]){var h='<tr id="'.concat(v,"shape").concat(c,'"><th>').concat(o[a][y].color," ").concat(a,"</th>");a==="line"?h+="<td>location = ".concat(o[a][y].pos,"</td><td>length = ").concat(o[a][y].length," pixels</td></tr>"):(h+="<td>location = ".concat(o[a][y].pos,"</td>"),a!=="point"&&(h+="<td> area = ".concat(o[a][y].area,"%</td>")),h+="</tr>"),u+=h,c++}return u}(f,this.ingredients.shapes),l!==p.summary.innerHTML&&(p.summary.innerHTML=l),i.listShapes!==p.list.innerHTML&&(p.list.innerHTML=i.listShapes),b!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=b),this._accessibleOutputs[f]=p)},t=t.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,j,w){var f=(f=t("./core/main"))&&f.__esModule?f:{default:f};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),j.exports=f.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(f){var p=f[0],i=f[1],l=f[2],b=(2-i)*l/2;return b!=0&&(b==1?i=0:b<.5?i/=2-i:i=i*l/(2-2*b)),[p,i,b,f[3]]},_hsbaToRGBA:function(f){var p,i,l,b,v,o=6*f[0],a=f[1],u=f[2];return a===0?[u,u,u,f[3]]:(i=u*(1-a),l=u*(1-a*(o-(p=Math.floor(o)))),a=u*(1-a*(1+p-o)),o=p===1?(b=l,v=u,i):p===2?(b=i,v=u,a):p===3?(b=i,v=l,u):p===4?(b=a,v=i,u):p===5?(b=u,v=i,l):(b=u,v=a,i),[b,v,o,f[3]])},_hslaToHSBA:function(f){var p=f[0],i=f[1],l=f[2],b=l<.5?(1+i)*l:l+i-l*i;return[p,i=2*(b-l)/b,b,f[3]]},_hslaToRGBA:function(f){var p,i=6*f[0],l=f[1],b=f[2];return l===0?[b,b,b,f[3]]:[(p=function(v,o,a){return v<0?v+=6:6<=v&&(v-=6),v<1?o+(a-o)*v:v<3?a:v<4?o+(a-o)*(4-v):o})(2+i,l=2*b-(b=b<.5?(1+l)*b:b+l-b*l),b),p(i,l,b),p(i-2,l,b),f[3]]},_rgbaToHSBA:function(f){var p,i,l=f[0],b=f[1],v=f[2],o=Math.max(l,b,v),a=o-Math.min(l,b,v);return a==0?i=p=0:(i=a/o,l===o?p=(b-v)/a:b===o?p=2+(v-l)/a:v===o&&(p=4+(l-b)/a),p<0?p+=6:6<=p&&(p-=6)),[p/6,i,o,f[3]]},_rgbaToHSLA:function(f){var p,i,l=f[0],b=f[1],v=f[2],o=Math.max(l,b,v),u=Math.min(l,b,v),a=o+u,u=o-u;return u==0?i=p=0:(i=a<1?u/a:u/(2-a),l===o?p=(b-v)/u:b===o?p=2+(v-l)/u:v===o&&(p=4+(l-b)/u),p<0?p+=6:6<=p&&(p-=6)),[p/6,i,a/2,f[3]]}},t=t.default.ColorConversion,w.default=t},{"../core/main":283}],269:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},l=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.alpha=function(o){return i.default._validateParameters("alpha",arguments),this.color(o)._getAlpha()},i.default.prototype.blue=function(o){return i.default._validateParameters("blue",arguments),this.color(o)._getBlue()},i.default.prototype.brightness=function(o){return i.default._validateParameters("brightness",arguments),this.color(o)._getBrightness()},i.default.prototype.color=function(){for(var o,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return i.default._validateParameters("color",u),u[0]instanceof i.default.Color?u[0]:(o=Array.isArray(u[0])?u[0]:u,new i.default.Color(this,o))},i.default.prototype.green=function(o){return i.default._validateParameters("green",arguments),this.color(o)._getGreen()},i.default.prototype.hue=function(o){return i.default._validateParameters("hue",arguments),this.color(o)._getHue()},i.default.prototype.lerpColor=function(o,a,u){i.default._validateParameters("lerpColor",arguments),o instanceof i.default.Color||(o=color(o)),a instanceof i.default.Color||(a=color(a));var c,y,h,d=this._colorMode,x=this._colorMaxes;if(d===l.RGB)y=o.levels.map(function(_){return _/255}),h=a.levels.map(function(_){return _/255});else if(d===l.HSB)o._getBrightness(),a._getBrightness(),y=o.hsba,h=a.hsba;else{if(d!==l.HSL)throw new Error("".concat(d," cannot be used for interpolation."));o._getLightness(),a._getLightness(),y=o.hsla,h=a.hsla}return u=Math.max(Math.min(u,1),0),this.lerp===void 0&&(this.lerp=function(_,T,k){return k*(T-_)+_}),d===l.RGB?c=this.lerp(y[0],h[0],u):(.5<Math.abs(y[0]-h[0])&&(y[0]>h[0]?h[0]+=1:y[0]+=1),1<=(c=this.lerp(y[0],h[0],u))&&--c),o=this.lerp(y[1],h[1],u),a=this.lerp(y[2],h[2],u),y=this.lerp(y[3],h[3],u),c*=x[d][0],o*=x[d][1],a*=x[d][2],y*=x[d][3],this.color(c,o,a,y)},i.default.prototype.paletteLerp=function(o,a){var u=o[0];if(a<u[1])return this.color(u[0]);for(var c=1;c<o.length;c++){var y,h=o[c];if(a<h[1])return y=o[c-1],this.lerpColor(this.color(y[0]),this.color(h[0]),(a-y[1])/(h[1]-y[1]))}return this.color(o[o.length-1][0])},i.default.prototype.lightness=function(o){return i.default._validateParameters("lightness",arguments),this.color(o)._getLightness()},i.default.prototype.red=function(o){return i.default._validateParameters("red",arguments),this.color(o)._getRed()},i.default.prototype.saturation=function(o){return i.default._validateParameters("saturation",arguments),this.color(o)._getSaturation()};var v=i.default;w.default=v},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(c,j,w){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}function p(_){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(_)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=o(c("../core/main")),l=function(_){if(_&&_.__esModule)return _;if(_===null||p(_)!=="object"&&typeof _!="function")return{default:_};var T=v();if(T&&T.has(_))return T.get(_);var k,M={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in _){var L;Object.prototype.hasOwnProperty.call(_,k)&&((L=O?Object.getOwnPropertyDescriptor(_,k):null)&&(L.get||L.set)?Object.defineProperty(M,k,L):M[k]=_[k])}return M.default=_,T&&T.set(_,M),M}(c("../core/constants")),b=o(c("./color_conversion"));function v(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,v=function(){return _},_)}function o(_){return _&&_.__esModule?_:{default:_}}function a(_,T){for(var k=0;k<T.length;k++){var M=T[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},c=/\s*/,x=/(\d{1,3})/,y=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(y.source,"%")),d={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",x.source,",",x.source,",",x.source,"\\)$"].join(c.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(c.source),"i"),RGBA:new RegExp(["^rgba\\(",x.source,",",x.source,",",x.source,",",y.source,"\\)$"].join(c.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",y.source,"\\)$"].join(c.source),"i"),HSL:new RegExp(["^hsl\\(",x.source,",",h.source,",",h.source,"\\)$"].join(c.source),"i"),HSLA:new RegExp(["^hsla\\(",x.source,",",h.source,",",h.source,",",y.source,"\\)$"].join(c.source),"i"),HSB:new RegExp(["^hsb\\(",x.source,",",h.source,",",h.source,"\\)$"].join(c.source),"i"),HSBA:new RegExp(["^hsba\\(",x.source,",",h.source,",",h.source,",",y.source,"\\)$"].join(c.source),"i")},x=(i.default.Color=function(){function _(O,L){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(O._colorMode,O._colorMaxes),![l.RGB,l.HSL,l.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,L),this._calculateLevels()}var T,k,M;return T=_,M=[{key:"_parseInputs",value:function(O,L,F,D){var V,P=arguments.length,G=this.mode,z=this.maxes[G],q=[];if(3<=P){for(q[0]=O/z[0],q[1]=L/z[1],q[2]=F/z[2],q[3]=typeof D=="number"?D/z[3]:1,V=q.length-1;0<=V;--V){var Q=q[V];Q<0?q[V]=0:1<Q&&(q[V]=1)}return G===l.HSL?b.default._hslaToRGBA(q):G===l.HSB?b.default._hsbaToRGBA(q):q}if(P===1&&typeof O=="string"){if(F=O.trim().toLowerCase(),u[F])return _._parseInputs.call(this,u[F]);if(d.HEX3.test(F))return(q=d.HEX3.exec(F).slice(1).map(function(K){return parseInt(K+K,16)/255}))[3]=1,q;if(d.HEX6.test(F))return(q=d.HEX6.exec(F).slice(1).map(function(K){return parseInt(K,16)/255}))[3]=1,q;if(d.HEX4.test(F))return q=d.HEX4.exec(F).slice(1).map(function(K){return parseInt(K+K,16)/255});if(d.HEX8.test(F))return q=d.HEX8.exec(F).slice(1).map(function(K){return parseInt(K,16)/255});if(d.RGB.test(F))return(q=d.RGB.exec(F).slice(1).map(function(K){return K/255}))[3]=1,q;if(d.RGB_PERCENT.test(F))return(q=d.RGB_PERCENT.exec(F).slice(1).map(function(K){return parseFloat(K)/100}))[3]=1,q;if(d.RGBA.test(F))return q=d.RGBA.exec(F).slice(1).map(function(K,Z){return Z===3?parseFloat(K):K/255});if(d.RGBA_PERCENT.test(F))return q=d.RGBA_PERCENT.exec(F).slice(1).map(function(K,Z){return Z===3?parseFloat(K):parseFloat(K)/100});if(d.HSL.test(F)?(q=d.HSL.exec(F).slice(1).map(function(K,Z){return Z===0?parseInt(K,10)/360:parseInt(K,10)/100}))[3]=1:d.HSLA.test(F)&&(q=d.HSLA.exec(F).slice(1).map(function(K,Z){return Z===0?parseInt(K,10)/360:Z===3?parseFloat(K):parseInt(K,10)/100})),(q=q.map(function(K){return Math.max(Math.min(K,1),0)})).length)return b.default._hslaToRGBA(q);if(d.HSB.test(F)?(q=d.HSB.exec(F).slice(1).map(function(K,Z){return Z===0?parseInt(K,10)/360:parseInt(K,10)/100}))[3]=1:d.HSBA.test(F)&&(q=d.HSBA.exec(F).slice(1).map(function(K,Z){return Z===0?parseInt(K,10)/360:Z===3?parseFloat(K):parseInt(K,10)/100})),q.length){for(V=q.length-1;0<=V;--V)q[V]=Math.max(Math.min(q[V],1),0);return b.default._hsbaToRGBA(q)}q=[1,1,1,1]}else{if(P!==1&&P!==2||typeof O!="number")throw new Error("".concat(arguments,"is not a valid color representation."));q[0]=O/z[2],q[1]=O/z[2],q[2]=O/z[2],q[3]=typeof L=="number"?L/z[3]:1,q=q.map(function(K){return Math.max(Math.min(K,1),0)})}return q}}],(k=[{key:"toString",value:function(O){var L=this.levels,F=this._array,D=F[3];switch(O){case"#rrggbb":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16));case"#rrggbbaa":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16),L[3]<16?"0".concat(L[3].toString(16)):L[3].toString(16));case"#rgb":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16),Math.round(15*F[3]).toString(16));case"rgb":return"rgb(".concat(L[0],", ",L[1],", ",L[2],")");case"rgb%":return"rgb(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%, ",(100*F[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[l.HSB][0],", ",this.hsba[1]*this.maxes[l.HSB][1],", ",this.hsba[2]*this.maxes[l.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[l.HSB][0],", ",this.hsba[1]*this.maxes[l.HSB][1],", ",this.hsba[2]*this.maxes[l.HSB][2],", ",D,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[l.HSL][0],", ",this.hsla[1]*this.maxes[l.HSL][1],", ",this.hsla[2]*this.maxes[l.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[l.HSL][0],", ",this.hsla[1]*this.maxes[l.HSL][1],", ",this.hsla[2]*this.maxes[l.HSL][2],", ",D,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");default:return"rgba(".concat(L[0],",",L[1],",",L[2],",",D,")")}}},{key:"setRed",value:function(O){this._array[0]=O/this.maxes[l.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(O){this._array[1]=O/this.maxes[l.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(O){this._array[2]=O/this.maxes[l.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(O){this._array[3]=O/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var O=this._array,L=this.levels=new Array(O.length),F=O.length-1;0<=F;--F)L[F]=Math.round(255*O[F]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(O,L){this.mode=O,this.maxes=L}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[l.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[l.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[l.RGB][1]}},{key:"_getHue",value:function(){return this.mode===l.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[l.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[l.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[l.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[l.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===l.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[l.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[l.HSL][1])}}])&&a(T.prototype,k),M&&a(T,M),_}(),i.default.Color);w.default=x},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},l=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}t("./p5.Color"),i.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},i.default.prototype.endClip=function(){this._renderer.endClip()},i.default.prototype.clip=function(o,a){this._renderer.beginClip(a),o(),this._renderer.endClip(a)},i.default.prototype.background=function(){var o;return(o=this._renderer).background.apply(o,arguments),this},i.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},i.default.prototype.colorMode=function(o,a,u,c,y){return i.default._validateParameters("colorMode",arguments),o!==l.RGB&&o!==l.HSB&&o!==l.HSL||(this._colorMode=o,o=this._colorMaxes[o],arguments.length===2?(o[0]=a,o[1]=a,o[2]=a,o[3]=a):arguments.length===4?(o[0]=a,o[1]=u,o[2]=c):arguments.length===5&&(o[0]=a,o[1]=u,o[2]=c,o[3]=y)),this},i.default.prototype.fill=function(){var o;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(o=this._renderer).fill.apply(o,arguments),this},i.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},i.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},i.default.prototype.stroke=function(){var o;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(o=this._renderer).stroke.apply(o,arguments),this},i.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},i.default.prototype.noErase=function(){return this._renderer.noErase(),this};var v=i.default;w.default=v},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.QUADRATIC=w.LINEAR=w._CTX_MIDDLE=w._DEFAULT_LEADMULT=w._DEFAULT_TEXT_FILL=w.WORD=w.CHAR=w.BOLDITALIC=w.BOLD=w.ITALIC=w.NORMAL=w.BLUR=w.ERODE=w.DILATE=w.POSTERIZE=w.INVERT=w.OPAQUE=w.GRAY=w.THRESHOLD=w.BURN=w.DODGE=w.SOFT_LIGHT=w.HARD_LIGHT=w.OVERLAY=w.REPLACE=w.SCREEN=w.MULTIPLY=w.EXCLUSION=w.SUBTRACT=w.DIFFERENCE=w.LIGHTEST=w.DARKEST=w.ADD=w.REMOVE=w.BLEND=w.UP_ARROW=w.TAB=w.SHIFT=w.RIGHT_ARROW=w.RETURN=w.OPTION=w.LEFT_ARROW=w.ESCAPE=w.ENTER=w.DOWN_ARROW=w.DELETE=w.CONTROL=w.BACKSPACE=w.ALT=w.AUTO=w.HSL=w.HSB=w.RGB=w.MITER=w.BEVEL=w.ROUND=w.SQUARE=w.PROJECT=w.PIE=w.CHORD=w.OPEN=w.CLOSE=w.TESS=w.QUAD_STRIP=w.QUADS=w.TRIANGLE_STRIP=w.TRIANGLE_FAN=w.TRIANGLES=w.LINE_LOOP=w.LINE_STRIP=w.LINES=w.POINTS=w.BASELINE=w.BOTTOM=w.TOP=w.CENTER=w.LEFT=w.RIGHT=w.RADIUS=w.CORNERS=w.CORNER=w.RAD_TO_DEG=w.DEG_TO_RAD=w.RADIANS=w.DEGREES=w.TWO_PI=w.TAU=w.QUARTER_PI=w.PI=w.HALF_PI=w.WAIT=w.TEXT=w.MOVE=w.HAND=w.CROSS=w.ARROW=w.WEBGL2=w.WEBGL=w.P2D=w.VERSION=void 0,w.RGBA=w.HALF_FLOAT=w.FLOAT=w.UNSIGNED_INT=w.UNSIGNED_BYTE=w.COVER=w.CONTAIN=w.FALLBACK=w.LABEL=w.AXES=w.GRID=w._DEFAULT_FILL=w._DEFAULT_STROKE=w.PORTRAIT=w.LANDSCAPE=w.SMOOTH=w.FLAT=w.MIRROR=w.CLAMP=w.REPEAT=w.NEAREST=w.IMAGE=w.IMMEDIATE=w.TEXTURE=w.FILL=w.STROKE=w.CURVE=w.BEZIER=void 0;var f=Math.PI,p=(w.VERSION="1.11.3",w.P2D="p2d",w.WEBGL="webgl",w.WEBGL2="webgl2",w.ARROW="default",w.CROSS="crosshair",w.HAND="pointer",w.MOVE="move",w.TEXT="text",w.WAIT="wait",f/2),p=(w.HALF_PI=p,f),p=(w.PI=p,f/4),p=(w.QUARTER_PI=p,2*f),p=(w.TAU=p,2*f),p=(w.TWO_PI=p,w.DEGREES="degrees",w.RADIANS="radians",f/180),p=(w.DEG_TO_RAD=p,180/f);w.RAD_TO_DEG=p,w.CORNER="corner",w.CORNERS="corners",w.RADIUS="radius",w.RIGHT="right",w.LEFT="left",w.CENTER="center",w.TOP="top",w.BOTTOM="bottom",w.BASELINE="alphabetic",w.POINTS=0,w.LINES=1,w.LINE_STRIP=3,w.LINE_LOOP=2,w.TRIANGLES=4,w.TRIANGLE_FAN=6,w.TRIANGLE_STRIP=5,w.QUADS="quads",w.QUAD_STRIP="quad_strip",w.TESS="tess",w.CLOSE="close",w.OPEN="open",w.CHORD="chord",w.PIE="pie",w.PROJECT="square",w.SQUARE="butt",w.ROUND="round",w.BEVEL="bevel",w.MITER="miter",w.RGB="rgb",w.HSB="hsb",w.HSL="hsl",w.AUTO="auto",w.ALT=18,w.BACKSPACE=8,w.CONTROL=17,w.DELETE=46,w.DOWN_ARROW=40,w.ENTER=13,w.ESCAPE=27,w.LEFT_ARROW=37,w.OPTION=18,w.RETURN=13,w.RIGHT_ARROW=39,w.SHIFT=16,w.TAB=9,w.UP_ARROW=38,w.BLEND="source-over",w.REMOVE="destination-out",w.ADD="lighter",w.DARKEST="darken",w.LIGHTEST="lighten",w.DIFFERENCE="difference",w.SUBTRACT="subtract",w.EXCLUSION="exclusion",w.MULTIPLY="multiply",w.SCREEN="screen",w.REPLACE="copy",w.OVERLAY="overlay",w.HARD_LIGHT="hard-light",w.SOFT_LIGHT="soft-light",w.DODGE="color-dodge",w.BURN="color-burn",w.THRESHOLD="threshold",w.GRAY="gray",w.OPAQUE="opaque",w.INVERT="invert",w.POSTERIZE="posterize",w.DILATE="dilate",w.ERODE="erode",w.BLUR="blur",w.NORMAL="normal",w.ITALIC="italic",w.BOLD="bold",w.BOLDITALIC="bold italic",w.CHAR="CHAR",w.WORD="WORD",w._DEFAULT_TEXT_FILL="#000000",w._DEFAULT_LEADMULT=1.25,w._CTX_MIDDLE="middle",w.LINEAR="linear",w.QUADRATIC="quadratic",w.BEZIER="bezier",w.CURVE="curve",w.STROKE="stroke",w.FILL="fill",w.TEXTURE="texture",w.IMMEDIATE="immediate",w.IMAGE="image",w.NEAREST="nearest",w.REPEAT="repeat",w.CLAMP="clamp",w.MIRROR="mirror",w.FLAT="flat",w.SMOOTH="smooth",w.LANDSCAPE="landscape",w.PORTRAIT="portrait",w._DEFAULT_STROKE="#000000",w._DEFAULT_FILL="#FFFFFF",w.GRID="grid",w.AXES="axes",w.LABEL="label",w.FALLBACK="fallback",w.CONTAIN="contain",w.COVER="cover",w.UNSIGNED_BYTE="unsigned-byte",w.UNSIGNED_INT="unsigned-int",w.FLOAT="float",w.HALF_FLOAT="half-float",w.RGBA="rgba"},{}],273:[function(t,j,w){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function p(y){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(l=t("./main"))&&l.__esModule?l:{default:l},l=function(y){if(y&&y.__esModule)return y;if(y===null||p(y)!=="object"&&typeof y!="function")return{default:y};var h=b();if(h&&h.has(y))return h.get(y);var d,x={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in y){var T;Object.prototype.hasOwnProperty.call(y,d)&&((T=_?Object.getOwnPropertyDescriptor(y,d):null)&&(T.get||T.set)?Object.defineProperty(x,d,T):x[d]=y[d])}return x.default=y,h&&h.set(y,x),x}(t("./constants"));function b(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,b=function(){return y},y)}var v=[l.ARROW,l.CROSS,l.HAND,l.MOVE,l.TEXT,l.WAIT],o=(i.default.prototype._frameRate=0,i.default.prototype._lastFrameTime=window.performance.now(),i.default.prototype._targetFrameRate=60,window.print),a=!1;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function c(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.default.prototype.print=function(){var y;arguments.length?(y=console).log.apply(y,arguments):a||(o(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},i.default.prototype.frameCount=0,i.default.prototype.deltaTime=0,i.default.prototype.focused=document.hasFocus(),i.default.prototype.cursor=function(y,h,d){var x,_="auto",T=this._curElement.elt;v.includes(y)?_=y:typeof y=="string"&&(x="",h&&d&&typeof h=="number"&&typeof d=="number"&&(x="".concat(h," ").concat(d)),_=y.substring(0,7)==="http://"||y.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(y)?"url(".concat(y,") ").concat(x,", auto"):y),T.style.cursor=_},i.default.prototype.frameRate=function(y){return i.default._validateParameters("frameRate",arguments),typeof y!="number"||y<0?this._frameRate:(this._setProperty("_targetFrameRate",y),y===0&&this._setProperty("_frameRate",y),this)},i.default.prototype.getFrameRate=function(){return this.frameRate()},i.default.prototype.setFrameRate=function(y){return this.frameRate(y)},i.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},i.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.default.prototype.webglVersion=l.P2D,i.default.prototype.displayWidth=screen.width,i.default.prototype.displayHeight=screen.height,i.default.prototype.windowWidth=0,i.default.prototype.windowHeight=0,i.default.prototype._onresize=function(y){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",c());var h=this._isGlobal?window:this;typeof h.windowResized!="function"||(h=h.windowResized(y))===void 0||h||y.preventDefault()},i.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",c())},i.default.prototype.width=0,i.default.prototype.height=0,i.default.prototype.fullscreen=function(y){if(i.default._validateParameters("fullscreen",arguments),y===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(y){if(y=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.default.prototype.pixelDensity=function(y){var h;return i.default._validateParameters("pixelDensity",arguments),typeof y=="number"?(y!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=y),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},i.default.prototype.displayDensity=function(){return window.devicePixelRatio},i.default.prototype.getURL=function(){return location.href},i.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(y){return y!==""})},i.default.prototype.getURLParams=function(){for(var y,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,d={};(y=h.exec(location.search))!=null;)y.index===h.lastIndex&&h.lastIndex++,d[y[1]]=y[2];return d},t=i.default,w.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(v=t("../main"))&&v.__esModule?v:{default:v};t("../internationalization");function p(o,a){a=a||console.log.bind(console),i||b(),i.some(function(u){var c;if(o.message&&o.message.match("\\W?".concat(u.name,"\\W"))!==null)return c=u.type==="function"?"".concat(u.name,"()"):u.name,a("Did you just try to use p5.js's ".concat(c," ").concat(u.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(l)),!0})}var i=null,b=null,l=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},i=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=function(){function o(u){return Object.getOwnPropertyNames(u).filter(function(c){return c[0]!=="_"&&!(c in a)&&(a[c]=!0)}).map(function(c){var y=typeof u[c]=="function"?"function":c===c.toUpperCase()?"constant":"variable";return{name:c,type:y}})}var a={};(i=[].concat(o(f.default.prototype),o(t("../constants")))).sort(function(u,c){return c.name.length-u.name.length})},v=(f.default.prototype._helpForMisusedAtTopLevelCode=p,document.readyState!=="complete"&&(window.addEventListener("error",p,!1),window.addEventListener("load",function(){window.removeEventListener("error",p,!1)})),f.default);w.default=v},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};t("../internationalization"),f.default._friendlyFileLoadError=function(){},t=f.default,w.default=t},{"../internationalization":281,"../main":283}],276:[function(t,j,w){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function p(a){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(u){return f(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":f(u)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=v(t("../main"));t("../internationalization"),b(t("../constants"));function l(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,l=function(){return a},a)}function b(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var u=l();if(u&&u.has(a))return u.get(a);var c,y,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&((y=d?Object.getOwnPropertyDescriptor(a,c):null)&&(y.get||y.set)?Object.defineProperty(h,c,y):h[c]=a[c]);return h.default=a,u&&u.set(a,h),h}function v(a){return a&&a.__esModule?a:{default:a}}i.default._fesCodeReader=function(){};var o=i.default;w.default=o},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,j,w){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function f(){var p=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,l=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(i)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(v){return!!v.match(i)},this).map(function(v){var o=(v=-1<v.indexOf("(eval ")?v.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):v).replace(/^\s+/,"").replace(/\(eval code/g,"("),a=o.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(o=a?o.replace(a[0],""):o).split(/\s+/).slice(1),a=this.extractLocation(a?a[1]:o.pop());return{functionName:o.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:v}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(v){return!v.match(l)},this).map(function(v){var o,a;return(v=-1<v.indexOf(" > eval")?v.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):v).indexOf("@")===-1&&v.indexOf(":")===-1?{functionName:v}:{functionName:(a=v.match(o=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(v.replace(o,"")))[0],lineNumber:a[1],columnNumber:a[2],source:v}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var v=/Line (\d+).*script (?:in )?(\S+)/i,o=b.message.split(`
`),a=[],u=2,c=o.length;u<c;u+=2){var y=v.exec(o[u]);y&&a.push({fileName:y[2],lineNumber:y[1],source:o[u]})}return a},parseOpera10:function(b){for(var v=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=b.stacktrace.split(`
`),a=[],u=0,c=o.length;u<c;u+=2){var y=v.exec(o[u]);y&&a.push({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:o[u]})}return a},parseOpera11:function(b){return b.stack.split(`
`).filter(function(v){return!!v.match(p)&&!v.match(/^Error created at/)},this).map(function(v){var o,u=v.split("@"),a=this.extractLocation(u.pop()),u=u.shift()||"";return{functionName:u.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(o=u.match(/\(([^)]*)\)/)?u.replace(/^[^(]+\(([^)]*)\)$/,"$1"):o)===void 0||o==="[arguments not available]"?void 0:o.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:v}},this)}}}t.default._getErrorStackParser=function(){return new f},t=t.default,w.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,j,w){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(p=t("../main"))&&p.__esModule?p:{default:p};(function(b){if(!(b&&b.__esModule)&&!(b===null||l(b)!=="object"&&typeof b!="function")){var v=i();if(v&&v.has(b))return v.get(b);var o,a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in b){var c;Object.prototype.hasOwnProperty.call(b,o)&&((c=u?Object.getOwnPropertyDescriptor(b,o):null)&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=b[o])}a.default=b,v&&v.set(b,a)}})(t("../constants")),t("../internationalization");function i(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,i=function(){return b},b)}function l(b){return(l=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(v){return f(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":f(v)})(b)}p.default._validateParameters=p.default._clearValidateParamsCache=function(){},t=p.default,w.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,j,w){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function p(b){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(v){return f(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":f(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=function(b){if(b&&b.__esModule)return b;if(b===null||p(b)!=="object"&&typeof b!="function")return{default:b};var v=l();if(v&&v.has(b))return v.get(b);var o,a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in b){var c;Object.prototype.hasOwnProperty.call(b,o)&&((c=u?Object.getOwnPropertyDescriptor(b,o):null)&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=b[o])}return a.default=b,v&&v.set(b,a),a}(t("./constants"));function l(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,l=function(){return b},b)}w.default={modeAdjust:function(b,v,o,a,u){var c;return u===i.CORNER?c={x:b,y:v,w:Math.abs(o),h:Math.abs(a)}:u===i.CORNERS?c={x:Math.min(b,o),y:Math.min(v,a),w:Math.abs(o-b),h:Math.abs(a-v)}:u===i.RADIUS?c={x:b-(o=Math.abs(o)),y:v-(a=Math.abs(a)),w:2*o,h:2*a}:u===i.CENTER&&(c={x:b-.5*(o=Math.abs(o)),y:v-.5*(a=Math.abs(a)),w:o,h:a}),c}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,j,w){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(p=t("../core/main"))&&p.__esModule?p:{default:p};t("./internationalization");var p=Promise.resolve();Promise.all([new Promise(function(i,l){document.readyState==="complete"?i():window.addEventListener("load",i,!1)}),p]).then(function(){var i;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(i=new Event("p5Ready"),window.dispatchEvent(i),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!f.default.instance&&new f.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,j,w){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.setTranslatorLanguage=w.currentTranslatorLanguage=w.availableTranslatorLanguages=w.initialize=w.translator=void 0;var f,p,i=b(t("i18next")),l=b(t("i18next-browser-languagedetector"));function b(a){return a&&a.__esModule?a:{default:a}}function v(a,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var o=function(){function a(y,h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(y,h)}var u,c;return u=a,(c=[{key:"fetchWithTimeout",value:function(y,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(y,h),new Promise(function(x,_){return setTimeout(function(){return _(new Error("timeout"))},d)})])}},{key:"init",value:function(y){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=y,this.options=h}},{key:"read",value:function(y,h,d){var x=this.options.loadPath;y===this.options.fallback?d(null,f[y][h]):p.includes(y)?(x=this.services.interpolator.interpolate(x,{lng:y,ns:h}),this.loadUrl(x,d)):d("Not found",!1)}},{key:"loadUrl",value:function(y,h){this.fetchWithTimeout(y).then(function(d){if(d.ok)return d.json();throw new Error("failed loading ".concat(y))},function(){throw new Error("failed loading ".concat(y))}).then(function(d){return h(null,d)}).catch(h)}}])&&v(u.prototype,c),a}();o.type="backend",w.translator=function(a,u){console.debug("p5.js translator called before translations were loaded"),i.default.t(a,u)},w.initialize=function(){return i.default.use(l.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(a){w.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},w.availableTranslatorLanguages=function(){return i.default.languages},w.currentTranslatorLanguage=function(a){return i.default.language},w.setTranslatorLanguage=function(a){return i.default.changeLanguage(a||void 0,function(u){return console.debug("Translations failed to load (".concat(u,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,w.default=t},{"./main":283}],283:[function(t,j,w){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function p(a){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(u){return f(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":f(u)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t("./shim");var i=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var u=l();if(u&&u.has(a))return u.get(a);var c,y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var d;Object.prototype.hasOwnProperty.call(a,c)&&((d=h?Object.getOwnPropertyDescriptor(a,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=a[c])}return y.default=a,u&&u.set(a,y),y}(t("./constants"));function l(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,l=function(){return a},a)}function b(a,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var v,o=function(){function a(y,x){var d=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=x,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var x=Object.getOwnPropertyNames(a.prototype._registeredMethods),_=!0,T=!1,k=void 0;try{for(var M,O=x[Symbol.iterator]();!(_=(M=O.next()).done);_=!0){var L=M.value;this._registeredMethods[L]=a.prototype._registeredMethods[L].slice()}}catch(K){T=!0,k=K}finally{try{_||O.return==null||O.return()}finally{if(T)throw k}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(K){var Z=this||a.prototype,Y=this._isGlobal?window:this;if(Z._registeredMethods.hasOwnProperty(K)){var Z=Z._registeredMethods[K],ee=!0,K=!1,ae=void 0;try{for(var A,B=Z[Symbol.iterator]();!(ee=(A=B.next()).done);ee=!0){var W=A.value;typeof W=="function"&&W.call(Y)}}catch(ne){K=!0,ae=ne}finally{try{ee||B.return==null||B.return()}finally{if(K)throw ae}}}},this._start=function(){d._userNode&&typeof d._userNode=="string"&&(d._userNode=document.getElementById(d._userNode));var K=d._isGlobal?window:d;if(K.preload){d.callRegisteredHooksFor("beforePreload");var Z,Y=document.getElementById(d._loadingScreenId),ee=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=d._loadingScreenId,(d._userNode||document.body).appendChild(Y)),d._preloadMethods);for(Z in ee){ee[Z]=ee[Z]||a;var ae=ee[Z];ae!==a.prototype&&ae!==a||(d._isGlobal&&(window[Z]=d._wrapPreload(d,Z)),ae=d),d._registeredPreloadMethods[Z]=ae[Z],ae[Z]=d._wrapPreload(ae,Z)}K.preload(),d._runIfPreloadsAreDone()}else d._setup(),d._recording||d._draw()},this._runIfPreloadsAreDone=function(){var K,Z=this._isGlobal?window:this;Z._preloadCount===0&&((K=document.getElementById(Z._loadingScreenId))&&K.parentNode.removeChild(K),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Z._setup(),this._recording||Z._draw()))},this._decrementPreload=function(){var K=this._isGlobal?window:this;K._preloadDone||typeof K.preload!="function"||(K._setProperty("_preloadCount",K._preloadCount-1),K._runIfPreloadsAreDone())},this._wrapPreload=function(K,Z){var Y=this;return function(){Y._incrementPreload();for(var ee=arguments.length,ae=new Array(ee),A=0;A<ee;A++)ae[A]=arguments[A];return Y._registeredPreloadMethods[Z].apply(K,ae)}},this._incrementPreload=function(){var K=this._isGlobal?window:this;K._preloadDone||K._setProperty("_preloadCount",K._preloadCount+1)},this._setup=function(){d.callRegisteredHooksFor("beforeSetup"),d.createCanvas(d._defaultCanvasSize.width,d._defaultCanvasSize.height,"p2d");var K=d._isGlobal?window:d;if(typeof K.preload=="function")for(var Z in d._preloadMethods)K[Z]=d._preloadMethods[Z][Z],K[Z]&&d&&(K[Z]=K[Z].bind(d));d._millisStart=window.performance.now(),K._preloadDone=!0,typeof K.setup=="function"&&K.setup();var Y=document.getElementsByTagName("canvas"),ee=!0,ae=!1,A=void 0;try{for(var B,W=Y[Symbol.iterator]();!(ee=(B=W.next()).done);ee=!0){var J=B.value;J.dataset.hidden==="true"&&(J.style.visibility="",delete J.dataset.hidden)}}catch(ie){ae=!0,A=ie}finally{try{ee||W.return==null||W.return()}finally{if(ae)throw A}}d._lastTargetFrameTime=window.performance.now(),d._lastRealFrameTime=window.performance.now(),d._setupDone=!0,(d._accessibleOutputs.grid||d._accessibleOutputs.text)&&d._updateAccsOutput(),d.callRegisteredHooksFor("afterSetup")},this._draw=function(Z){var Z=Z||window.performance.now(),Y=Z-d._lastTargetFrameTime,ee=1e3/d._targetFrameRate;(!d._loop||ee-5<=Y)&&(d.deltaTime=Z-d._lastRealFrameTime,d._setProperty("deltaTime",d.deltaTime),d._frameRate=1e3/d.deltaTime,d.redraw(),d._lastTargetFrameTime=Math.max(d._lastTargetFrameTime+ee,Z),d._lastRealFrameTime=Z,d._updateMouseCoords!==void 0&&(d._updateMouseCoords(),d._setProperty("movedX",0),d._setProperty("movedY",0))),d._loop&&(d._requestAnimId=window.requestAnimationFrame(d._draw))},this._setProperty=function(K,Z){d[K]=Z,d._isGlobal&&(window[K]=Z)},this.remove=function(){d._startListener&&window.removeEventListener("load",d._startListener,!1);var K=document.getElementById(d._loadingScreenId);if(K&&(K.parentNode.removeChild(K),d._incrementPreload()),d._curElement){for(var Z in d._loop=!1,d._requestAnimId&&window.cancelAnimationFrame(d._requestAnimId),d._events)window.removeEventListener(Z,d._events[Z]);var Y=!0,K=!1,ee=void 0;try{for(var ae,A=d._elements[Symbol.iterator]();!(Y=(ae=A.next()).done);Y=!0){var B,W=ae.value;for(B in W.elt&&W.elt.parentNode&&W.elt.parentNode.removeChild(W.elt),W._events)W.elt.removeEventListener(B,W._events[B])}}catch(ge){K=!0,ee=ge}finally{try{Y||A.return==null||A.return()}finally{if(K)throw ee}}var J=d;d._registeredMethods.remove.forEach(function(ge){ge!==void 0&&ge.call(J)})}if(d._isGlobal){for(var ie in a.prototype)try{delete window[ie]}catch{window[ie]=void 0}for(var ne in d)if(d.hasOwnProperty(ne))try{delete window[ne]}catch{window[ne]=void 0}a.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(K){K!==void 0&&K.call(this)},this),this._setupPromisePreloads();var F,D,V=this._createFriendlyGlobalFunctionBinder();if(y)y(this),a._checkForUserDefinedFunctions(this);else{for(var P in this._isGlobal=!0,a.instance=this,a.prototype)typeof a.prototype[P]=="function"?(F=P.substring(2),this._events.hasOwnProperty(F)||(Math.hasOwnProperty(P)&&Math[P]===a.prototype[P]?V(P,a.prototype[P]):V(P,a.prototype[P].bind(this)))):V(P,a.prototype[P]);for(var G in this)this.hasOwnProperty(G)&&V(G,this[G])}for(D in this._events){var z=this["_on".concat(D)];z&&(z=z.bind(this),window.addEventListener(D,z,{passive:!1}),this._events[D]=z)}function q(){d._setProperty("focused",!0)}function Q(){d._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",Q),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",Q)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var u,c;return u=a,(c=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(y,h){a.prototype._preloadMethods.hasOwnProperty(y)||(a.prototype._preloadMethods[y]=h)}},{key:"registerMethod",value:function(y,h){var d=this||a.prototype;d._registeredMethods.hasOwnProperty(y)||(d._registeredMethods[y]=[]),d._registeredMethods[y].push(h)}},{key:"unregisterMethod",value:function(y,h){var d=this||a.prototype;if(d._registeredMethods.hasOwnProperty(y)){for(var x=d._registeredMethods[y],_=[],T=0;T<x.length;T++)x[T]===h&&_.push(T);for(var k=_.length-1;0<=k;k--)x.splice(_[k],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=y.globalObject||window;return y.log||console.log.bind(console),function(d,x){a.disableFriendlyErrors,h[d]=x}}}])&&b(u.prototype,c),a}();for(v in o.instance=null,o.disableFriendlyErrors=!1,i)o.prototype[v]=i[v];o.VERSION=i.VERSION,o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={},w.default=o},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function p(i,l){for(var b=0;b<l.length;b++){var v=l[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}f.default.Element=function(){function i(o,a){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.elt=o,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var l,b,v;return l=i,v=[{key:"_adjustListener",value:function(o,a,u){return a===!1?f.default.Element._detachListener(o,u):f.default.Element._attachListener(o,a,u),this}},{key:"_attachListener",value:function(o,a,u){u._events[o]&&f.default.Element._detachListener(o,u),a=a.bind(u),u.elt.addEventListener(o,a,!1),u._events[o]=a}},{key:"_detachListener",value:function(o,a){var u=a._events[o];a.elt.removeEventListener(o,u,!1),a._events[o]=null}}],(b=[{key:"parent",value:function(o){return o===void 0?this.elt.parentNode:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof f.default.Element&&(o=o.elt),o.appendChild(this.elt),this)}},{key:"id",value:function(o){return o===void 0?this.elt.id:(this.elt.id=o,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(o){return o===void 0?this.elt.className:(this.elt.className=o,this)}},{key:"mousePressed",value:function(o){return f.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),o.call(this,a)},this),this}},{key:"doubleClicked",value:function(o){return f.default.Element._adjustListener("dblclick",o,this),this}},{key:"mouseWheel",value:function(o){return f.default.Element._adjustListener("wheel",o,this),this}},{key:"mouseReleased",value:function(o){return f.default.Element._adjustListener("mouseup",o,this),this}},{key:"mouseClicked",value:function(o){return f.default.Element._adjustListener("click",o,this),this}},{key:"mouseMoved",value:function(o){return f.default.Element._adjustListener("mousemove",o,this),this}},{key:"mouseOver",value:function(o){return f.default.Element._adjustListener("mouseover",o,this),this}},{key:"mouseOut",value:function(o){return f.default.Element._adjustListener("mouseout",o,this),this}},{key:"touchStarted",value:function(o){return f.default.Element._adjustListener("touchstart",o,this),this}},{key:"touchMoved",value:function(o){return f.default.Element._adjustListener("touchmove",o,this),this}},{key:"touchEnded",value:function(o){return f.default.Element._adjustListener("touchend",o,this),this}},{key:"dragOver",value:function(o){return f.default.Element._adjustListener("dragover",o,this),this}},{key:"dragLeave",value:function(o){return f.default.Element._adjustListener("dragleave",o,this),this}},{key:"_setProperty",value:function(o,a){this[o]=a}}])&&p(l.prototype,b),v&&p(l,v),i}(),t=f.default.Element,w.default=t},{"./main":283}],285:[function(t,j,w){function f(d){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(d)}function p(d){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(x){return f(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(h=t("./main"))&&h.__esModule?h:{default:h},l=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var x=b();if(x&&x.has(d))return x.get(d);var _,T={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in d){var M;Object.prototype.hasOwnProperty.call(d,_)&&((M=k?Object.getOwnPropertyDescriptor(d,_):null)&&(M.get||M.set)?Object.defineProperty(T,_,M):T[_]=d[_])}return T.default=d,x&&x.set(d,T),T}(t("./constants"));function b(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,b=function(){return d},d)}function v(d,x){for(var _=0;_<x.length;_++){var T=x[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}function o(d,x){return(o=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(d,x)}function a(d){return function(){var x,_=y(d);return u(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=y(this).constructor,Reflect.construct(_,arguments,x)):_.apply(this,arguments))}}function u(d,x){return!x||p(x)!=="object"&&typeof x!="function"?c(d):x}function c(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function y(d){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(d)}i.default.Graphics=function(d){var x=T;if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(d&&d.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),d&&o(x,d);var _=a(T);function T(k,M,G,L,F){var D;if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");P=F||document.createElement("canvas"),(D=_.call(this,P,L)).canvas=P;var V,P=G||l.P2D,G=L._userNode||document.body;for(V in F||G.appendChild(D.canvas),i.default.prototype)D[V]||(typeof i.default.prototype[V]=="function"?D[V]=i.default.prototype[V].bind(c(D)):D[V]=i.default.prototype[V]);return i.default.prototype._initializeInstanceVariables.apply(c(D)),D.width=k,D.height=M,D._pixelDensity=L._pixelDensity,P===l.WEBGL?(D._renderer=new i.default.RendererGL(D.canvas,c(D),!1),k=(F=D._renderer._adjustDimensions(k,M)).adjustedWidth,M=F.adjustedHeight):D._renderer=new i.default.Renderer2D(D.canvas,c(D),!1),L._elements.push(c(D)),Object.defineProperty(c(D),"deltaTime",{get:function(){return this._pInst.deltaTime}}),D._renderer.resize(k,M),D._renderer._applyDefaults(),u(D,c(D))}return x=T,(d=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var k,M=this._pInst._elements.indexOf(this);for(k in M!==-1&&this._pInst._elements.splice(M,1),this._events)this.elt.removeEventListener(k,this._events[k]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(k){return new i.default.Framebuffer(this,k)}}])&&v(x.prototype,d),T}(i.default.Element);var h=i.default.Graphics;w.default=h},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,j,w){function f(d){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(y=t("./main"))&&y.__esModule?y:{default:y},i=function(d){if(d&&d.__esModule)return d;if(d===null||b(d)!=="object"&&typeof d!="function")return{default:d};var x=l();if(x&&x.has(d))return x.get(d);var _,T={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in d){var M;Object.prototype.hasOwnProperty.call(d,_)&&((M=k?Object.getOwnPropertyDescriptor(d,_):null)&&(M.get||M.set)?Object.defineProperty(T,_,M):T[_]=d[_])}return T.default=d,x&&x.set(d,T),T}(t("../core/constants"));function l(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,l=function(){return d},d)}function b(d){return(b=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(x){return f(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(d)}function v(d,x){for(var _=0;_<x.length;_++){var T=x[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}function o(d,x){return(o=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(d,x)}function a(d){return function(){var x,_,T=c(d);return x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=c(this).constructor,Reflect.construct(T,arguments,x)):T.apply(this,arguments),T=this,!(_=x)||b(_)!=="object"&&typeof _!="function"?u(T):_}}function u(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function c(d){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(d)}var y=function(d){var x=T;if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(d&&d.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),d&&o(x,d);var _=a(T);function T(k,M,O){var L;if(this instanceof T)return(L=_.call(this,k,M)).canvas=k,L._pixelsState=M,O?(L._isMainCanvas=!0,L._pInst._setProperty("_curElement",u(L)),L._pInst._setProperty("canvas",L.canvas),L._pInst._setProperty("width",L.width),L._pInst._setProperty("height",L.height)):(L.canvas.style.display="none",L._styles=[]),L._clipping=!1,L._clipInvert=!1,L._textSize=12,L._textLeading=15,L._textFont="sans-serif",L._textStyle=i.NORMAL,L._textAscent=null,L._textDescent=null,L._textAlign=i.LEFT,L._textBaseline=i.BASELINE,L._textWrap=i.WORD,L._rectMode=i.CORNER,L._ellipseMode=i.CENTER,L._curveTightness=0,L._imageMode=i.CORNER,L._tint=null,L._doStroke=!0,L._doFill=!0,L._strokeSet=!1,L._fillSet=!1,L._leadingSet=!1,L._pushPopDepth=0,L;throw new TypeError("Cannot call a class as a function")}return x=T,(d=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(k){this._pushPopDepth--,k.properties&&Object.assign(this,k.properties)}},{key:"beginClip",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=k.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(k,M){this.width=k,this.height=M,this.elt.width=k*this._pInst._pixelDensity,this.elt.height=M*this._pInst._pixelDensity,this.elt.style.width="".concat(k,"px"),this.elt.style.height="".concat(M,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(k,M,O,L){var F=this._pixelsState,D=F._pixelDensity,V=this.canvas;if(k===void 0&&M===void 0)k=M=0,O=F.width,L=F.height;else if(k*=D,M*=D,O===void 0&&L===void 0)return k<0||M<0||k>=V.width||M>=V.height?[0,0,0,0]:this._getPixel(k,M);return F=new p.default.Image(O*D,L*D),F.pixelDensity(D),F.canvas.getContext("2d").drawImage(V,k,M,O*D,L*D,0,0,O*D,L*D),F}},{key:"textLeading",value:function(k){return typeof k=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",k),this._pInst):this._textLeading}},{key:"textStyle",value:function(k){return k?(k!==i.NORMAL&&k!==i.ITALIC&&k!==i.BOLD&&k!==i.BOLDITALIC||this._setProperty("_textStyle",k),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(k,M){return k!==void 0?(this._setProperty("_textAlign",k),M!==void 0&&this._setProperty("_textBaseline",M),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(k){return this._setProperty("_textWrap",k),this._textWrap}},{key:"text",value:function(k,M,O,L,F){var D,V,P,G,z=this._pInst,q=this._textWrap,Q=Number.MAX_VALUE,K=O;if((this._doFill||this._doStroke)&&k!==void 0){if(D=(k=(k=typeof k!="string"?k.toString():k).replace(/(\t)/g,"  ")).split(`
`),L!==void 0){switch(this._rectMode===i.CENTER&&(M-=L/2),this._textAlign){case i.CENTER:M+=L/2;break;case i.RIGHT:M+=L}if(F!==void 0){this._rectMode===i.CENTER&&(O-=F/2,K-=F/2);var k=O,Z=z.textAscent();switch(this._textBaseline){case i.BOTTOM:G=O+F,O=Math.max(G,O),K+=Z;break;case i.CENTER:G=O+F/2,O=Math.max(G,O),K+=Z/2}Q=O+F-Z,this._textBaseline===i.CENTER&&(Q=k+F-Z/2)}else this._textBaseline!==i.BOTTOM&&this._textBaseline!==i.CENTER||(K=O-(k=z.textSize()*this._textLeading)/2,Q=O+k/2);if(q===i.WORD){for(var Y=[],ee=0;ee<D.length;ee++){for(var ae="",A=D[ee].split(" "),B=0;B<A.length;B++)V="".concat(ae+A[B])+" ",ae=L<(P=this.textWidth(V))&&0<ae.length?(Y.push(ae),"".concat(A[B])+" "):V;Y.push(ae)}var W=0;this._textBaseline===i.CENTER?W=(Y.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(W=(Y.length-1)*z.textLeading());for(var J=0;J<D.length;J++){ae="",A=D[J].split(" ");for(var ie=0;ie<A.length;ie++)V="".concat(ae+A[ie])+" ",L<(P=this.textWidth(V))&&0<ae.length?(this._renderText(z,ae.trim(),M,O-W,Q,K),ae="".concat(A[ie])+" ",O+=z.textLeading()):ae=V;this._renderText(z,ae.trim(),M,O-W,Q,K),O+=z.textLeading()}}else{for(var ne=[],pe=0;pe<D.length;pe++)for(var ge=D[pe].split(ae=""),he=0;he<ge.length;he++)V="".concat(ae+ge[he]),(P=this.textWidth(V))<=L?ae+=ge[he]:L<P&&0<ae.length&&(ne.push(ae),ae="".concat(ge[he]));ne.push(ae);var be=0;this._textBaseline===i.CENTER?be=(ne.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(be=(ne.length-1)*z.textLeading());for(var _e=0;_e<D.length;_e++){ge=D[_e].split(ae="");for(var le=0;le<ge.length;le++)V="".concat(ae+ge[le]),(P=this.textWidth(V))<=L?ae+=ge[le]:L<P&&0<ae.length&&(this._renderText(z,ae.trim(),M,O-be,Q,K),O+=z.textLeading(),ae="".concat(ge[le]))}this._renderText(z,ae.trim(),M,O-be,Q,K),O+=z.textLeading()}}else{var de=0;this._textBaseline===i.CENTER?de=(D.length-1)*z.textLeading()/2:this._textBaseline===i.BOTTOM&&(de=(D.length-1)*z.textLeading());for(var xe=0;xe<D.length;xe++)this._renderText(z,D[xe],M,O-de,Q,K-de),O+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return b(k)==="object"&&k.font&&k.font.supported}},{key:"_updateTextMetrics",value:function(){var k,M,O,L,F,D;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((k=document.createElement("span")).style.fontFamily=this._textFont,k.style.fontSize="".concat(this._textSize,"px"),k.innerHTML="ABCjgq|",(D=document.createElement("div")).style.display="inline-block",D.style.width="1px",D.style.height="0px",L=((M=document.createElement("div")).appendChild(k),M.appendChild(D),M.style.height="0px",M.style.overflow="hidden",document.body.appendChild(M),D.style.verticalAlign="baseline",h(D)),F=h(k),O=L[1]-F[1],L=(D.style.verticalAlign="bottom",h(D)),F=h(k),D=L[1]-F[1]-O,document.body.removeChild(M),this._setProperty("_textAscent",O),this._setProperty("_textDescent",D)),this}}])&&v(x.prototype,d),T}(p.default.Element);function h(d){var x=0,_=0;if(d.offsetParent)for(;x+=d.offsetLeft,_+=d.offsetTop,d=d.offsetParent;);else x+=d.offsetLeft,_+=d.offsetTop;return[x,_]}y.prototype.textSize=function(d){return typeof d=="number"?(this._setProperty("_textSize",d),this._leadingSet||this._setProperty("_textLeading",d*i._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},p.default.Renderer=y,t=p.default.Renderer,w.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(d,j,w){function f(x){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function p(x){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(x)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.get-prototype-of"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.reflect.construct"),d("core-js/modules/es.reflect.get"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.get-prototype-of"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(h=d("./main"))&&h.__esModule?h:{default:h},l=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var _=b();if(_&&_.has(x))return _.get(x);var T,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in x){var O;Object.prototype.hasOwnProperty.call(x,T)&&((O=M?Object.getOwnPropertyDescriptor(x,T):null)&&(O.get||O.set)?Object.defineProperty(k,T,O):k[T]=x[T])}return k.default=x,_&&_.set(x,k),k}(d("./constants"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}function v(x,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}function o(x,_,T){return(o=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(L,M,O){var L=function(F,D){for(;!Object.prototype.hasOwnProperty.call(F,D)&&(F=c(F))!==null;);return F}(L,M);if(L)return(L=Object.getOwnPropertyDescriptor(L,M)).get?L.get.call(O):L.value})(x,_,T||x)}function a(x,_){return(a=Object.setPrototypeOf||function(T,k){return T.__proto__=k,T})(x,_)}function u(x){return function(){var _,T=c(x),T=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=c(this).constructor,Reflect.construct(T,arguments,_)):T.apply(this,arguments),this);if(!_||p(_)!=="object"&&typeof _!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function c(x){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(x)}d("./p5.Renderer");var y="rgba(0,0,0,0)",h=function(x){var _=k;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&a(_,x);var T=u(k);function k(M,O,L){if(this instanceof k)return(M=T.call(this,M,O,L)).drawingContext=M.canvas.getContext("2d"),M._pInst._setProperty("drawingContext",M.drawingContext),M;throw new TypeError("Cannot call a class as a function")}return _=k,(x=[{key:"getFilterGraphicsLayer",value:function(){var M;return this.filterGraphicsLayer||(M=(this._pInst instanceof i.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new i.default.Graphics(this.width,this.height,l.WEBGL,M)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=l.BLEND,this._setFill(l._DEFAULT_FILL),this._setStroke(l._DEFAULT_STROKE),this.drawingContext.lineCap=l.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(M,O){o(c(k.prototype),"resize",this).call(this,M,O),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var M,O;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(M=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(M,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(M=this._getFill(),O=(O=this._pInst).color.apply(O,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(O.levels),O=O.toString(),this._setFill(O),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(M),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setFill(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",M.levels)}},{key:"stroke",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setStroke(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",M.levels)}},{key:"erase",value:function(M,O){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,M).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,O).toString(),this.drawingContext.strokeStyle=M,O=this._cachedBlendMode,this.blendMode(l.REMOVE),this._cachedBlendMode=O,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(o(c(k.prototype),"beginClip",this).call(this,M),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.strokeStyle=M,this._cachedBlendMode);this.blendMode(l.BLEND),this._cachedBlendMode=M,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),o(c(k.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(M,O,L,F,D,V,P,G,z){M.gifProperties&&M._animateGif(this._pInst);try{i.default.MediaElement&&M instanceof i.default.MediaElement&&M._ensureCanvas();var q=(q=this._tint&&M.canvas?this._getTintedImageCanvas(M):q)||M.canvas||M.elt,Q=1;M.width&&0<M.width&&(Q=q.width/M.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(q,Q*O,Q*L,Q*F,Q*D,V,P,G,z),this._isErasing&&this._pInst.erase()}catch(K){if(K.name!=="NS_ERROR_NOT_AVAILABLE")throw K}}},{key:"_getTintedImageCanvas",value:function(M){if(!M.canvas)return M;M.tintCanvas||(M.tintCanvas=document.createElement("canvas")),M.tintCanvas.width!==M.canvas.width&&(M.tintCanvas.width=M.canvas.width),M.tintCanvas.height!==M.canvas.height&&(M.tintCanvas.height=M.canvas.height);var O=M.tintCanvas.getContext("2d");return O.save(),O.clearRect(0,0,M.canvas.width,M.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(O.drawImage(M.canvas,0,0),O.globalCompositeOperation="luminosity",O.drawImage(M.canvas,0,0),O.globalCompositeOperation="color",O.drawImage(M.canvas,0,0),O.globalCompositeOperation="multiply",O.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),O.fillRect(0,0,M.canvas.width,M.canvas.height),O.globalCompositeOperation="destination-in"),O.globalAlpha=this._tint[3]/255,O.drawImage(M.canvas,0,0),O.restore(),M.tintCanvas}},{key:"blendMode",value:function(M){if(M===l.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(M!==l.BLEND&&M!==l.REMOVE&&M!==l.DARKEST&&M!==l.LIGHTEST&&M!==l.DIFFERENCE&&M!==l.MULTIPLY&&M!==l.EXCLUSION&&M!==l.SCREEN&&M!==l.REPLACE&&M!==l.OVERLAY&&M!==l.HARD_LIGHT&&M!==l.SOFT_LIGHT&&M!==l.DODGE&&M!==l.BURN&&M!==l.ADD)throw new Error("Mode ".concat(M," not recognized."));this._cachedBlendMode=M,this.drawingContext.globalCompositeOperation=M}}},{key:"blend",value:function(){for(var M=this.drawingContext.globalCompositeOperation,O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];var D=L[L.length-1],V=Array.prototype.slice.call(L,0,L.length-1);this.drawingContext.globalCompositeOperation=D,i.default.prototype.copy.apply(this,V),this.drawingContext.globalCompositeOperation=M}},{key:"_getPixel",value:function(M,O){return M=this.drawingContext.getImageData(M,O,1,1).data,[M[0],M[1],M[2],M[3]]}},{key:"loadPixels",value:function(){var M=this._pixelsState,O=M._pixelDensity,L=this.width*O,O=this.height*O,L=this.drawingContext.getImageData(0,0,L,O);M._setProperty("imageData",L),M._setProperty("pixels",L.data)}},{key:"set",value:function(M,O,L){M=Math.floor(M),O=Math.floor(O);var F=this._pixelsState;if(L instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(F._pixelDensity,F._pixelDensity),this.drawingContext.clearRect(M,O,L.width,L.height),this.drawingContext.drawImage(L.canvas,M,O),this.drawingContext.restore();else{var D=0,V=0,P=0,G=0,z=4*(O*F._pixelDensity*(this.width*F._pixelDensity)+M*F._pixelDensity);if(F.imageData||F.loadPixels(),typeof L=="number")z<F.pixels.length&&(P=V=D=L,G=255);else if(Array.isArray(L)){if(L.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<F.pixels.length&&(D=L[0],V=L[1],P=L[2],G=L[3])}else L instanceof i.default.Color&&z<F.pixels.length&&(D=L.levels[0],V=L.levels[1],P=L.levels[2],G=L.levels[3]);for(var q=0;q<F._pixelDensity;q++)for(var Q=0;Q<F._pixelDensity;Q++)z=4*((O*F._pixelDensity+Q)*this.width*F._pixelDensity+(M*F._pixelDensity+q)),F.pixels[z]=D,F.pixels[z+1]=V,F.pixels[z+2]=P,F.pixels[z+3]=G}}},{key:"updatePixels",value:function(M,O,L,F){var D=this._pixelsState,V=D._pixelDensity;M===void 0&&O===void 0&&L===void 0&&F===void 0&&(O=M=0,L=this.width,F=this.height),M*=V,O*=V,L*=V,F*=V,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=D.imageData),this.drawingContext.putImageData(D.imageData,0,0,M,O,L,F)}},{key:"arc",value:function(z,q,Q,K,D,V,P){var G=this.drawingContext,z=z+Q/2,q=q+K/2,Q=Q/2,K=K/2,Z=!(P===l.CHORD||P===l.OPEN||(V-D)%l.TWO_PI==0);return this._doFill&&(this._clipping||G.beginPath(),G.ellipse(z,q,Q,K,0,D,V),Z&&G.lineTo(z,q),G.closePath(),this._clipping||G.fill()),this._doStroke&&(this._clipping||G.beginPath(),G.ellipse(z,q,Q,K,0,D,V),P===l.PIE&&Z&&G.lineTo(z,q),P!==l.PIE&&P!==l.CHORD||G.closePath(),this._clipping||G.stroke()),this}},{key:"ellipse",value:function(G){var O=this.drawingContext,L=this._doFill,F=this._doStroke,D=parseFloat(G[0]),V=parseFloat(G[1]),P=parseFloat(G[2]),G=parseFloat(G[3]);if(L&&!F){if(this._getFill()===y)return this}else if(!L&&F&&this._getStroke()===y)return this;D+=P/2,V+=G/2,P/=2,G/=2,this._clipping||O.beginPath(),O.ellipse(D,V,P,G,0,0,2*Math.PI),O.closePath(),!this._clipping&&L&&O.fill(),!this._clipping&&F&&O.stroke()}},{key:"line",value:function(M,O,L,F){var D=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(this._clipping||D.beginPath(),D.moveTo(M,O),D.lineTo(L,F),D.stroke()),this}},{key:"point",value:function(M,O){var L,F,D=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(L=this._getStroke(),F=this._getFill(),this._clipping||this._setFill(L),this._clipping||D.beginPath(),D.arc(M,O,D.lineWidth/2,0,l.TWO_PI,!1),void(this._clipping||(D.fill(),this._setFill(F))))}},{key:"quad",value:function(M,O,L,F,D,V,P,G){var z=this.drawingContext,q=this._doFill,Q=this._doStroke;if(q&&!Q){if(this._getFill()===y)return this}else if(!q&&Q&&this._getStroke()===y)return this;return this._clipping||z.beginPath(),z.moveTo(M,O),z.lineTo(L,F),z.lineTo(D,V),z.lineTo(P,G),z.closePath(),!this._clipping&&q&&z.fill(),!this._clipping&&Q&&z.stroke(),this}},{key:"rect",value:function(Q){var O,L,F=Q[0],D=Q[1],V=Q[2],P=Q[3],G=Q[4],z=Q[5],q=Q[6],Q=Q[7],K=this.drawingContext,Z=this._doFill,Y=this._doStroke;if(Z&&!Y){if(this._getFill()===y)return this}else if(!Z&&Y&&this._getStroke()===y)return this;return this._clipping||K.beginPath(),G===void 0?K.rect(F,D,V,P):(z===void 0&&(z=G),q===void 0&&(q=z),Q===void 0&&(Q=q),Y=(Z=Math.abs(V))/2,L=(O=Math.abs(P))/2,K.roundRect(F,D,V,P,[G=O<2*(G=Z<2*G?Y:G)?L:G,z=O<2*(z=Z<2*z?Y:z)?L:z,q=O<2*(q=Z<2*q?Y:q)?L:q,Q=O<2*(Q=Z<2*Q?Y:Q)?L:Q])),!this._clipping&&this._doFill&&K.fill(),!this._clipping&&this._doStroke&&K.stroke(),this}},{key:"triangle",value:function(q){var O=this.drawingContext,L=this._doFill,F=this._doStroke,D=q[0],V=q[1],P=q[2],G=q[3],z=q[4],q=q[5];if(L&&!F){if(this._getFill()===y)return this}else if(!L&&F&&this._getStroke()===y)return this;this._clipping||O.beginPath(),O.moveTo(D,V),O.lineTo(P,G),O.lineTo(z,q),O.closePath(),!this._clipping&&L&&O.fill(),!this._clipping&&F&&O.stroke()}},{key:"endShape",value:function(M,O,L,F,D,V,P){if(O.length!==0&&(this._doStroke||this._doFill)){var G,z,q,Q=M===l.CLOSE,K=(Q&&!V&&O.push(O[0]),O.length);if(L&&P===null){if(3<K){var Z=[],Y=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(O[1][0],O[1][1]),z=1;z+2<K;z++)G=O[z],Z[0]=[G[0],G[1]],Z[1]=[G[0]+(Y*O[z+1][0]-Y*O[z-1][0])/6,G[1]+(Y*O[z+1][1]-Y*O[z-1][1])/6],Z[2]=[O[z+1][0]+(Y*O[z][0]-Y*O[z+2][0])/6,O[z+1][1]+(Y*O[z][1]-Y*O[z+2][1])/6],Z[3]=[O[z+1][0],O[z+1][1]],this.drawingContext.bezierCurveTo(Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[3][0],Z[3][1]);Q&&this.drawingContext.lineTo(O[z+1][0],O[z+1][1]),this._doFillStrokeClose(Q)}}else if(F&&P===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<K;z++)O[z].isVert?O[z].moveTo?this.drawingContext.moveTo(O[z][0],O[z][1]):this.drawingContext.lineTo(O[z][0],O[z][1]):this.drawingContext.bezierCurveTo(O[z][0],O[z][1],O[z][2],O[z][3],O[z][4],O[z][5]);this._doFillStrokeClose(Q)}else if(D&&P===null){for(this._clipping||this.drawingContext.beginPath(),z=0;z<K;z++)O[z].isVert?O[z].moveTo?this.drawingContext.moveTo(O[z][0],O[z][1]):this.drawingContext.lineTo(O[z][0],O[z][1]):this.drawingContext.quadraticCurveTo(O[z][0],O[z][1],O[z][2],O[z][3]);this._doFillStrokeClose(Q)}else if(P===l.POINTS)for(z=0;z<K;z++)G=O[z],this._doStroke&&this._pInst.stroke(G[6]),this._pInst.point(G[0],G[1]);else if(P===l.LINES)for(z=0;z+1<K;z+=2)G=O[z],this._doStroke&&this._pInst.stroke(O[z+1][6]),this._pInst.line(G[0],G[1],O[z+1][0],O[z+1][1]);else if(P===l.TRIANGLES)for(z=0;z+2<K;z+=3)G=O[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(O[z+1][0],O[z+1][1]),this.drawingContext.lineTo(O[z+2][0],O[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(O[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(O[z+2][6]),this.drawingContext.stroke());else if(P===l.TRIANGLE_STRIP)for(z=0;z+1<K;z++)G=O[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(O[z+1][0],O[z+1][1]),this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(O[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(O[z+1][5]),z+2<K&&(this.drawingContext.lineTo(O[z+2][0],O[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(O[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(O[z+2][5])),this._doFillStrokeClose(Q);else if(P===l.TRIANGLE_FAN){if(2<K){for(this._clipping||this.drawingContext.beginPath(),z=2;z<K;z++)G=O[z],this.drawingContext.moveTo(O[0][0],O[0][1]),this.drawingContext.lineTo(O[z-1][0],O[z-1][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(O[0][0],O[0][1]),z<K-1&&(this._doFill&&G[5]!==O[z+1][5]||this._doStroke&&G[6]!==O[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(G[5]),this.drawingContext.fill(),this._pInst.fill(O[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(G[6]),this.drawingContext.stroke(),this._pInst.stroke(O[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(Q)}}else if(P===l.QUADS)for(z=0;z+3<K;z+=4){for(G=O[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),q=1;q<4;q++)this.drawingContext.lineTo(O[z+q][0],O[z+q][1]);this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doFill&&this._pInst.fill(O[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(O[z+3][6]),this._doFillStrokeClose(Q)}else if(P===l.QUAD_STRIP){if(3<K)for(z=0;z+1<K;z+=2)G=O[z],this._clipping||this.drawingContext.beginPath(),z+3<K?(this.drawingContext.moveTo(O[z+2][0],O[z+2][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(O[z+1][0],O[z+1][1]),this.drawingContext.lineTo(O[z+3][0],O[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(O[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(O[z+3][6])):(this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(O[z+1][0],O[z+1][1])),this._doFillStrokeClose(Q)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0][0],O[0][1]),z=1;z<K;z++)(G=O[z]).isVert&&(G.moveTo?(Q&&this.drawingContext.closePath(),this.drawingContext.moveTo(G[0],G[1])):this.drawingContext.lineTo(G[0],G[1]));this._doFillStrokeClose(Q)}V=D=F=L=!1,Q&&O.pop()}return this}},{key:"strokeCap",value:function(M){return M!==l.ROUND&&M!==l.SQUARE&&M!==l.PROJECT||(this.drawingContext.lineCap=M),this}},{key:"strokeJoin",value:function(M){return M!==l.ROUND&&M!==l.BEVEL&&M!==l.MITER||(this.drawingContext.lineJoin=M),this}},{key:"strokeWeight",value:function(M){return this.drawingContext.lineWidth=M===void 0||M===0?1e-4:M,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(M){M!==this._cachedFillStyle&&(this.drawingContext.fillStyle=M,this._cachedFillStyle=M)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(M){M!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=M,this._cachedStrokeStyle=M)}},{key:"bezier",value:function(M,O,L,F,D,V,P,G){return this._pInst.beginShape(),this._pInst.vertex(M,O),this._pInst.bezierVertex(L,F,D,V,P,G),this._pInst.endShape(),this}},{key:"curve",value:function(M,O,L,F,D,V,P,G){return this._pInst.beginShape(),this._pInst.curveVertex(M,O),this._pInst.curveVertex(L,F),this._pInst.curveVertex(D,V),this._pInst.curveVertex(P,G),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(M){M&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(M,O,L,F,D,V){this.drawingContext.transform(M,O,L,F,D,V)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(M){this.drawingContext.rotate(M)}},{key:"scale",value:function(M,O){return this.drawingContext.scale(M,O),this}},{key:"translate",value:function(M,O){return M instanceof i.default.Vector&&(O=M.y,M=M.x),this.drawingContext.translate(M,O),this}},{key:"_renderText",value:function(M,O,L,F,D,V){if(!(F<V||D<=F))return M.push(),this._isOpenType()?this._textFont._renderPath(O,L,F,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(O,L,F),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(l._DEFAULT_TEXT_FILL),this.drawingContext.fillText(O,L,F))),M.pop(),M}},{key:"textWidth",value:function(M){return this._isOpenType()?this._textFont._textWidth(M,this._textSize):this.drawingContext.measureText(M).width}},{key:"_applyTextProperties",value:function(){var M=this._pInst,O=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),O=this._textFont,this._isOpenType()&&(O=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),O||"sans-serif");return/\s/.exec(O)&&(O='"'.concat(O,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(O),this.drawingContext.textAlign=this._textAlign,this._textBaseline===l.CENTER?this.drawingContext.textBaseline=l._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,M}},{key:"push",value:function(){return this.drawingContext.save(),o(c(k.prototype),"push",this).call(this)}},{key:"pop",value:function(M){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o(c(k.prototype),"pop",this).call(this,M)}}])&&v(_.prototype,x),k}(i.default.Renderer),d=(h.prototype.text=function(x,_,T,L,M){L!==void 0&&this.drawingContext.textBaseline===l.BASELINE&&(O=!0,this.drawingContext.textBaseline=l.TOP);var O,L=i.default.Renderer.prototype.text.apply(this,arguments);return O&&(this.drawingContext.textBaseline=l.BASELINE),L},i.default.Renderer2D=h,i.default.Renderer2D);w.default=d},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("./main"))&&t.__esModule?t:{default:t};f.default.prototype._promisePreloads=[];function p(){return{}}var i=!(f.default.prototype.registerPromisePreload=function(l){f.default.prototype._promisePreloads.push(l)});f.default.prototype._setupPromisePreloads=function(){var l=!0,b=!1,v=void 0;try{for(var o,a=this._promisePreloads[Symbol.iterator]();!(l=(o=a.next()).done);l=!0){var u=o.value,c=this,y=u.method,h=u.addCallbacks,d=u.legacyPreloadSetup,x=u.target||this,_=x[y].bind(x);if(x===f.default.prototype){if(i)continue;c=null,_=x[y]}x[y]=this._wrapPromisePreload(c,_,h),d&&(x[d.method]=this._legacyPreloadGenerator(c,d,x[y]))}}catch(T){b=!0,v=T}finally{try{l||a.return==null||a.return()}finally{if(b)throw v}}i=!0},f.default.prototype._wrapPromisePreload=function(l,b,v){var o=function(){for(var a=this,u=(this._incrementPreload(),null),c=null,y=arguments.length,h=new Array(y),d=0;d<y;d++)h[d]=arguments[d];if(v)for(var x=h.length-1;0<=x&&!c&&typeof h[x]=="function";x--)c=u,u=h.pop();var _=Promise.resolve(b.apply(this,h));return u&&_.then(u),c&&_.catch(c),_.then(function(){return a._decrementPreload()}),_};return o=l?o.bind(l):o},f.default.prototype._legacyPreloadGenerator=function(l,a,v){var o=a.createBaseObject||p,a=function(){var u=this;this._incrementPreload();for(var c=arguments.length,y=new Array(c),h=0;h<c;h++)y[h]=arguments[h];var d=o.apply(this,y);return v.apply(this,y).then(function(x){Object.assign(d,x),u._decrementPreload()}),d};return a=l?a.bind(l):a}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,j,w){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(o=t("./main"))&&o.__esModule?o:{default:o},i=function(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var u=l();if(u&&u.has(a))return u.get(a);var c,y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var d;Object.prototype.hasOwnProperty.call(a,c)&&((d=h?Object.getOwnPropertyDescriptor(a,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=a[c])}return y.default=a,u&&u.set(a,y),y}(t("./constants"));function l(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,l=function(){return a},a)}function b(a){return(b=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(u){return f(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":f(u)})(a)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var v="defaultCanvas0",o=(p.default.prototype.createCanvas=function(a,u,c,y){var h,d,x;if(p.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(c=i.P2D,y=arguments[2]):h=c||i.P2D,y)(x=document.getElementById(v))&&x.parentNode.removeChild(x),x=y,this._defaultGraphicsCreated=!1;else{if(h===i.WEBGL)(x=document.getElementById(v))&&(x.parentNode.removeChild(x),d=this._renderer,this._elements=this._elements.filter(function(T){return T!==d})),(x=document.createElement("canvas")).id=v,x.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)x=this.canvas;else{x=y||document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;v="defaultCanvas".concat(_),x.id=v,x.classList.add("p5Canvas")}this._setupDone||(x.dataset.hidden=!0,x.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(c=document.createElement("main"),document.body.appendChild(c)),document.getElementsByTagName("main")[0])).appendChild(x)}return h===i.WEBGL?(this._setProperty("_renderer",new p.default.RendererGL(x,this,!0)),this._elements.push(this._renderer),a=(y=this._renderer._adjustDimensions(a,u)).adjustedWidth,u=y.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new p.default.Renderer2D(x,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,u),this._renderer._applyDefaults(),this._renderer},p.default.prototype.resizeCanvas=function(a,u,c){if(p.default._validateParameters("resizeCanvas",arguments),this._renderer){var y,h,d,x={};for(y in this.drawingContext){var _=this.drawingContext[y];b(_)!=="object"&&typeof _!="function"&&(x[y]=_)}for(d in this._renderer instanceof p.default.RendererGL&&(a=(h=this._renderer._adjustDimensions(a,u)).adjustedWidth,u=h.adjustedHeight),this.width=a,this.height=u,this._renderer.resize(a,u),x)try{this.drawingContext[d]=x[d]}catch{}c||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},p.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},p.default.prototype.createGraphics=function(a,u){for(var c=arguments.length,y=new Array(2<c?c-2:0),h=2;h<c;h++)y[h-2]=arguments[h];return y[0]instanceof HTMLCanvasElement&&(y[1]=y[0],y[0]=i.P2D),p.default._validateParameters("createGraphics",arguments),new p.default.Graphics(a,u,y[0],this,y[1])},p.default.prototype.createFramebuffer=function(a){return new p.default.Framebuffer(this,a)},p.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},p.default.prototype.blendMode=function(a){p.default._validateParameters("blendMode",arguments),a===i.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=i.BLEND),this._renderer.blendMode(a)},p.default);w.default=o},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,j,w){function f(u){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function p(u){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=o(t("../main")),l=function(u){if(u&&u.__esModule)return u;if(u===null||p(u)!=="object"&&typeof u!="function")return{default:u};var c=v();if(c&&c.has(u))return c.get(u);var y,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var x;Object.prototype.hasOwnProperty.call(u,y)&&((x=d?Object.getOwnPropertyDescriptor(u,y):null)&&(x.get||x.set)?Object.defineProperty(h,y,x):h[y]=u[y])}return h.default=u,c&&c.set(u,h),h}(t("../constants")),b=o(t("../helpers"));function v(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,v=function(){return u},u)}function o(u){return u&&u.__esModule?u:{default:u}}function a(u){return function(c){if(Array.isArray(c)){for(var y=0,h=new Array(c.length);y<c.length;y++)h[y]=c[y];return h}}(u)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(u,c,y,h,d){var x;return u-=l.TWO_PI*Math.floor(u/l.TWO_PI),c-=l.TWO_PI*Math.floor(c/l.TWO_PI),x=Math.min(Math.abs(u-c),l.TWO_PI-Math.abs(u-c)),d&&(u=u<=l.HALF_PI?Math.atan(y/h*Math.tan(u)):u>l.HALF_PI&&u<=3*l.HALF_PI?Math.atan(y/h*Math.tan(u))+l.PI:Math.atan(y/h*Math.tan(u))+l.TWO_PI,c=c<=l.HALF_PI?Math.atan(y/h*Math.tan(c)):c>l.HALF_PI&&c<=3*l.HALF_PI?Math.atan(y/h*Math.tan(c))+l.PI:Math.atan(y/h*Math.tan(c))+l.TWO_PI),c<u&&(c+=l.TWO_PI),{start:u,stop:c,correspondToSamePoint:x<1e-5}},i.default.prototype.arc=function(u,c,y,h,d,x,_,T){return i.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&d!==x&&(d=this._toRadians(d),x=this._toRadians(x),u=b.default.modeAdjust(u,c,y,h,this._renderer._ellipseMode),(c=this._normalizeArcAngles(d,x,u.w,u.h,!0)).correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,T]):(this._renderer.arc(u.x,u.y,u.w,u.h,c.start,c.stop,_,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,c.start,c.stop,_]))),this},i.default.prototype.ellipse=function(u,c,y,h,d){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];i.default._validateParameters("circle",c);var h=c.slice(0,2);return h.push(c[2],c[2]),this._renderEllipse.apply(this,a(h))},i.default.prototype._renderEllipse=function(u,c,y,h,d){return(this._renderer._doStroke||this._renderer._doFill)&&(u=b.default.modeAdjust(u,c,y,h=h===void 0?y:h,this._renderer._ellipseMode),this._renderer.ellipse([u.x,u.y,u.w,u.h,d]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[u.x,u.y,u.w,u.h])),this},i.default.prototype.line=function(){for(var u,c=arguments.length,y=new Array(c),h=0;h<c;h++)y[h]=arguments[h];return i.default._validateParameters("line",y),this._renderer._doStroke&&(u=this._renderer).line.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",y),this},i.default.prototype.point=function(){for(var u,c=arguments.length,y=new Array(c),h=0;h<c;h++)y[h]=arguments[h];return i.default._validateParameters("point",y),this._renderer._doStroke&&(y.length===1&&y[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,y[0].x,y[0].y,y[0].z):((u=this._renderer).point.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",y))),this},i.default.prototype.quad=function(){for(var u,c=arguments.length,y=new Array(c),h=0;h<c;h++)y[h]=arguments[h];return i.default._validateParameters("quad",y),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&y.length<12?this._renderer.quad.call(this._renderer,y[0],y[1],0,y[2],y[3],0,y[4],y[5],0,y[6],y[7],0,y[8],y[9]):((u=this._renderer).quad.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",y))),this},i.default.prototype.rect=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];return i.default._validateParameters("rect",c),this._renderRect.apply(this,c)},i.default.prototype.square=function(u,c,y,h,d,x,_){return i.default._validateParameters("square",arguments),this._renderRect.call(this,u,c,y,y,h,d,x,_)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var u=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),c=(this._renderer._rectMode===l.CORNER&&(u.w=arguments[2],u.h=arguments[3]),[u.x,u.y,u.w,u.h]),y=4;y<arguments.length;y++)c[y]=arguments[y];this._renderer.rect(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},i.default.prototype.triangle=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];return i.default._validateParameters("triangle",c),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",c),this},t=i.default,w.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../main"))&&v.__esModule?v:{default:v},l=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}i.default.prototype.ellipseMode=function(o){return i.default._validateParameters("ellipseMode",arguments),o!==l.CORNER&&o!==l.CORNERS&&o!==l.RADIUS&&o!==l.CENTER||(this._renderer._ellipseMode=o),this},i.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},i.default.prototype.rectMode=function(o){return i.default._validateParameters("rectMode",arguments),o!==l.CORNER&&o!==l.CORNERS&&o!==l.RADIUS&&o!==l.CENTER||(this._renderer._rectMode=o),this},i.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},i.default.prototype.strokeCap=function(o){return i.default._validateParameters("strokeCap",arguments),o!==l.ROUND&&o!==l.SQUARE&&o!==l.PROJECT||this._renderer.strokeCap(o),this},i.default.prototype.strokeJoin=function(o){return i.default._validateParameters("strokeJoin",arguments),o!==l.ROUND&&o!==l.BEVEL&&o!==l.MITER||this._renderer.strokeJoin(o),this},i.default.prototype.strokeWeight=function(o){return i.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(o),this};var v=i.default;w.default=v},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(p=t("../main"))&&p.__esModule?p:{default:p};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var i,l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(i=this._renderer).bezier.apply(i,b),this},f.default.prototype.bezierDetail=function(i){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=i,this},f.default.prototype.bezierPoint=function(i,l,b,v,o){f.default._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*i+3*Math.pow(a,2)*o*l+3*a*Math.pow(o,2)*b+Math.pow(o,3)*v},f.default.prototype.bezierTangent=function(i,l,b,v,o){f.default._validateParameters("bezierTangent",arguments);var a=1-o;return 3*v*Math.pow(o,2)-3*b*Math.pow(o,2)+6*b*a*o-6*l*a*o+3*l*Math.pow(a,2)-3*i*Math.pow(a,2)},f.default.prototype.curve=function(){for(var i,l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("curve",b),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,b),this},f.default.prototype.curveDetail=function(i){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=i<3?3:i,this},f.default.prototype.curveTightness=function(i){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=i,this},f.default.prototype.curvePoint=function(i,l,b,v,o){f.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,u=o*o*o,c=o*o;return i*((a-1)/2*u+(1-a)*c+(a-1)/2*o)+l*((a+3)/2*u+(-5-a)/2*c+1)+b*((-3-a)/2*u+(a+2)*c+(1-a)/2*o)+v*((1-a)/2*u+(a-1)/2*c)},f.default.prototype.curveTangent=function(i,l,b,v,c){f.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,u=c*c*3,c=2*c;return i*((a-1)/2*u+(1-a)*c+(a-1)/2)+l*((a+3)/2*u+(-5-a)/2*c)+b*((-3-a)/2*u+(a+2)*c+(1-a)/2)+v*((1-a)/2*u+(a-1)/2*c)};var p=f.default;w.default=p},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,j,w){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}function p(_){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(x=t("../main"))&&x.__esModule?x:{default:x},l=function(_){if(_&&_.__esModule)return _;if(_===null||p(_)!=="object"&&typeof _!="function")return{default:_};var T=b();if(T&&T.has(_))return T.get(_);var k,M={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in _){var L;Object.prototype.hasOwnProperty.call(_,k)&&((L=O?Object.getOwnPropertyDescriptor(_,k):null)&&(L.get||L.set)?Object.defineProperty(M,k,L):M[k]=_[k])}return M.default=_,T&&T.set(_,M),M}(t("../constants"));function b(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,b=function(){return _},_)}var v=null,o=[],a=[],u=!1,c=!1,y=!1,h=!1,d=!0,x=(i.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],h=!0),this},i.default.prototype.beginShape=function(_){var T;return i.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(v=_===l.POINTS||_===l.LINES||_===l.TRIANGLES||_===l.TRIANGLE_FAN||_===l.TRIANGLE_STRIP||_===l.QUADS||_===l.QUAD_STRIP?_:null,o=[],a=[]),this},i.default.prototype.bezierVertex=function(){for(var _,T=arguments.length,k=new Array(T),M=0;M<T;M++)k[M]=arguments[M];if(i.default._validateParameters("bezierVertex",k),this._renderer.isP3D)(_=this._renderer).bezierVertex.apply(_,k);else if(o.length===0)i.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{u=!0;for(var O=[],L=0;L<k.length;L++)O[L]=k[L];O.isVert=!1,(h?a:o).push(O)}return this},i.default.prototype.curveVertex=function(){for(var _,T=arguments.length,k=new Array(T),M=0;M<T;M++)k[M]=arguments[M];return i.default._validateParameters("curveVertex",k),this._renderer.isP3D?(_=this._renderer).curveVertex.apply(_,k):(c=!0,this.vertex(k[0],k[1])),this},i.default.prototype.endContour=function(){if(!this._renderer.isP3D){var _=a[0].slice();_.isVert=a[0].isVert,_.moveTo=!1,a.push(_),d&&(o.push(o[0]),d=!1);for(var T=0;T<a.length;T++)o.push(a[T])}return this},i.default.prototype.endShape=function(_){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(i.default._validateParameters("endShape",arguments),T<1&&(console.log(" p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(_,c,u,y,h,v,T);else{if(T!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),o.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;T=_===l.CLOSE,T&&!h&&o.push(o[0]),this._renderer.endShape(_,o,c,u,y,h,v),d=!(h=y=u=c=!1),T&&o.pop()}return this},i.default.prototype.quadraticVertex=function(){for(var _,T=arguments.length,k=new Array(T),M=0;M<T;M++)k[M]=arguments[M];if(i.default._validateParameters("quadraticVertex",k),this._renderer.isP3D)(_=this._renderer).quadraticVertex.apply(_,k);else{if(this._contourInited)return(_={}).x=k[0],_.y=k[1],_.x3=k[2],_.y3=k[3],_.type=l.QUADRATIC,this._contourVertices.push(_),this;if(0<o.length){y=!0;for(var O=[],L=0;L<k.length;L++)O[L]=k[L];O.isVert=!1,(h?a:o).push(O)}else i.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.default.prototype.vertex=function(_,T,k,M,O){var L;return this._renderer.isP3D?(L=this._renderer).vertex.apply(L,arguments):((L=[]).isVert=!0,L[0]=_,L[1]=T,L[2]=0,L[3]=0,L[4]=0,L[5]=this._renderer._getFill(),L[6]=this._renderer._getStroke(),k&&(L.moveTo=k),(h?(a.length===0&&(L.moveTo=!0),a):o).push(L)),this},i.default.prototype.normal=function(_,T,k){var M;return this._assert3d("normal"),i.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},i.default);w.default=x},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,j,w){},{}],295:[function(t,j,w){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var p=parseInt(f),i=((isNaN(p)||p<1)&&(p=1),this._isGlobal?window:this);if(typeof i.draw=="function"){i.setup===void 0&&i.scale(i._pixelDensity,i._pixelDensity);for(var l=0;l<p;l++){i.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{i.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,w.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function p(i){return function(l){if(Array.isArray(l)){for(var b=0,v=new Array(l.length);b<l.length;b++)v[b]=l[b];return v}}(i)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var i=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||i?(i=this._renderer).applyMatrix.apply(i,p(arguments.length<=0?void 0:arguments[0])):(i=this._renderer).applyMatrix.apply(i,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(i,l){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(i),l),this},f.default.prototype.rotateX=function(i){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(i)),this},f.default.prototype.rotateY=function(i){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(i)),this},f.default.prototype.rotateZ=function(i){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(i)),this},f.default.prototype.scale=function(i,l,b){var v;return f.default._validateParameters("scale",arguments),i instanceof f.default.Vector?(i=(v=i).x,l=v.y,b=v.z):Array.isArray(i)&&(i=(v=i)[0],l=v[1],b=v[2]||1),isNaN(l)?l=b=i:isNaN(b)&&(b=1),this._renderer.scale(i,l,b),this},f.default.prototype.shearX=function(i){return f.default._validateParameters("shearX",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,0,Math.tan(i),1,0,0),this},f.default.prototype.shearY=function(i){return f.default._validateParameters("shearY",arguments),i=this._toRadians(i),this._renderer.applyMatrix(1,Math.tan(i),0,1,0,0),this},f.default.prototype.translate=function(i,l,b){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(i,l,b):this._renderer.translate(i,l),this},t=f.default,w.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,j,w){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(b){return function(v){if(Array.isArray(v)){for(var o=0,a=new Array(v.length);o<v.length;o++)a[o]=v[o];return a}}(b)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(b){return(l=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(v){return f(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":f(v)})(b)}p.default.prototype.storeItem=function(b,v){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),v===void 0&&console.log("You cannot store undefined variables using storeItem().");var o=l(v);switch(o){case"number":case"boolean":v=v.toString();break;case"object":v instanceof p.default.Color?o="p5.Color":v instanceof p.default.Vector&&(o="p5.Vector",v=[v.x,v.y,v.z]),v=JSON.stringify(v)}localStorage.setItem(b,v),b="".concat(b,"p5TypeID"),localStorage.setItem(b,o)},p.default.prototype.getItem=function(b){var v=localStorage.getItem(b),o=localStorage.getItem("".concat(b,"p5TypeID"));if(o===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(v!==null)switch(o){case"number":v=parseFloat(v);break;case"boolean":v=v==="true";break;case"object":v=JSON.parse(v);break;case"p5.Color":v=JSON.parse(v),v=this.color.apply(this,i(v.levels));break;case"p5.Vector":v=JSON.parse(v),v=this.createVector.apply(this,i(v))}return v},p.default.prototype.clearStorage=function(){var b=this;Object.keys(localStorage).forEach(function(v){v.endsWith("p5TypeID")&&b.removeItem(v.replace("p5TypeID",""))})},p.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,j,w){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function p(y){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(h&&h.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),h&&b(y,h)}function b(y,h){return(b=Object.setPrototypeOf||function(d,x){return d.__proto__=x,d})(y,h)}function v(y){return function(){var h,d=o(y),d=(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=o(this).constructor,Reflect.construct(d,arguments,h)):d.apply(this,arguments),this);if(!h||p(h)!=="object"&&typeof h!="function"){if(d!==void 0)return d;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function o(y){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}function a(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function u(y,h){for(var d=0;d<h.length;d++){var x=h[d];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}function c(y,h,d){h&&u(y.prototype,h)}i.default.prototype.createStringDict=function(y,h){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(y,h)},i.default.prototype.createNumberDict=function(y,h){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(y,h)},i.default.TypedDict=function(){function y(h,d){return a(this,y),h instanceof Object?this.data=h:(this.data={},this.data[h]=d),this}return c(y,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(h){return this.data.hasOwnProperty(h)}},{key:"get",value:function(h){if(this.data.hasOwnProperty(h))return this.data[h];console.log("".concat(h," does not exist in this Dictionary"))}},{key:"set",value:function(h,d){this._validate(d)?this.data[h]=d:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(h){for(var d in h)this.set(d,h[d])}},{key:"create",value:function(h,d){h instanceof Object&&d===void 0?this._addObj(h):h!==void 0?this.set(h,d):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(h){if(!this.data.hasOwnProperty(h))throw new Error("".concat(h," does not exist in this Dictionary"));delete this.data[h]}},{key:"print",value:function(){for(var h in this.data)console.log("key:".concat(h," value:").concat(this.data[h]))}},{key:"saveTable",value:function(h){var d,x="";for(d in this.data)x+="".concat(d,",").concat(this.data[d],`
`);var _=new Blob([x],{type:"text/csv"});i.default.prototype.downloadFile(_,h||"mycsv","csv")}},{key:"saveJSON",value:function(h,d){i.default.prototype.saveJSON(this.data,h,d)}},{key:"_validate",value:function(h){return!0}}]),y}(),i.default.StringDict=function(){l(h,i.default.TypedDict);var y=v(h);function h(){a(this,h);for(var d=arguments.length,x=new Array(d),_=0;_<d;_++)x[_]=arguments[_];return y.call.apply(y,[this].concat(x))}return c(h,[{key:"_validate",value:function(d){return typeof d=="string"}}]),h}(),i.default.NumberDict=function(){l(h,i.default.TypedDict);var y=v(h);function h(){a(this,h);for(var d=arguments.length,x=new Array(d),_=0;_<d;_++)x[_]=arguments[_];return y.call.apply(y,[this].concat(x))}return c(h,[{key:"_validate",value:function(d){return typeof d=="number"}},{key:"add",value:function(d,x){this.data.hasOwnProperty(d)?this.data[d]+=x:console.log("The key - ".concat(d," does not exist in this dictionary."))}},{key:"sub",value:function(d,x){this.add(d,-x)}},{key:"mult",value:function(d,x){this.data.hasOwnProperty(d)?this.data[d]*=x:console.log("The key - ".concat(d," does not exist in this dictionary."))}},{key:"div",value:function(d,x){this.data.hasOwnProperty(d)?this.data[d]/=x:console.log("The key - ".concat(d," does not exist in this dictionary."))}},{key:"_valueTest",value:function(d){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var x,_=this.data[Object.keys(this.data)[0]];for(x in this.data)this.data[x]*d<_*d&&(_=this.data[x]);return _}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(d){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var x=Object.keys(this.data)[0],_=1;_<Object.keys(this.data).length;_++)Object.keys(this.data)[_]*d<x*d&&(x=Object.keys(this.data)[_]);return x}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),h}(),t=i.default.TypedDict,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,j,w){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(_,T){for(var k=0;k<T.length;k++){var M=T[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function l(_,T,k){T&&i(_.prototype,T),k&&i(_,k)}function b(_,T){return(b=Object.setPrototypeOf||function(k,M){return k.__proto__=M,k})(_,T)}function v(_){return function(){var T,k,M=a(_);return T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=a(this).constructor,Reflect.construct(M,arguments,T)):M.apply(this,arguments),M=this,!(k=T)||c(k)!=="object"&&typeof k!="function"?o(M):k}}function o(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function a(_){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(_)}function u(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function c(_){return(c=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(_)}function y(_,T,k){return(T._userNode||document.body).appendChild(_),k=new(k?p.default.MediaElement:p.default.Element)(_,T),T._elements.push(k),k}p.default.prototype.select=function(_,T){return p.default._validateParameters("select",arguments),T=this._getContainer(T).querySelector(_),T?this._wrapElement(T):null},p.default.prototype.selectAll=function(_,T){p.default._validateParameters("selectAll",arguments);var k=[],M=this._getContainer(T).querySelectorAll(_);if(M)for(var O=0;O<M.length;O++){var L=this._wrapElement(M[O]);k.push(L)}return k},p.default.prototype._getContainer=function(_){var T=document;return typeof _=="string"?T=document.querySelector(_)||document:_ instanceof p.default.Element?T=_.elt:_ instanceof HTMLElement&&(T=_),T},p.default.prototype._wrapElement=function(_){var T,k=Array.prototype.slice.call(_.children);return _.tagName==="INPUT"&&_.type==="checkbox"?((T=new p.default.Element(_,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},T):_.tagName==="VIDEO"||_.tagName==="AUDIO"?new p.default.MediaElement(_,this):_.tagName==="SELECT"?this.createSelect(new p.default.Element(_,this)):0<k.length&&k.every(function(M){return M.tagName==="INPUT"||M.tagName==="LABEL"})&&(_.tagName==="DIV"||_.tagName==="SPAN")?this.createRadio(new p.default.Element(_,this)):new p.default.Element(_,this)},p.default.prototype.removeElements=function(_){p.default._validateParameters("removeElements",arguments),this._elements.filter(function(T){return!(T.elt instanceof HTMLCanvasElement)}).map(function(T){return T.remove()})},p.default.Element.prototype.changed=function(_){return p.default.Element._adjustListener("change",_,this),this},p.default.Element.prototype.input=function(_){return p.default.Element._adjustListener("input",_,this),this},p.default.prototype.createDiv=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("div");return T.innerHTML=_,y(T,this)},p.default.prototype.createP=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("p");return T.innerHTML=_,y(T,this)},p.default.prototype.createSpan=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("span");return T.innerHTML=_,y(T,this)},p.default.prototype.createImg=function(){p.default._validateParameters("createImg",arguments);var _,T=document.createElement("img"),k=arguments;return 1<k.length&&typeof k[1]=="string"&&(T.alt=k[1]),2<k.length&&typeof k[2]=="string"&&(T.crossOrigin=k[2]),T.src=k[0],_=y(T,this),T.addEventListener("load",function(){_.width=T.offsetWidth||T.width,_.height=T.offsetHeight||T.height;var M=k[k.length-1];typeof M=="function"&&M(_)}),_},p.default.prototype.createA=function(_,T,k){p.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=_,M.innerHTML=T,k&&(M.target=k),y(M,this)},p.default.prototype.createSlider=function(_,T,k,M){p.default._validateParameters("createSlider",arguments);var O=document.createElement("input");return O.type="range",O.min=_,O.max=T,M===0?O.step=1e-18:M&&(O.step=M),typeof k=="number"&&(O.value=k),y(O,this)},p.default.prototype.createButton=function(_,T){p.default._validateParameters("createButton",arguments);var k=document.createElement("button");return k.innerHTML=_,T&&(k.value=T),y(k,this)},p.default.prototype.createCheckbox=function(){for(var _=arguments.length,T=new Array(_),k=0;k<_;k++)T[k]=arguments[k];p.default._validateParameters("createCheckbox",T);var M=document.createElement("div"),O=document.createElement("input"),L=(O.type="checkbox",document.createElement("label")),F=(L.appendChild(O),M.appendChild(L),y(M,this));return F.checked=function(){var D=F.elt.firstElementChild.getElementsByTagName("input")[0];if(D){if(arguments.length===0)return D.checked;D.checked=!(arguments.length<=0||!arguments[0])}return F},this.value=function(D){return F.value=D,this},T[0]&&(F.value(T[0]),(M=document.createElement("span")).innerHTML=T[0],L.appendChild(M)),T[1]&&(O.checked=!0),F},p.default.prototype.createSelect=function(){for(var _,T=arguments.length,k=new Array(T),M=0;M<T;M++)k[M]=arguments[M];p.default._validateParameters("createSelect",k);var O,L=k[0];return L instanceof p.default.Element&&L.elt instanceof HTMLSelectElement?this.elt=(_=L).elt:L instanceof HTMLSelectElement?(_=y(L,this),this.elt=L):(O=document.createElement("select"),L&&typeof L=="boolean"&&O.setAttribute("multiple","true"),_=y(O,this),this.elt=O),_.option=function(F,D){var V;if(F!==void 0){for(var P,G=0;G<this.elt.length;G+=1)if(this.elt[G].textContent===F){V=G;break}V!==void 0?D===!1?this.elt.remove(V):this.elt[V].value=D:((P=document.createElement("option")).textContent=F,P.value=D===void 0?F:D,this.elt.appendChild(P),this._pInst._elements.push(P))}},_.selected=function(F){if(F!==void 0){for(var D=0;D<this.elt.length;D+=1)this.elt[D].value.toString()===F.toString()&&(this.elt.selectedIndex=D);return this}if(this.elt.getAttribute("multiple")){var V=[],P=!0,G=!1,z=void 0;try{for(var q,Q=this.elt.selectedOptions[Symbol.iterator]();!(P=(q=Q.next()).done);P=!0){var K=q.value;V.push(K.value)}}catch(Z){G=!0,z=Z}finally{try{P||Q.return==null||Q.return()}finally{if(G)throw z}}return V}return this.elt.value},_.disable=function(F){if(typeof F=="string")for(var D=0;D<this.elt.length;D++)this.elt[D].value.toString()===F&&(this.elt[D].disabled=!0,this.elt[D].selected=!1);else this.elt.disabled=!0;return this},_.enable=function(F){if(typeof F=="string")for(var D=0;D<this.elt.length;D++)this.elt[D].value.toString()===F&&(this.elt[D].disabled=!1,this.elt[D].selected=!1);else{this.elt.disabled=!1;for(var V=0;V<this.elt.length;V++)this.elt[V].disabled=!1,this.elt[V].selected=!1}return this},_};var h=0;function d(_,F,k,M){var O=document.createElement(F),L=(typeof(k=k||"")=="string"&&(k=[k]),!0),F=!1,D=void 0;try{for(var V,P=k[Symbol.iterator]();!(L=(V=P.next()).done);L=!0){var G=V.value,z=document.createElement("source");z.setAttribute("src",G),O.appendChild(z)}}catch(Q){F=!0,D=Q}finally{try{L||P.return==null||P.return()}finally{if(F)throw D}}typeof M=="function"&&O.addEventListener("canplaythrough",function Q(){M(),O.removeEventListener("canplaythrough",Q)});var q=y(O,_,!0);return q.loadedmetadata=!1,O.addEventListener("loadedmetadata",function(){q.width=O.videoWidth,q.height=O.videoHeight,q.elt.width===0&&(q.elt.width=O.videoWidth),q.elt.height===0&&(q.elt.height=O.videoHeight),q.presetPlaybackRate&&(q.elt.playbackRate=q.presetPlaybackRate,delete q.presetPlaybackRate),q.loadedmetadata=!0}),q}p.default.prototype.createRadio=function(){function _(F){return F instanceof HTMLInputElement&&F.type==="radio"}function T(F){return F instanceof HTMLLabelElement}var k,M,O,L=arguments.length<=0?void 0:arguments[0];return L instanceof p.default.Element&&(L.elt instanceof HTMLDivElement||L.elt instanceof HTMLSpanElement)?(k=L,this.elt=L.elt):L instanceof HTMLDivElement||L instanceof HTMLSpanElement?(k=y(L,this),M=this.elt=L,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(O=arguments.length<=1?void 0:arguments[1])):(typeof L=="string"&&(O=L),M=document.createElement("div"),k=y(M,this),this.elt=M),k._name=O||"radioOption_".concat(h++),k._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(F){return _(F)||T(F)&&_(F.firstElementChild)}).map(function(F){return _(F)?F:F.firstElementChild})},k.option=function(F,D){var V,P,G,z=!0,q=!1,Q=void 0;try{for(var K,Z=k._getOptionsArray()[Symbol.iterator]();!(z=(K=Z.next()).done);z=!0){var Y=K.value;if(Y.value===F){V=Y;break}}}catch(ee){q=!0,Q=ee}finally{try{z||Z.return==null||Z.return()}finally{if(q)throw Q}}return V===void 0&&((V=document.createElement("input")).setAttribute("type","radio"),V.setAttribute("value",F)),V.setAttribute("name",k._name),T(V.parentElement)?P=V.parentElement:(P=document.createElement("label")).insertAdjacentElement("afterbegin",V),P.lastElementChild instanceof HTMLSpanElement?G=P.lastElementChild:(G=document.createElement("span"),V.insertAdjacentElement("afterend",G)),G.innerHTML=D===void 0?F:D,this.elt.appendChild(P),V},k.remove=function(F){var D=!0,V=!1,P=void 0;try{for(var G,z=k._getOptionsArray()[Symbol.iterator]();!(D=(G=z.next()).done);D=!0){var q=G.value;if(q.value===F)return void(T(q.parentElement)?q.parentElement:q).remove()}}catch(Q){V=!0,P=Q}finally{try{D||z.return==null||z.return()}finally{if(V)throw P}}},k.value=function(){var F="",D=!0,V=!1,P=void 0;try{for(var G,z=k._getOptionsArray()[Symbol.iterator]();!(D=(G=z.next()).done);D=!0){var q=G.value;if(q.checked){F=q.value;break}}}catch(Q){V=!0,P=Q}finally{try{D||z.return==null||z.return()}finally{if(V)throw P}}return F},k.selected=function(F){var D=null;if(F===void 0){var V=!0,P=!1,G=void 0;try{for(var z,q=k._getOptionsArray()[Symbol.iterator]();!(V=(z=q.next()).done);V=!0){var Q=z.value;if(Q.checked){D=Q;break}}}catch(ae){P=!0,G=ae}finally{try{V||q.return==null||q.return()}finally{if(P)throw G}}}else{k._getOptionsArray().forEach(function(B){B.checked=!1,B.removeAttribute("checked")});var K=!0,P=!1,G=void 0;try{for(var Z,Y=k._getOptionsArray()[Symbol.iterator]();!(K=(Z=Y.next()).done);K=!0){var ee=Z.value;ee.value===F&&(ee.setAttribute("checked",!0),ee.checked=!0,D=ee)}}catch(B){P=!0,G=B}finally{try{K||Y.return==null||Y.return()}finally{if(P)throw G}}}return D},k.disable=function(){var F=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],D=!0,V=!1,P=void 0;try{for(var G,z=k._getOptionsArray()[Symbol.iterator]();!(D=(G=z.next()).done);D=!0)G.value.setAttribute("disabled",F)}catch(q){V=!0,P=q}finally{try{D||z.return==null||z.return()}finally{if(V)throw P}}},k},p.default.prototype.createColorPicker=function(_){p.default._validateParameters("createColorPicker",arguments);var T=document.createElement("input");return T.type="color",_?_ instanceof p.default.Color?T.value=_.toString("#rrggbb"):(p.default.prototype._colorMode="rgb",p.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},T.value=p.default.prototype.color(_).toString("#rrggbb")):T.value="#000000",(T=y(T,this)).color=function(){return _&&(_.mode&&(p.default.prototype._colorMode=_.mode),_.maxes&&(p.default.prototype._colorMaxes=_.maxes)),p.default.prototype.color(this.elt.value)},T},p.default.prototype.createInput=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",k=(p.default._validateParameters("createInput",arguments),document.createElement("input"));return k.setAttribute("value",_),k.setAttribute("type",T),y(k,this)},p.default.prototype.createFileInput=function(_){var T,k=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(p.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(T=document.createElement("input")).setAttribute("type","file"),k&&T.setAttribute("multiple",!0),T.addEventListener("change",function(M){var O=!0,L=!1,F=void 0;try{for(var D,V=M.target.files[Symbol.iterator]();!(O=(D=V.next()).done);O=!0){var P=D.value;p.default.File._load(P,_)}}catch(G){L=!0,F=G}finally{try{O||V.return==null||V.return()}finally{if(L)throw F}}},!1),y(T,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},p.default.prototype.createVideo=function(_,T){return p.default._validateParameters("createVideo",arguments),d(this,"video",_,T)},p.default.prototype.createAudio=function(_,T){return p.default._validateParameters("createAudio",arguments),d(this,"audio",_,T)},p.default.prototype.VIDEO="video",p.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(_){var T=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return T?new Promise(function(k,M){T.call(navigator,_,k,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),p.default.prototype.createCapture=function(){for(var _=arguments.length,T=new Array(_),k=0;k<_;k++)T[k]=arguments[k];if(p.default._validateParameters("createCapture",T),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,O=!0,L=!0,F=!1,D=0,V=T;D<V.length;D++){var P=V[D];P===p.default.prototype.VIDEO?L=!1:P===p.default.prototype.AUDIO?O=!1:c(P)==="object"?(P.flipped!==void 0&&(F=P.flipped,delete P.flipped),G=Object.assign({},G,P)):typeof P=="function"&&(M=P)}var G=Object.assign({},{video:O,audio:L},G),z=document.createElement("video"),q=(z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(G).then(function(Q){try{"srcObject"in z?z.srcObject=Q:z.src=window.URL.createObjectURL(Q)}catch{z.src=Q}}).catch(function(Q){Q.name==="NotFoundError"&&p.default._friendlyError("No webcam found on this device","createCapture"),Q.name==="NotAllowedError"&&p.default._friendlyError("Access to the camera was denied","createCapture"),console.error(Q)}),y(z,this,!0));return q.loadedmetadata=!1,z.addEventListener("loadedmetadata",function(){z.play(),z.width?(q.width=z.width,q.height=z.height,F&&(q.elt.style.transform="scaleX(-1)")):(q.width=q.elt.width=z.videoWidth,q.height=q.elt.height=z.videoHeight),q.loadedmetadata=!0,M&&M(z.srcObject)}),q.flipped=F,q},p.default.prototype.createElement=function(_,T){return p.default._validateParameters("createElement",arguments),_=document.createElement(_),T!==void 0&&(_.innerHTML=T),y(_,this)},p.default.Element.prototype.addClass=function(_){return this.elt.className?this.hasClass(_)||(this.elt.className=this.elt.className+" "+_):this.elt.className=_,this},p.default.Element.prototype.removeClass=function(_){return this.elt.classList.remove(_),this},p.default.Element.prototype.hasClass=function(_){return this.elt.classList.contains(_)},p.default.Element.prototype.toggleClass=function(_){return this.elt.classList.contains(_)?this.elt.classList.remove(_):this.elt.classList.add(_),this},p.default.Element.prototype.child=function(_){return _===void 0?this.elt.childNodes:(typeof _=="string"?(_[0]==="#"&&(_=_.substring(1)),_=document.getElementById(_)):_ instanceof p.default.Element&&(_=_.elt),_ instanceof HTMLElement&&this.elt.appendChild(_),this)},p.default.Element.prototype.center=function(_){var T=this.elt.style.display,k=this.elt.style.display==="none",M=this.parent().style.display==="none",O={x:this.elt.offsetLeft,y:this.elt.offsetTop},L=(k&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),F=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return _==="both"||_===void 0?this.position(L/2+this.parent().offsetLeft,F/2+this.parent().offsetTop):_==="horizontal"?this.position(L/2+this.parent().offsetLeft,O.y):_==="vertical"&&this.position(O.x,F/2+this.parent().offsetTop),this.style("display",T),k&&this.hide(),M&&this.parent().hide(),this},p.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},p.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},p.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=_,this},p.default.Element.prototype._rotate=function(){var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=_,this},p.default.Element.prototype.style=function(_,T){if((T=T instanceof p.default.Color?"rgba("+T.levels[0]+","+T.levels[1]+","+T.levels[2]+","+T.levels[3]/255+")":T)===void 0){if(_.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(_);for(var k=_.split(";"),M=0;M<k.length;M++){var O=k[M].split(":");O[0]&&O[1]&&(this.elt.style[O[0].trim()]=O[1].trim())}}else this.elt.style[_]=T,_!=="width"&&_!=="height"&&_!=="left"&&_!=="top"||(T=window.getComputedStyle(this.elt).getPropertyValue(_).replace(/[^\d.]/g,""),this[_]=Math.round(parseFloat(T,10)));return this},p.default.Element.prototype.attribute=function(_,T){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return T===void 0?this.elt.getAttribute(_):(this.elt.setAttribute(_,T),this);if(T===void 0)return this.elt.firstChild.getAttribute(_);for(var k=0;k<this.elt.childNodes.length;k++)this.elt.childNodes[k].setAttribute(_,T)},p.default.Element.prototype.removeAttribute=function(_){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].removeAttribute(_);return this.elt.removeAttribute(_),this},p.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},p.default.Element.prototype.show=function(){return this.elt.style.display="block",this},p.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},p.default.Element.prototype.size=function(_,T){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var k=_,M=T,O=p.default.prototype.AUTO;if(k!==O||M!==O){if(k===O?k=T*this.width/this.height:M===O&&(M=_*this.height/this.width),this.elt instanceof HTMLCanvasElement){var L,F={},D=this.elt.getContext("2d");for(L in D)F[L]=D[L];for(L in this.elt.setAttribute("width",k*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=k+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),F)this.elt.getContext("2d")[L]=F[L]}else this.elt.style.width=k+"px",this.elt.style.height=M+"px",this.elt.width=k,this.elt.height=M;this.width=k,this.height=M,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",k),this._pInst._setProperty("height",M))}return this},p.default.Element.prototype.remove=function(){this instanceof p.default.MediaElement&&(this.stop(),(T=this.elt.srcObject)!==null&&T.getTracks().forEach(function(k){k.stop()}));var _,T=this._pInst._elements.indexOf(this);for(_ in T!==-1&&this._pInst._elements.splice(T,1),this._events)this.elt.removeEventListener(_,this._events[_]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},p.default.Element.prototype.drop=function(_,T){var k;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",k=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",k)),p.default.Element._attachListener("drop",function(O){O.preventDefault(),typeof T=="function"&&T.call(this,O);var O=O.dataTransfer.files,L=!0,F=!1,D=void 0;try{for(var V,P=O[Symbol.iterator]();!(L=(V=P.next()).done);L=!0){var G=V.value;p.default.File._load(G,_)}}catch(z){F=!0,D=z}finally{try{L||P.return==null||P.return()}finally{if(F)throw D}}},this)):console.log("The File APIs are not fully supported in this browser."),this},p.default.Element.prototype.draggable=function(_){var T,k="ontouchstart"in window,M=0,O=0,L=0,F=0,D=k?"touchend":"mouseup",V=k?"touchmove":"mousemove";function P(z){var q;z=z||window.event,F=k?(q=z.changedTouches,M=L-parseInt(q[0].clientX),O=F-parseInt(q[0].clientY),L=parseInt(q[0].clientX),parseInt(q[0].clientY)):(M=L-parseInt(z.clientX),O=F-parseInt(z.clientY),L=parseInt(z.clientX),parseInt(z.clientY)),_.style.left=_.offsetLeft-M+"px",_.style.top=_.offsetTop-O+"px"}function G(){document.removeEventListener(D,G,!1),document.removeEventListener(V,P,!1)}return _===void 0?T=_=this.elt:_!==this.elt&&_.elt!==this.elt&&(_=_.elt,T=this.elt),T.addEventListener(k?"touchstart":"mousedown",function(z){{var q;z=z||window.event,F=k?(q=z.changedTouches,L=parseInt(q[0].clientX),parseInt(q[0].clientY)):(L=parseInt(z.clientX),parseInt(z.clientY))}return document.addEventListener(D,G,!1),document.addEventListener(V,P,!1),!1},!1),T.style.cursor="move",this};function x(_,T,k,M){u(this,x),this.callback=_,this.time=T,this.id=k,this.val=M}t=function(_){var T=M;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),_&&b(T,_);var k=v(M);function M(O,L){u(this,M);var F=o(L=k.call(this,O,L));return L.elt.crossOrigin="anonymous",L._prevTime=0,L._cueIDCounter=0,L._cues=[],L.pixels=[],L._pixelsState=o(L),L._pixelDensity=1,L._modified=!1,L._frameOnCanvas=-1,Object.defineProperty(F,"src",{get:function(){var D=F.elt.children[0].src,V=F.elt.src===window.location.href?"":F.elt.src;return D===window.location.href?V:D},set:function(D){for(var V=0;V<F.elt.children.length;V++)F.elt.removeChild(F.elt.children[V]);var P=document.createElement("source");P.src=D,O.appendChild(P),F.elt.src=D,F.modified=!0}}),F._onended=function(){},F.elt.onended=function(){F._onended(F)},L}return l(M,[{key:"play",value:function(){var O;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(O=this.elt.play())&&O.catch&&O.catch(function(L){L.name==="NotAllowedError"?console.error(L):console.error("Media play method encountered an unexpected error",L)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var O=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(O)},{passive:!0,once:!0})}},{key:"autoplay",value:function(O){var L=this,F=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",O),O&&!F&&(O=function(){return L._setupAutoplayFailDetection()},this.elt.readyState===4?O():this.elt.addEventListener("canplay",O,{passive:!0,once:!0})),this}},{key:"volume",value:function(O){if(O===void 0)return this.elt.volume;this.elt.volume=O}},{key:"speed",value:function(O){if(O===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=O:this.presetPlaybackRate=O}},{key:"time",value:function(O){return O===void 0?this.elt.currentTime:(this.elt.currentTime=O,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var O=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&O&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];return p.default.Renderer2D.prototype.loadPixels.apply(this,L)}},{key:"updatePixels",value:function(O,L,F,D){return this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.updatePixels.call(this,O,L,F,D)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];return p.default.Renderer2D.prototype.get.apply(this,L)}},{key:"_getPixel",value:function(){this.loadPixels();for(var O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];return p.default.Renderer2D.prototype._getPixel.apply(this,L)}},{key:"set",value:function(O,L,F){this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.set.call(this,O,L,F),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];p.default.prototype.copy.apply(this,L)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var O=arguments.length,L=new Array(O),F=0;F<O;F++)L[F]=arguments[F];p.default.Image.prototype.mask.apply(this,L)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(O){this._modified=O}},{key:"onended",value:function(O){return this._onended=O,this}},{key:"connect",value:function(O){var L,F;if(typeof p.default.prototype.getAudioContext=="function")L=p.default.prototype.getAudioContext(),F=p.default.soundOut.input;else try{F=(L=O.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=L.createMediaElementSource(this.elt),this.audioSourceNode.connect(F)),O?O.input?this.audioSourceNode.connect(O.input):this.audioSourceNode.connect(O):this.audioSourceNode.connect(F)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(O,V,F){var D=this._cueIDCounter++,V=new x(V,O,D,F);return this._cues.push(V),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),D}},{key:"removeCue",value:function(O){for(var L=0;L<this._cues.length;L++)this._cues[L].id===O&&(console.log(O),this._cues.splice(L,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var O=this.time(),L=0;L<this._cues.length;L++){var F=this._cues[L].time,D=this._cues[L].val;this._prevTime<F&&F<=O&&this._cues[L].callback(D)}this._prevTime=O}}]),M}(p.default.Element),p.default.MediaElement=t,t=function(){function _(T,k){u(this,_),this.file=T,this._pInst=k,k=T.type.split("/"),this.type=k[0],this.subtype=k[1],this.name=T.name,this.size=T.size,this.data=void 0}return l(_,null,[{key:"_createLoader",value:function(T,k){var M=new FileReader;return M.onload=function(O){var L,F=new p.default.File(T);F.file.type==="application/json"?F.data=JSON.parse(O.target.result):F.file.type==="text/xml"?(L=new DOMParser().parseFromString(O.target.result,"text/xml"),F.data=new p.default.XML(L.documentElement)):F.data=O.target.result,k(F)},M}},{key:"_load",value:function(T,k){var M;/^text\//.test(T.type)||T.type==="application/json"?p.default.File._createLoader(T,k).readAsText(T):/^(video|audio)\//.test(T.type)?((M=new p.default.File(T)).data=URL.createObjectURL(T),k(M)):p.default.File._createLoader(T,k).readAsDataURL(T)}}]),_}(),p.default.File=t,t=p.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(c,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(c=c("../core/main"))&&c.__esModule?c:{default:c};f.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",f.default.prototype.accelerationX=0,f.default.prototype.accelerationY=0,f.default.prototype.accelerationZ=0,f.default.prototype.pAccelerationX=0,f.default.prototype.pAccelerationY=0,f.default.prototype.pAccelerationZ=0,f.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},f.default.prototype.rotationX=0,f.default.prototype.rotationY=0,f.default.prototype.rotationZ=0,f.default.prototype.pRotationX=0,f.default.prototype.pRotationY=0;var p=f.default.prototype.pRotationZ=0,i=0,l=0,b="clockwise",v="clockwise",o="clockwise",a=(f.default.prototype.pRotateDirectionX=void 0,f.default.prototype.pRotateDirectionY=void 0,f.default.prototype.pRotateDirectionZ=void 0,f.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},f.default.prototype.turnAxis=void 0,.5),u=30,c=(f.default.prototype.setMoveThreshold=function(y){f.default._validateParameters("setMoveThreshold",arguments),a=y},f.default.prototype.setShakeThreshold=function(y){f.default._validateParameters("setShakeThreshold",arguments),u=y},f.default.prototype._ondeviceorientation=function(y){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(y.beta)),this._setProperty("rotationY",this._fromDegrees(y.gamma)),this._setProperty("rotationZ",this._fromDegrees(y.alpha)),this._handleMotion()},f.default.prototype._ondevicemotion=function(y){this._updatePAccelerations(),this._setProperty("accelerationX",2*y.acceleration.x),this._setProperty("accelerationY",2*y.acceleration.y),this._setProperty("accelerationZ",2*y.acceleration.z),this._handleMotion()},f.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var y,h,d,x,_,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(h=this._toDegrees(this.rotationX)+180,d=this._toDegrees(this.pRotationX)+180,y=p+180,0<h-d&&h-d<270||h-d<-270?b="clockwise":(h-d<0||270<h-d)&&(b="counter-clockwise"),b!==this.pRotateDirectionX&&(y=h),90<Math.abs(h-y)&&Math.abs(h-y)<270&&(y=h,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=b,p=y-180,d=this._toDegrees(this.rotationY)+180,h=this._toDegrees(this.pRotationY)+180,y=i+180,0<d-h&&d-h<270||d-h<-270?v="clockwise":(d-h<0||270<d-this.pRotationY)&&(v="counter-clockwise"),v!==this.pRotateDirectionY&&(y=d),90<Math.abs(d-y)&&Math.abs(d-y)<270&&(y=d,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=v,i=y-180,0<(h=this._toDegrees(this.rotationZ))-(d=this._toDegrees(this.pRotationZ))&&h-d<270||h-d<-270?o="clockwise":(h-d<0||270<h-d)&&(o="counter-clockwise"),o!==this.pRotateDirectionZ&&(l=h),90<Math.abs(h-l)&&Math.abs(h-l)<270&&(l=h,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=o,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),_=Math.abs(this.accelerationY-this.pAccelerationY)),u<x+_&&T.deviceShaken())},f.default);w.default=c},{"../core/main":283}],301:[function(t,j,w){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(p){var i;p.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",p.which),this._downKeys[p.which]=!0,this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),p.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(p.which)),typeof(i=this._isGlobal?window:this).keyPressed!="function"||p.charCode||i.keyPressed(p)===!1&&p.preventDefault())},f.default.prototype._onkeyup=function(p){var i=this,l=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[p.which]=!1,p.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(b){i._downKeys[b]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof l.keyReleased=="function"&&l.keyReleased(p)===!1&&p.preventDefault()},f.default.prototype._onkeypress=function(p){var i;p.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",p.which),this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),typeof(i=this._isGlobal?window:this).keyTyped=="function"&&i.keyTyped(p)===!1&&p.preventDefault())},f.default.prototype._onblur=function(p){this._downKeys={}},f.default.prototype.keyIsDown=function(p){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[p]||!1},f.default.prototype._areDownKeys=function(){for(var p in this._downKeys)if(this._downKeys.hasOwnProperty(p)&&this._downKeys[p]===!0)return!0;return!1},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,j,w){function f(v){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(v)}function p(v){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(i=t("../core/main"))&&i.__esModule?i:{default:i},l=function(v){if(v&&v.__esModule)return v;if(v===null||p(v)!=="object"&&typeof v!="function")return{default:v};var o=b();if(o&&o.has(v))return o.get(v);var a,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in v){var y;Object.prototype.hasOwnProperty.call(v,a)&&((y=c?Object.getOwnPropertyDescriptor(v,a):null)&&(y.get||y.set)?Object.defineProperty(u,a,y):u[a]=v[a])}return u.default=v,o&&o.set(v,u),u}(t("../core/constants"));function b(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,b=function(){return v},v)}i.default.prototype.movedX=0,i.default.prototype.movedY=0,i.default.prototype._hasMouseInteracted=!1,i.default.prototype.mouseX=0,i.default.prototype.mouseY=0,i.default.prototype.pmouseX=0,i.default.prototype.pmouseY=0,i.default.prototype.winMouseX=0,i.default.prototype.winMouseY=0,i.default.prototype.pwinMouseX=0,i.default.prototype.pwinMouseY=0,i.default.prototype.mouseButton=0,i.default.prototype.mouseIsPressed=!1,i.default.prototype._updateNextMouseCoords=function(v){var o,a,u,c,y;this._curElement!==null&&(!v.touches||0<v.touches.length)&&(o=this._curElement.elt,a=this.width,u=this.height,(c=v)&&!c.clientX&&(c.touches?c=c.touches[0]:c.changedTouches&&(c=c.changedTouches[0])),y=o.getBoundingClientRect(),a=o.scrollWidth/a||1,o=o.scrollHeight/u||1,u={x:(c.clientX-y.left)/a,y:(c.clientY-y.top)/o,winX:c.clientX,winY:c.clientY,id:c.identifier},this._setProperty("movedX",v.movementX),this._setProperty("movedY",v.movementY),this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.default.prototype._setMouseButton=function(v){v.button===1?this._setProperty("mouseButton",l.CENTER):v.button===2?this._setProperty("mouseButton",l.RIGHT):this._setProperty("mouseButton",l.LEFT)},i.default.prototype._onmousemove=function(v){var o=this._isGlobal?window:this;this._updateNextMouseCoords(v),this.mouseIsPressed?typeof o.mouseDragged=="function"?o.mouseDragged(v)===!1&&v.preventDefault():typeof o.touchMoved=="function"&&o.touchMoved(v)===!1&&v.preventDefault():typeof o.mouseMoved=="function"&&o.mouseMoved(v)===!1&&v.preventDefault()},i.default.prototype._onmousedown=function(v){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(v),this._updateNextMouseCoords(v),this.touchstart||(typeof o.mousePressed=="function"?o.mousePressed(v)===!1&&v.preventDefault():typeof o.touchStarted=="function"&&o.touchStarted(v)===!1&&v.preventDefault(),this.touchstart=!1)},i.default.prototype._onmouseup=function(v){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof o.mouseReleased=="function"?o.mouseReleased(v)===!1&&v.preventDefault():typeof o.touchEnded=="function"&&o.touchEnded(v)===!1&&v.preventDefault(),this.touchend=!1)},i.default.prototype._ondragend=i.default.prototype._onmouseup,i.default.prototype._ondragover=i.default.prototype._onmousemove,i.default.prototype._onclick=function(v){var o=this._isGlobal?window:this;typeof o.mouseClicked=="function"&&o.mouseClicked(v)===!1&&v.preventDefault()},i.default.prototype._ondblclick=function(v){var o=this._isGlobal?window:this;typeof o.doubleClicked=="function"&&o.doubleClicked(v)===!1&&v.preventDefault()},i.default.prototype._mouseWheelDeltaY=0,i.default.prototype._pmouseWheelDeltaY=0,i.default.prototype._onwheel=function(v){var o=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",v.deltaY),typeof o.mouseWheel=="function"&&(v.delta=v.deltaY,o.mouseWheel(v)===!1&&v.preventDefault())},i.default.prototype.requestPointerLock=function(){var v=this._curElement.elt;return v.requestPointerLock=v.requestPointerLock||v.mozRequestPointerLock,v.requestPointerLock?(v.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},i.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=i.default,w.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var p=[],i=0;i<f.touches.length;i++)p[i]=function(y,c,h,o){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,u=y.getBoundingClientRect(),c=y.scrollWidth/c||1,y=y.scrollHeight/h||1,h=o.touches[a]||o.changedTouches[a];return{x:(h.clientX-u.left)/c,y:(h.clientY-u.top)/y,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,f,i);this._setProperty("touches",p)}},t.default.prototype._ontouchstart=function(f){var p=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof p.touchStarted=="function"&&(p.touchStarted(f)===!1&&f.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(f){var p=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof p.touchMoved=="function"?p.touchMoved(f)===!1&&f.preventDefault():typeof p.mouseDragged=="function"&&p.mouseDragged(f)===!1&&f.preventDefault()},t.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var p=this._isGlobal?window:this;typeof p.touchEnded=="function"&&(p.touchEnded(f)===!1&&f.preventDefault(),this.touchend=!0)},t=t.default,w.default=t},{"../core/main":283}],304:[function(t,j,w){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f,p,i,l,b={_toPixels:function(v){var o,a;return v instanceof ImageData?v.data:v.getContext("2d")?v.getContext("2d").getImageData(0,0,v.width,v.height).data:v.getContext("webgl")?(a=(o=v.getContext("webgl")).drawingBufferWidth*o.drawingBufferHeight*4,a=new Uint8Array(a),o.readPixels(0,0,v.width,v.height,o.RGBA,o.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(v,o){return o*=4,v[3+o]<<24&4278190080|v[o]<<16&16711680|v[1+o]<<8&65280|255&v[2+o]},_setPixels:function(v,o){for(var a,u=0,c=v.length;u<c;u++)v[0+(a=4*u)]=(16711680&o[u])>>>16,v[1+a]=(65280&o[u])>>>8,v[2+a]=255&o[u],v[3+a]=(4278190080&o[u])>>>24},_toImageData:function(v){return v instanceof ImageData?v:v.getContext("2d").getImageData(0,0,v.width,v.height)},_createImageData:function(v,o){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(v,o)},apply:function(v,y,a){var u=v.getContext("2d"),c=u.getImageData(0,0,v.width,v.height),y=y(c,a);y instanceof ImageData?u.putImageData(y,0,0,0,0,v.width,v.height):u.putImageData(c,0,0,0,0,v.width,v.height)},threshold:function(v){for(var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,a=b._toPixels(v),u=Math.floor(255*o),c=0;c<a.length;c+=4){var y=void 0,y=u<=.2126*a[c]+.7152*a[c+1]+.0722*a[c+2]?255:0;a[c]=a[c+1]=a[c+2]=y}},gray:function(v){for(var o=b._toPixels(v),a=0;a<o.length;a+=4){var u=o[a],c=o[a+1],y=o[a+2];o[a]=o[a+1]=o[a+2]=.2126*u+.7152*c+.0722*y}},opaque:function(v){for(var o=b._toPixels(v),a=0;a<o.length;a+=4)o[a+3]=255;return o},invert:function(v){for(var o=b._toPixels(v),a=0;a<o.length;a+=4)o[a]=255-o[a],o[a+1]=255-o[a+1],o[a+2]=255-o[a+2]},posterize:function(v){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,a=b._toPixels(v);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var u=o-1,c=0;c<a.length;c+=4){var y=a[c],h=a[c+1],d=a[c+2];a[c]=255*(y*o>>8)/u,a[c+1]=255*(h*o>>8)/u,a[c+2]=255*(d*o>>8)/u}},dilate:function(v){for(var o,a,u,c,y,h,d,x,_,T=b._toPixels(v),k=0,M=T.length?T.length/4:0,O=new Int32Array(M);k<M;)for(a=(o=k)+v.width;k<a;)c=u=b._getARGB(T,k),(_=k-1)<o&&(_=k),a<=(x=k+1)&&(x=k),(y=k-v.width)<0&&(y=0),M<=(h=k+v.width)&&(h=k),y=b._getARGB(T,y),_=b._getARGB(T,_),h=b._getARGB(T,h),(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(d=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(u=_,c=d),c<(d=77*((_=b._getARGB(T,x))>>16&255)+151*(_>>8&255)+28*(255&_))&&(u=_,c=d),c<(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(u=y,c=x),c<(_=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(u=h,c=_),O[k++]=u;b._setPixels(T,O)},erode:function(v){for(var o,a,u,c,y,h,d,x,_,T=b._toPixels(v),k=0,M=T.length?T.length/4:0,O=new Int32Array(M);k<M;)for(a=(o=k)+v.width;k<a;)c=u=b._getARGB(T,k),(_=k-1)<o&&(_=k),a<=(x=k+1)&&(x=k),(y=k-v.width)<0&&(y=0),M<=(h=k+v.width)&&(h=k),y=b._getARGB(T,y),_=b._getARGB(T,_),h=b._getARGB(T,h),(d=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(u=_,c=d),(d=77*((_=b._getARGB(T,x))>>16&255)+151*(_>>8&255)+28*(255&_))<c&&(u=_,c=d),(x=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<c&&(u=y,c=x),(_=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<c&&(u=h,c=_),O[k++]=u;b._setPixels(T,O)},blur:function(v,o){for(var a,u,c,y,h,d,x,_,T,k,M=b._toPixels(v),O=v.width,L=v.height,F=O*L,D=new Int32Array(F),V=0;V<F;V++)D[V]=b._getARGB(M,V);var P,G,z,q,Q,K,Z,Y,ee=new Int32Array(F),ae=new Int32Array(F),A=new Int32Array(F),B=new Int32Array(F),W=0,J=3.5*o|0;if(f!==(J=J<1?1:J<248?J:248)){p=1+(f=J)<<1,i=new Int32Array(p),l=new Array(p);for(var ie=0;ie<p;ie++)l[ie]=new Int32Array(256);for(var ne=1,pe=J-1;ne<J;ne++){i[J+ne]=i[pe]=K=pe*pe,Z=l[J+ne],Y=l[pe--];for(var ge=0;ge<256;ge++)Z[ge]=Y[ge]=K*ge}Q=i[J]=J*J,Z=l[J];for(var he=0;he<256;he++)Z[he]=Q*he}for(G=0;G<L;G++){for(P=0;P<O;P++){if(y=c=u=h=a=0,(d=P-f)<0)k=-d,d=0;else{if(O<=d)break;k=0}for(z=k;z<p&&!(O<=d);z++){var be=D[d+W];q=l[z],h+=q[(-16777216&be)>>>24],u+=q[(16711680&be)>>16],c+=q[(65280&be)>>8],y+=q[255&be],a+=i[z],d++}ee[x=W+P]=h/a,ae[x]=u/a,A[x]=c/a,B[x]=y/a}W+=O}for(T=(_=-f)*O,G=W=0;G<L;G++){for(P=0;P<O;P++){if(y=c=u=h=a=0,_<0)k=x=-_,d=P;else{if(L<=_)break;k=0,x=_,d=P+T}for(z=k;z<p&&!(L<=x);z++)q=l[z],h+=q[ee[d]],u+=q[ae[d]],c+=q[A[d]],y+=q[B[d]],a+=i[z],x++,d+=O;D[P+W]=h/a<<24|u/a<<16|c/a<<8|y/a}W+=O,T+=O,_++}b._setPixels(M,D)}};w.default=b},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=i(t("../core/main")),p=i(t("omggif"));function i(b){return b&&b.__esModule?b:{default:b}}function l(b){return function(v){if(Array.isArray(v)){for(var o=0,a=new Array(v.length);o<v.length;o++)a[o]=v[o];return a}}(b)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(b,v){return f.default._validateParameters("createImage",arguments),new f.default.Image(b,v)},f.default.prototype.saveCanvas=function(){for(var b,v,o,a,u,c,y=arguments.length,h=new Array(y),d=0;d<y;d++)h[d]=arguments[d];switch(f.default._validateParameters("saveCanvas",h),h[0]instanceof HTMLCanvasElement?(b=h[0],h.shift()):h[0]instanceof f.default.Element?(b=h[0].elt,h.shift()):h[0]instanceof f.default.Framebuffer?(a=h[0],(u=this.createGraphics(a.width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),u.loadPixels(),u.pixels.set(a.pixels),u.updatePixels(),b=u.elt,h.shift()):b=this._curElement&&this._curElement.elt,1<=h.length&&(v=h[0]),o=(o=2<=h.length?h[1]:o)||f.default.prototype._checkFileExtension(v,o)[1]||"png"){default:c="image/png";break;case"webp":c="image/webp";break;case"jpeg":case"jpg":c="image/jpeg"}b.toBlob(function(x){f.default.prototype.downloadFile(x,v,o),u&&u.remove()},c)},f.default.prototype.encodeAndDownloadGif=function(b,v){for(var o=b.gifProperties,a=o.loopLimit,u=(a===1?a=null:a===null&&(a=0),new Uint8Array(b.width*b.height*o.numFrames)),c=[],y={},h=0;h<o.numFrames;h++){for(var d=new Set,x=o.frames[h].image.data,_=x.length,T=new Uint32Array(b.width*b.height),k=0,M=0;k<_;k+=4,M++){var O=x[k+0]<<16|x[k+1]<<8|x[k+2]<<0;d.add(O),T[M]=O}var L=l(d).sort().toString();y[L]===void 0?y[L]={freq:1,frames:[h]}:(y[L].freq+=1,y[L].frames.push(h)),c.push(T)}for(var V=[],F=Object.keys(y).sort(function(A,B){return y[B].freq-y[A].freq}),D=F[0].split(",").map(function(A){return parseInt(A)}),V=V.concat(y[D].frames),P=new Set(D),G=1;G<F.length;G++){var z=F[G].split(",").map(function(A){return parseInt(A)}).filter(function(A){return!P.has(A)});if(D.length+z.length<=256){for(var q=0;q<z.length;q++)D.push(z[q]),P.add(z[q]);V=V.concat(y[F[G]].frames)}}V=new Set(V);for(var Q={},K=0;K<D.length;K++)Q[D[K]]||(Q[D[K]]=K);for(var Z=1;Z<D.length;)Z<<=1;D.length=Z;for(var a={loop:a,palette:new Uint32Array(D)},Y=new p.default.GifWriter(u,b.width,b.height,a),ee={},ae=0;ae<o.numFrames;ae++)(function(B){var W=!V.has(B),J=W?[]:D,ie=new Uint8Array(b.width*b.height),ne={},pe=new Set,ge=(c[B].forEach(function(de,xe){W?(ne[de]===void 0&&(ne[de]=J.length,J.push(de)),ie[xe]=ne[de]):ie[xe]=Q[de],0<B&&c[B-1][xe]!==de&&pe.add(de)}),{}),he=J.filter(function(de){return!pe.has(de)});if(0<he.length){var he=he[0],be=(W?ne:Q)[he];if(0<B){for(var _e=0;_e<c[B].length;_e++)c[B-1][_e]===c[B][_e]&&(ie[_e]=be);ge.transparent=be,ee.frameOpts.disposal=1}}if(ge.delay=o.frames[B].delay/10,W){for(var le=1;le<J.length;)le<<=1;J.length=le,ge.palette=new Uint32Array(J)}0<B&&Y.addFrame(0,0,b.width,b.height,ee.pixelPaletteIndex,ee.frameOpts),ee={pixelPaletteIndex:ie,frameOpts:ge}})(ae);ee.frameOpts.disposal=1,Y.addFrame(0,0,b.width,b.height,ee.pixelPaletteIndex,ee.frameOpts),a=new Blob([u.slice(0,Y.end())],{type:"image/gif"}),f.default.prototype.downloadFile(a,v,"gif")},f.default.prototype.saveFrames=function(b,v,o,c,u){f.default._validateParameters("saveFrames",arguments),o=f.default.prototype.constrain(o=o||3,0,15),o*=1e3;var c=f.default.prototype.constrain(c||15,0,22),y=0,h=f.default.prototype._makeFrame,d=this._curElement.elt,x=[],_=setInterval(function(){x.push(h(b+y,v,d)),y++},1e3/c);setTimeout(function(){if(clearInterval(_),u)u(x);else for(var T=0,k=x;T<k.length;T++){var M=k[T];f.default.prototype.downloadFile(M.imageData,M.filename,M.ext)}x=[]},.01+o)},f.default.prototype._makeFrame=function(b,v,u){var a,u=this?this._curElement.elt:u;if(v)switch(v.toLowerCase()){case"png":a="image/png";break;case"jpeg":case"jpg":a="image/jpeg";break;default:a="image/png"}else v="png",a="image/png";var u=(u=u.toDataURL(a)).replace(a,"image/octet-stream"),c={};return c.imageData=u,c.filename=b,c.ext=v,c},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,j,w){function f(d){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(d)}function p(d){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(x){return f(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t("regenerator-runtime/runtime");var i=u(t("../core/main")),l=u(t("../core/helpers")),b=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var x=a();if(x&&x.has(d))return x.get(d);var _,T={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in d){var M;Object.prototype.hasOwnProperty.call(d,_)&&((M=k?Object.getOwnPropertyDescriptor(d,_):null)&&(M.get||M.set)?Object.defineProperty(T,_,M):T[_]=d[_])}return T.default=d,x&&x.set(d,T),T}(t("../core/constants")),v=u(t("omggif")),o=t("gifenc");function a(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,a=function(){return d},d)}function u(d){return d&&d.__esModule?d:{default:d}}function c(d,x,_,T,k,M,O){try{var L=d[M](O),F=L.value}catch(D){return void _(D)}L.done?x(F):Promise.resolve(F).then(T,k)}function y(d,x,_,T,k,M,O,L,F,D,V){var P,G,z,q,Q,K,Z,Y,ee;return d===b.COVER&&(P=x,z=_,Z=M,Y=O,K=L,ee=F,G=D,q=V,Q=Math.max(Z/G,Y/q),Z/=Q,Y/=Q,Q=K,K=ee,P===b.CENTER?Q+=(G-Z)/2:P===b.RIGHT&&(Q+=G-Z),z===b.CENTER?K+=(q-Y)/2:z===b.BOTTOM&&(K+=q-Y),L=(ee={x:Q,y:K,w:Z,h:Y}).x,F=ee.y,D=ee.w,V=ee.h),d===b.CONTAIN&&(P=x,G=_,z=T,q=k,Q=M,K=O,Z=D,Y=V,ee=Math.max(Z/Q,Y/K),Z/=ee,Y/=ee,ee=z,z=q,P===b.CENTER?ee+=(Q-Z)/2:P===b.RIGHT&&(ee+=Q-Z),G===b.CENTER?z+=(K-Y)/2:G===b.BOTTOM&&(z+=K-Y),T=(d={x:ee,y:z,w:Z,h:Y}).x,k=d.y,M=d.w,O=d.h),{sx:L,sy:F,sw:D,sh:V,dx:T,dy:k,dw:M,dh:O}}function h(d,x){return 0<d&&d<x?d:x}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(d,x,_){i.default._validateParameters("loadImage",arguments);var T=new i.default.Image(1,1,this),k=this,M=new Request(d,{method:"GET",mode:"cors"});return fetch(d,M).then(function(O){var L,F=O.headers.get("content-type");F===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),F&&F.includes("image/gif")?O.arrayBuffer().then(function(D){if(D){for(var D=new Uint8Array(D),V=T,P=x,G=_,z=(function(W){k._decrementPreload()}).bind(k),q=new v.default.GifReader(D),Q=(V.width=V.canvas.width=q.width,V.height=V.canvas.height=q.height,[]),K=q.numFrames(),Z=new Uint8ClampedArray(V.width*V.height*4),Y=0;Y<K;Y++){var ee=q.frameInfo(Y),ae=V.drawingContext.getImageData(0,0,V.width,V.height),A=(Z=ae.data.slice(),function(W,J){try{J.decodeAndBlitFrameRGBA(W,Z)}catch(ie){i.default._friendlyFileLoadError(8,V.src),typeof G=="function"?G(ie):console.error(ie)}}(Y,q),new ImageData(Z,V.width,V.height)),A=(V.drawingContext.putImageData(A,0,0),ee.delay);A===0&&(A=10),Q.push({image:V.drawingContext.getImageData(0,0,V.width,V.height),delay:10*A}),ee.disposal===2?V.drawingContext.clearRect(ee.x,ee.y,ee.width,ee.height):ee.disposal===3&&V.drawingContext.putImageData(ae,0,0,ee.x,ee.y,ee.width,ee.height)}(D=q.loopCount())===null?D=1:D===0&&(D=null),V.drawingContext.putImageData(Q[0].image,0,0),1<Q.length&&(V.gifProperties={displayIndex:0,loopLimit:D,loopCount:0,frames:Q,numFrames:K,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof P=="function"&&P(V),z()}},function(D){typeof _=="function"?(_(D),k._decrementPreload()):console.error(D)}):((L=new Image).onload=function(){T.width=T.canvas.width=L.width,T.height=T.canvas.height=L.height,T.drawingContext.drawImage(L,0,0),T.modified=!0,typeof x=="function"&&x(T),k._decrementPreload()},L.onerror=function(D){i.default._friendlyFileLoadError(0,L.src),typeof _=="function"?(_(D),k._decrementPreload()):console.error(D)},d.indexOf("data:image/")!==0&&(L.crossOrigin="Anonymous"),L.src=d),T.modified=!0}).catch(function(O){i.default._friendlyFileLoadError(0,d),typeof _=="function"?(_(O),k._decrementPreload()):console.error(O)}),T},i.default.prototype.saveGif=function(){d=regeneratorRuntime.mark(function _(T,k){var M,O,L,F,D,V,P,G,z,q,Q,K,Z,Y,ee,ae,A,B,W,J,ie,ne,pe,ge,he,be,_e=arguments;return regeneratorRuntime.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(M=2<_e.length&&_e[2]!==void 0?_e[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");le.next=3;break;case 3:if(typeof k!="number")throw TypeError("Duration parameter must be a number");le.next=5;break;case 5:if(O=M&&M.delay||0,L=M&&M.units||"seconds",F=M&&M.silent||!1,D=M&&M.notificationDuration||0,V=M&&M.notificationID||"progressBar",typeof O!="number")throw TypeError("Delay parameter must be a number");le.next=12;break;case 12:if(L!=="seconds"&&L!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');le.next=14;break;case 14:if(typeof F!="boolean")throw TypeError("Silent parameter must be a boolean");le.next=16;break;case 16:if(typeof D!="number")throw TypeError("Notification duration parameter must be a number");le.next=18;break;case 18:if(typeof V!="string")throw TypeError("Notification ID parameter must be a string");le.next=20;break;case 20:return this._recording=!0,q=this._targetFrameRate,P=(P=1/(q=q!==1/0&&q!==void 0&&q!==0?q:60)*1e3)<20?20:P,z=(G=L==="seconds"?k*q:k)+(q=L==="seconds"?O*q:O),q=q,this.frameCount=q,Q=this._pixelDensity,this.pixelDensity(1),K=[],document.getElementById(V)!==null&&document.getElementById(V).remove(),F||((Z=this.createP("")).id(V),Z.style("font-size","16px"),Z.style("font-family","Montserrat"),Z.style("background-color","#ffffffa0"),Z.style("padding","8px"),Z.style("border-radius","10px"),Z.position(0,0)),this._renderer instanceof i.default.RendererGL&&(ee=this.drawingContext,Y=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4)),this.noLoop(),le.next=39,Promise.resolve();case 39:if(q<z)return this.redraw(),ge=void 0,ge=this._renderer instanceof i.default.RendererGL?(Y=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4),ee.readPixels(0,0,ee.drawingBufferWidth,ee.drawingBufferHeight,ee.RGBA,ee.UNSIGNED_BYTE,Y),function(de,xe,Ae){for(var Se=parseInt(Ae/2),Te=4*xe,ke=new Uint8Array(4*xe),Xe=0;Xe<Se;++Xe){var Pe=Xe*Te,mt=(Ae-Xe-1)*Te;ke.set(de.subarray(Pe,Pe+Te)),de.copyWithin(Pe,mt,mt+Te),de.set(ke,mt)}return de}(Y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,K.push(ge),q++,F||Z.html("Saved frame <b>"+K.length.toString()+"</b> out of "+G.toString()),le.next=48,new Promise(function(de){return setTimeout(de,0)});le.next=50;break;case 48:le.next=39;break;case 50:F||Z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Q),ae=(0,o.GIFEncoder)(),A=function(de){for(var xe=new Uint8Array(de.length*de[0].length),Ae=0;Ae<de.length;Ae++)xe.set(de[Ae],Ae*de[0].length);var Se=(0,o.quantize)(xe,256,{format:"rgba4444",oneBitAlpha:!0});return Se.length===256?Se[Se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Se}(K),B={},W=function(de){for(var xe=de.length/4,Ae=new Uint8Array(xe),Se=0;Se<xe;Se++){var Te=de[4*Se]<<24|de[4*Se+1]<<16|de[4*Se+2]<<8|de[4*Se+3];B[Te]===void 0&&(B[Te]=(0,o.nearestColorIndex)(A,de.slice(4*Se,4*(Se+1)))),Ae[Se]=B[Te]}return Ae},J=A.length-1,ie=[],ne=0;case 60:if(!(ne<K.length)){le.next=71;break}if(pe=W(K[ne]),ge=pe.slice(),ne===0)ae.writeFrame(pe,this.width,this.height,{palette:A,delay:P,dispose:1});else{for(he=0;he<pe.length;he++)pe[he]===ie[he]&&(pe[he]=J);ae.writeFrame(pe,this.width,this.height,{delay:P,transparent:!0,transparentIndex:J,dispose:1})}return ie=ge,F||Z.html("Rendered frame <b>"+ne.toString()+"</b> out of "+G.toString()),le.next=68,new Promise(function(de){return setTimeout(de,0)});case 68:ne++,le.next=60;break;case 71:ae.finish(),be=ae.bytesView(),be=new Blob([be],{type:"image/gif"}),K=[],this._recording=!1,this.loop(),F||(Z.html("Done. Downloading your gif!"),0<D&&setTimeout(function(){return Z.remove()},1e3*D)),i.default.prototype.downloadFile(be,T,"gif");case 80:case"end":return le.stop()}},_,this)});var d,x=function(){var _=this,T=arguments;return new Promise(function(k,M){var O=d.apply(_,T);function L(D){c(O,k,M,L,F,"next",D)}function F(D){c(O,k,M,L,F,"throw",D)}L(void 0)})};return function(_,T){return x.apply(this,arguments)}}(),i.default.prototype.image=function(d,x,_,T,q,Q,K,Z,ee,D,V,P){i.default._validateParameters("image",arguments);var Y=d.width,G=d.height,z=(P=P||b.CENTER,V=V||b.CENTER,d.elt&&(Y=Y!==void 0?Y:d.elt.width,G=G!==void 0?G:d.elt.height),d.elt&&d.elt.videoWidth&&!d.canvas&&(Y=Y!==void 0?Y:d.elt.videoWidth,G=G!==void 0?G:d.elt.videoHeight),T||Y),q=q||G,Q=Q||0,K=K||0,Z=h(Z!==void 0?Z:Y,Y),Y=h(ee!==void 0?ee:G,G),ee=1;d.elt&&!d.canvas&&d.elt.style.width&&(ee=d.elt.videoWidth&&!T?d.elt.videoWidth:d.elt.width,ee/=parseInt(d.elt.style.width,10)),Q*=ee,K*=ee,Y*=ee,Z*=ee,G=y(D,V,P,(G=l.default.modeAdjust(x,_,z,q,this._renderer._imageMode)).x,G.y,G.w,G.h,Q,K,Z,Y),this._renderer.image(d,G.sx,G.sy,G.sw,G.sh,G.dx,G.dy,G.dw,G.dh)},i.default.prototype.tint=function(){for(var d=arguments.length,x=new Array(d),_=0;_<d;_++)x[_]=arguments[_];i.default._validateParameters("tint",x);var T=this.color.apply(this,x);this._renderer._tint=T.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=i.default.Renderer2D.prototype._getTintedImageCanvas,i.default.prototype.imageMode=function(d){i.default._validateParameters("imageMode",arguments),d!==b.CORNER&&d!==b.CORNERS&&d!==b.CENTER||(this._renderer._imageMode=d)},t=i.default,w.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=i(t("../core/main")),p=i(t("./filters"));function i(b){return b&&b.__esModule?b:{default:b}}function l(b,v){for(var o=0;o<v.length;o++){var a=v[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}f.default.Image=function(){function b(a,u){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var v,o;return v=b,(o=[{key:"pixelDensity",value:function(a){return a!==void 0?(a<=0&&(f.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(y){var u,c=this.gifProperties,y=y._lastRealFrameTime||window.performance.now();c.lastChangeTime===0&&(c.lastChangeTime=y),c.playing&&(c.timeDisplayed=y-c.lastChangeTime,u=c.frames[c.displayIndex].delay,c.timeDisplayed>=u&&(u=Math.floor(c.timeDisplayed/u),c.timeDisplayed=0,c.lastChangeTime=y,c.displayIndex+=u,c.loopCount=Math.floor(c.displayIndex/c.numFrames),c.loopLimit!==null&&c.loopCount>=c.loopLimit?c.playing=!1:(y=c.displayIndex%c.numFrames,this.drawingContext.putImageData(c.frames[y].image,0,0),c.displayIndex=y,this.setModified(!0))))}},{key:"_setProperty",value:function(a,u){this[a]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,u,c,y){f.default.Renderer2D.prototype.updatePixels.call(this,a,u,c,y),this.setModified(!0)}},{key:"get",value:function(a,u,c,y){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return f.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(a,u,c){f.default.Renderer2D.prototype.set.call(this,a,u,c),this.setModified(!0)}},{key:"resize",value:function(a,u){a===0&&u===0?(a=this.canvas.width,u=this.canvas.height):a===0?a=this.canvas.width*u/this.canvas.height:u===0&&(u=this.canvas.height*a/this.canvas.width),a=Math.floor(a),u=Math.floor(u);var c=document.createElement("canvas");if(c.width=a,c.height=u,this.gifProperties)for(var y=this.gifProperties,h=0;h<y.numFrames;h++){for(var d=this.drawingContext.createImageData(a,u),x=(O=O=M=k=T=void 0,y.frames[h].image),_=d,T=0,k=0;k<_.height;k++)for(var M=0;M<_.width;M++){var O=Math.floor(M*x.width/_.width),O=4*(Math.floor(k*x.height/_.height)*x.width+O);_.data[T++]=x.data[O++],_.data[T++]=x.data[O++],_.data[T++]=x.data[O++],_.data[T++]=x.data[+O]}y.frames[h].image=d}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=a,this.canvas.height=this.height=u,this.drawingContext.drawImage(c,0,0,a,u,0,0,a,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];f.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(a){var u=this.drawingContext.globalCompositeOperation,c=this._pixelDensity,y=1,h=[a=a===void 0?this:a,0,0,(y=a instanceof f.default.Renderer?a._pInst._pixelDensity:y)*a.width,y*a.height,0,0,c*this.width,c*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var d=0;d<this.gifProperties.frames.length;d++)this.drawingContext.putImageData(this.gifProperties.frames[d].image,0,0),this.copy.apply(this,h),this.gifProperties.frames[d].image=this.drawingContext.getImageData(0,0,c*this.width,c*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,h);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(a,u){p.default.apply(this.canvas,p.default[a],u),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,u){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,a):f.default.prototype.saveCanvas(this.canvas,a,u)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var u;this.gifProperties&&(a<(u=this.gifProperties).numFrames&&0<=a?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=a,this.drawingContext.putImageData(u.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,u){if(this.gifProperties){var c=this.gifProperties;if(u<c.numFrames&&0<=u)c.frames[u].delay=a;else{var y=!0,u=!1,h=void 0;try{for(var d,x=c.frames[Symbol.iterator]();!(y=(d=x.next()).done);y=!0)d.value.delay=a}catch(T){u=!0,h=T}finally{try{y||x.return==null||x.return()}finally{if(u)throw h}}}}}}])&&l(v.prototype,o),b}(),t=f.default.Image,w.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,j,w){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=i(t("../core/main")),p=i(t("./filters"));function i(l){return l&&l.__esModule?l:{default:l}}t("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var l,b=arguments.length,v=new Array(b),o=0;o<b;o++)v[o]=arguments[o];f.default._validateParameters("blend",v),this._renderer?(l=this._renderer).blend.apply(l,v):f.default.Renderer2D.prototype.blend.apply(this,v)},f.default.prototype.copy=function(){for(var l,b,v,o,a,u,c,y,h,d=arguments.length,x=new Array(d),_=0;_<d;_++)x[_]=arguments[_];if(f.default._validateParameters("copy",x),x.length===9)l=x[0],b=x[1],v=x[2],o=x[3],a=x[4],u=x[5],c=x[6],y=x[7],h=x[8];else{if(x.length!==8)throw new Error("Signature not supported");l=this,b=x[0],v=x[1],o=x[2],a=x[3],u=x[4],c=x[5],y=x[6],h=x[7]}f.default.prototype._copyHelper(this,l,b,v,o,a,u,c,y,h)},f.default.prototype._copyHelper=function(l,b,v,o,a,u,c,y,h,d){var x=b.canvas.width/b.width,_=0,T=0;b._renderer&&b._renderer.isP3D&&(_=b.width/2,T=b.height/2),l._renderer&&l._renderer.isP3D?(l.push(),l.resetMatrix(),l.noLights(),l.blendMode(l.BLEND),l.imageMode(l.CORNER),f.default.RendererGL.prototype.image.call(l._renderer,b,v+_,o+T,a,u,c,y,h,d),l.pop()):l.drawingContext.drawImage(b.canvas,x*(v+_),x*(o+T),x*a,x*u,c,y,h,d)},f.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},f.default.prototype.filter=function(){for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];f.default._validateParameters("filter",b);var c=(function(){var y,h={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof f.default.Shader?h.shader=arguments.length<=0?void 0:arguments[0]:(h.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(h.value=arguments.length<=1?void 0:arguments[1]),((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])===!1&&(h.useWebGL=!1)),h}).apply(void 0,b),o=c.shader,a=c.operation,u=c.value,c=c.useWebGL;this._renderer.isP3D&&o?f.default.RendererGL.prototype.filter.call(this._renderer,o):c||this._renderer.isP3D?(!c&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?f.default.RendererGL.prototype.filter.call(this._renderer,a,u):((o=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),o.filter.apply(o,b),this.copy(o._renderer,0,0,this.width,this.height,0,0,this.width,this.height),o.clear())):this.canvas!==void 0?p.default.apply(this.canvas,p.default[a],u):p.default.apply(this.elt,p.default[a],u)},f.default.prototype.get=function(l,b,v,o){var a;return f.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},f.default.prototype.loadPixels=function(){for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];f.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},f.default.prototype.set=function(l,b,v){this._renderer.set(l,b,v)},f.default.prototype.updatePixels=function(l,b,v,o){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(l,b,v,o)},t=f.default,w.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,j,w){function f(u){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=b(t("../core/main")),i=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),l=b(t("file-saver"));function b(u){return u&&u.__esModule?u:{default:u}}function v(u){return(v=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(u)}function o(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(u,c){c&&c!==!0&&c!=="true"||(c="");var y="";return(u=u||"untitled")&&u.includes(".")&&(y=u.split(".").pop()),c&&y!==c&&(y=c,u="".concat(u,".").concat(y)),[u,y]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),p.default.prototype.loadJSON=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];p.default._validateParameters("loadJSON",c);for(var h,d,x,_=c[0],T={},k="json",M=1;M<c.length;M++){var O=c[M];typeof O=="string"?O!=="jsonp"&&O!=="json"||(k=O):typeof O=="function"?h?d=O:h=O:v(O)==="object"&&(O.hasOwnProperty("jsonpCallback")||O.hasOwnProperty("jsonpCallbackFunction"))&&(k="jsonp",x=O)}var L=this;return this.httpDo(_,"GET",x,k,function(F){for(var D in F)T[D]=F[D];h!==void 0&&h(F),L._decrementPreload()},function(F){if(p.default._friendlyFileLoadError(5,_),!d)throw F;d(F)}),T},p.default.prototype.loadStrings=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];p.default._validateParameters("loadStrings",c);for(var h,d,x=[],_=1;_<c.length;_++){var T=c[_];typeof T=="function"&&(h===void 0?h=T:d===void 0&&(d=T))}var k=this;return p.default.prototype.httpDo.call(this,c[0],"GET","text",function(M){for(var O=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),L=0,F=O.length;L<F;L+=32768)Array.prototype.push.apply(x,O.slice(L,Math.min(L+32768,F)));h!==void 0&&h(x),k._decrementPreload()},function(M){if(p.default._friendlyFileLoadError(3,M),!d)throw M;d(M)}),x},p.default.prototype.loadTable=function(u){var c,y,h,d=!1,x=u.substring(u.lastIndexOf(".")+1,u.length);x==="csv"?h=",":x==="ssv"?h=";":x==="tsv"&&(h="	");for(var _=1;_<arguments.length;_++)typeof arguments[_]=="function"?c===void 0?c=arguments[_]:y===void 0&&(y=arguments[_]):typeof arguments[_]=="string"&&(arguments[_]==="header"&&(d=!0),arguments[_]==="csv"?h=",":arguments[_]==="ssv"?h=";":arguments[_]==="tsv"&&(h="	"));var T=new p.default.Table,k=this;return this.httpDo(u,"GET","table",function(M){for(var O,L,F={},D=0,V=[],P=0,G=null,z=function(){F.currentState=D,F.token=""},q=function(){G.push(F.token),z()},Q=function(){F.currentState=4,V.push(G),G=null};;){if((O=M[P++])==null){if(F.escaped)throw new Error("Unclosed quote in file.");if(G){q(),Q();break}}if(G===null&&(F.escaped=!1,G=[],z()),F.currentState===D){if(O==='"'){F.escaped=!0,F.currentState=1;continue}F.currentState=1}if(F.currentState===1&&F.escaped)if(O==='"')M[P]==='"'?(F.token+='"',P++):(F.escaped=!1,F.currentState=2);else{if(O==="\r")continue;F.token+=O}else O==="\r"?(M[P]===`
`&&P++,q(),Q()):O===`
`?(q(),Q()):O===h?q():F.currentState===1&&(F.token+=O)}if(d)T.columns=V.shift();else for(var K=0;K<V[0].length;K++)T.columns[K]="null";for(var Z=0;Z<V.length;Z++)(V[Z].length!==1||V[Z][0]!=="undefined"&&V[Z][0]!=="")&&((L=new p.default.TableRow).arr=V[Z],L.obj=function(Y,ee){if((ee=ee||[])===void 0)for(var ae=0;ae<Y.length;ae++)ee[ae.toString()]=ae;return Object.fromEntries(ee.map(function(A,B){return[A,Y[B]]}))}(V[Z],T.columns),T.addRow(L));typeof c=="function"&&c(T),k._decrementPreload()},function(M){p.default._friendlyFileLoadError(2,u),y?y(M):console.error(M)}),T},p.default.prototype.loadXML=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];for(var h,d,x=new p.default.XML,_=1;_<c.length;_++){var T=c[_];typeof T=="function"&&(h===void 0?h=T:d===void 0&&(d=T))}var k=this;return this.httpDo(c[0],"GET","xml",function(M){for(var O in M)x[O]=M[O];h!==void 0&&h(x),k._decrementPreload()},function(M){if(p.default._friendlyFileLoadError(1,M),!d)throw M;d(M)}),x},p.default.prototype.loadBytes=function(u,c,y){var h={},d=this;return this.httpDo(u,"GET","arrayBuffer",function(x){h.bytes=new Uint8Array(x),typeof c=="function"&&c(h),d._decrementPreload()},function(x){if(p.default._friendlyFileLoadError(6,u),!y)throw x;y(x)}),h},p.default.prototype.httpGet=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];return p.default._validateParameters("httpGet",c),c.splice(1,0,"GET"),p.default.prototype.httpDo.apply(this,c)},p.default.prototype.httpPost=function(){for(var u=arguments.length,c=new Array(u),y=0;y<u;y++)c[y]=arguments[y];return p.default._validateParameters("httpPost",c),c.splice(1,0,"POST"),p.default.prototype.httpDo.apply(this,c)},p.default.prototype.httpDo=function(){for(var u,c,y,h={},d=0,x="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)d++;var T=arguments.length-d,k=arguments.length<=0?void 0:arguments[0];if(T==2&&typeof k=="string"&&v(arguments.length<=1?void 0:arguments[1])==="object")V=new Request(k,arguments.length<=1?void 0:arguments[1]),c=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var M,O="GET",L=1;L<arguments.length;L++){var F=L<0||arguments.length<=L?void 0:arguments[L];if(typeof F=="string")F==="GET"||F==="POST"||F==="PUT"||F==="DELETE"?O=F:F==="json"||F==="jsonp"||F==="binary"||F==="arrayBuffer"||F==="xml"||F==="text"||F==="table"?u=F:M=F;else if(typeof F=="number")M=F.toString();else if(v(F)==="object")if(F.hasOwnProperty("jsonpCallback")||F.hasOwnProperty("jsonpCallbackFunction"))for(var D in F)h[D]=F[D];else x=F instanceof p.default.XML?(M=F.serialize(),"application/xml"):(M=JSON.stringify(F),"application/json");else typeof F=="function"&&(c?y=F:c=F)}var T=O==="GET"?new Headers:new Headers({"Content-Type":x}),V=new Request(k,{method:O,mode:"cors",body:M,headers:T})}return(T=(T=(u=u||(k.includes("json")?"json":k.includes("xml")?"xml":"text"))==="jsonp"?(0,i.default)(k,h):fetch(V)).then(function(P){if(!P.ok)throw(G=new Error(P.body)).status=P.status,G.ok=!1,G;var G=0;switch((G=u!=="jsonp"?P.headers.get("content-length"):G)&&64e6<G&&p.default._friendlyFileLoadError(7,k),u){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(z){return z=new DOMParser().parseFromString(z,"text/xml"),new p.default.XML(z.documentElement)});default:return P.text()}})).then(c||function(){}),T.catch(y||console.error),T},window.URL=window.URL||window.webkitURL,p.default.prototype._pWriters=[],p.default.prototype.createWriter=function(u,c){var y,h;for(h in p.default.prototype._pWriters)if(p.default.prototype._pWriters[h].name===u)return y=new p.default.PrintWriter(u+this.millis(),c),p.default.prototype._pWriters.push(y),y;return y=new p.default.PrintWriter(u,c),p.default.prototype._pWriters.push(y),y},p.default.PrintWriter=function(u,c){var y=this;this.name=u,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,`
`)},this.clear=function(){this.content=""},this.close=function(){var h,d=[];for(h in d.push(this.content),p.default.prototype.writeFile(d,u,c),p.default.prototype._pWriters)p.default.prototype._pWriters[h].name===this.name&&p.default.prototype._pWriters.splice(h,1);y.clear(),y={}}},p.default.prototype.save=function(u,c,y){var h=arguments,d=(this._curElement||this).elt;if(h.length===0)p.default.prototype.saveCanvas(d);else if(h[0]instanceof p.default.Renderer||h[0]instanceof p.default.Graphics)p.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(h.length===1&&typeof h[0]=="string")p.default.prototype.saveCanvas(d,h[0]);else switch(a(h[1],h[2])[1]){case"json":return void p.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void p.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?p.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof p.default.Table?p.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof p.default.Image?p.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof p.default.SoundFile&&p.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},p.default.prototype.saveJSON=function(u,c,y){p.default._validateParameters("saveJSON",arguments),y=y?JSON.stringify(u):JSON.stringify(u,void 0,2),this.saveStrings(y.split(`
`),c,"json")},p.default.prototype.saveJSONObject=p.default.prototype.saveJSON,p.default.prototype.saveJSONArray=p.default.prototype.saveJSON,p.default.prototype.saveStrings=function(u,c,y,h){p.default._validateParameters("saveStrings",arguments);for(var d=this.createWriter(c,y||"txt"),x=0;x<u.length;x++)h?d.write(u[x]+`\r
`):d.write(u[x]+`
`);d.close(),d.clear()},p.default.prototype.saveTable=function(u,c,y){p.default._validateParameters("saveTable",arguments),h=y===void 0?c.substring(c.lastIndexOf(".")+1,c.length):y;var h,d=this.createWriter(c,h),x=u.columns,_=h==="tsv"?"	":",";if(h!=="html"){if(x[0]!=="0"){for(var T=0;T<x.length;T++)T<x.length-1?d.write(x[T]+_):d.write(x[T]);d.write(`
`)}for(var k=0;k<u.rows.length;k++){for(var M=void 0,M=0;M<u.rows[k].arr.length;M++)M<u.rows[k].arr.length-1?h==="csv"&&String(u.rows[k].arr[M]).includes(",")?d.write('"'+u.rows[k].arr[M]+'"'+_):d.write(u.rows[k].arr[M]+_):h==="csv"&&String(u.rows[k].arr[M]).includes(",")?d.write('"'+u.rows[k].arr[M]+'"'):d.write(u.rows[k].arr[M]);d.write(`
`)}}else{if(d.print("<html>"),d.print("<head>"),d.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),d.print("</head>"),d.print("<body>"),d.print("  <table>"),x[0]!=="0"){d.print("    <tr>");for(var O=0;O<x.length;O++){var L=o(x[O]);d.print("      <td>".concat(L)),d.print("      </td>")}d.print("    </tr>")}for(var F=0;F<u.rows.length;F++){d.print("    <tr>");for(var D=0;D<u.columns.length;D++){var V=o(u.rows[F].getString(D));d.print("      <td>".concat(V)),d.print("      </td>")}d.print("    </tr>")}d.print("  </table>"),d.print("</body>"),d.print("</html>")}d.close(),d.clear()},p.default.prototype.writeFile=function(d,c,y){var h="application/octet-stream",d=(p.default.prototype._isSafari()&&(h="text/plain"),new Blob(d,{type:h}));p.default.prototype.downloadFile(d,c,y)},p.default.prototype.downloadFile=function(u,d,x){var h,d=a(d,x),x=d[0];u instanceof Blob?l.default.saveAs(u,x):((h=document.createElement("a")).href=u,h.download=x,h.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},h.style.display="none",document.body.appendChild(h),p.default.prototype._isSafari()&&(u=(u=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(d[1],'"'),alert(u)),h.click())},p.default.prototype._checkFileExtension=a,p.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=p.default,w.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(i,l){for(var b=0;b<l.length;b++){var v=l[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}f.default.Table=function(){function i(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],o=this,a=i;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=v}var l,b;return l=i,(b=[{key:"addRow",value:function(v){if(v=v||new f.default.TableRow,v.arr===void 0||v.obj===void 0)throw new Error("invalid TableRow: ".concat(v));return(v.table=this).rows.push(v),v}},{key:"removeRow",value:function(v){this.rows[v].table=null,v=this.rows.splice(v+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(v)}},{key:"getRow",value:function(v){return this.rows[v]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(v,o){if(typeof o=="string"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[o]===v)return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[o]===v)return this.rows[u];return null}},{key:"findRows",value:function(v,o){var a=[];if(typeof o=="string")for(var u=0;u<this.rows.length;u++)this.rows[u].obj[o]===v&&a.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[o]===v&&a.push(this.rows[c]);return a}},{key:"matchRow",value:function(v,o){if(typeof o=="number"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[o].match(v))return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[o].match(v))return this.rows[u];return null}},{key:"matchRows",value:function(v,o){var a=[];if(typeof o=="number")for(var u=0;u<this.rows.length;u++)this.rows[u].arr[o].match(v)&&a.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[o].match(v)&&a.push(this.rows[c]);return a}},{key:"getColumn",value:function(v){var o=[];if(typeof v=="string")for(var a=0;a<this.rows.length;a++)o.push(this.rows[a].obj[v]);else for(var u=0;u<this.rows.length;u++)o.push(this.rows[u].arr[v]);return o}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(v){this.columns.push(v||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(v,o){for(var a=[],u=0;u<v.length;u++)a.push(v.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(a.join("|"),"g");if(o===void 0)for(var y=0;y<this.columns.length;y++)for(var h=0;h<this.rows.length;h++){var d=(d=this.rows[h].arr[y]).replace(c,"");this.rows[h].arr[y]=d,this.rows[h].obj[this.columns[y]]=d}else if(typeof o=="string")for(var x=0;x<this.rows.length;x++){var _=(_=this.rows[x].obj[o]).replace(c,""),T=(this.rows[x].obj[o]=_,this.columns.indexOf(o));this.rows[x].arr[T]=_}else for(var k=0;k<this.rows.length;k++){var M=(M=this.rows[k].arr[o]).replace(c,"");this.rows[k].arr[o]=M,this.rows[k].obj[this.columns[o]]=M}}},{key:"trim",value:function(v){var o=new RegExp(" ","g");if(v===void 0)for(var a=0;a<this.columns.length;a++)for(var u=0;u<this.rows.length;u++){var c=(c=this.rows[u].arr[a]).replace(o,"");this.rows[u].arr[a]=c,this.rows[u].obj[this.columns[a]]=c}else if(typeof v=="string")for(var y=0;y<this.rows.length;y++){var h=(h=this.rows[y].obj[v]).replace(o,""),d=(this.rows[y].obj[v]=h,this.columns.indexOf(v));this.rows[y].arr[d]=h}else for(var x=0;x<this.rows.length;x++){var _=(_=this.rows[x].arr[v]).replace(o,"");this.rows[x].arr[v]=_,this.rows[x].obj[this.columns[v]]=_}}},{key:"removeColumn",value:function(u){typeof u=="string"?a=this.columns.indexOf(o=u):o=this.columns[a=u];var o,a,u=this.columns.splice(a+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(u);for(var c=0;c<this.rows.length;c++){var y=this.rows[c].arr,h=y.splice(a+1,y.length);y.pop(),this.rows[c].arr=y.concat(h),delete this.rows[c].obj[o]}}},{key:"set",value:function(v,o,a){this.rows[v].set(o,a)}},{key:"setNum",value:function(v,o,a){this.rows[v].setNum(o,a)}},{key:"setString",value:function(v,o,a){this.rows[v].setString(o,a)}},{key:"get",value:function(v,o){return this.rows[v].get(o)}},{key:"getNum",value:function(v,o){return this.rows[v].getNum(o)}},{key:"getString",value:function(v,o){return this.rows[v].getString(o)}},{key:"getObject",value:function(v){for(var o,a={},u=0;u<this.rows.length;u++)if(o=this.rows[u].obj,typeof v=="string"){if(!(0<=this.columns.indexOf(v)))throw new Error('This table has no column named "'.concat(v,'"'));a[o[v]]=o}else a[u]=this.rows[u].obj;return a}},{key:"getArray",value:function(){for(var v=[],o=0;o<this.rows.length;o++)v.push(this.rows[o].arr);return v}}])&&p(l.prototype,b),i}(),t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,j,w){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(p,i){for(var l=0;l<i.length;l++){var b=i[l];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}t.default.TableRow=function(){function p(b,v){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var o=[];b&&(o=b.split(v=v||",")),this.arr=o,this.obj=Object.fromEntries(o.entries()),this.table=null}var i,l;return i=p,(l=[{key:"set",value:function(b,v){if(typeof b=="string"){var o=this.table.columns.indexOf(b);if(!(0<=o))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=v,this.arr[o]=v}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=v,o=this.table.columns[b],this.obj[o]=v}}},{key:"setNum",value:function(b,v){v=parseFloat(v),this.set(b,v)}},{key:"setString",value:function(b,v){v=v.toString(),this.set(b,v)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var v=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(v.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return v}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&f(i.prototype,l),p}(),t=t.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(l,b){for(var v=0;v<b.length;v++){var o=b[v];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}function i(l){for(var b=[],v=0;v<l.length;v++)b.push(new f.default.XML(l[v]));return b}f.default.XML=function(){function l(o){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");o?this.DOM=o:(o=document.implementation.createDocument(null,"doc"),this.DOM=o.createElement("root"))}var b,v;return b=l,(v=[{key:"getParent",value:function(){return new f.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(o){var a=this.DOM.innerHTML,u=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(o);c.innerHTML=a;for(var y=0;y<u.length;y++)c.setAttribute(u[y].nodeName,u[y].nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var o=[],a=0;a<this.DOM.childNodes.length;a++)o.push(this.DOM.childNodes[a].nodeName);return o}},{key:"getChildren",value:function(o){return i(o?this.DOM.getElementsByTagName(o):this.DOM.children)}},{key:"getChild",value:function(o){if(typeof o!="string")return new f.default.XML(this.DOM.children[o]);var a=!0,u=!1,c=void 0;try{for(var y,h=this.DOM.children[Symbol.iterator]();!(a=(y=h.next()).done);a=!0){var d=y.value;if(d.tagName===o)return new f.default.XML(d)}}catch(x){u=!0,c=x}finally{try{a||h.return==null||h.return()}finally{if(u)throw c}}}},{key:"addChild",value:function(o){o instanceof f.default.XML&&this.DOM.appendChild(o.DOM)}},{key:"removeChild",value:function(o){var a=-1;if(typeof o=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===o){a=u;break}}else a=o;a!==-1&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var o=[],a=!0,u=!1,c=void 0;try{for(var y,h=this.DOM.attributes[Symbol.iterator]();!(a=(y=h.next()).done);a=!0){var d=y.value;o.push(d.nodeName)}}catch(x){u=!0,c=x}finally{try{a||h.return==null||h.return()}finally{if(u)throw c}}return o}},{key:"hasAttribute",value:function(o){var a={},u=!0,c=!1,y=void 0;try{for(var h,d=this.DOM.attributes[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var x=h.value;a[x.nodeName]=x.nodeValue}}catch(_){c=!0,y=_}finally{try{u||d.return==null||d.return()}finally{if(c)throw y}}return!!a[o]}},{key:"getNum",value:function(o,a){var u={},c=!0,y=!1,h=void 0;try{for(var d,x=this.DOM.attributes[Symbol.iterator]();!(c=(d=x.next()).done);c=!0){var _=d.value;u[_.nodeName]=_.nodeValue}}catch(T){y=!0,h=T}finally{try{c||x.return==null||x.return()}finally{if(y)throw h}}return Number(u[o])||a||0}},{key:"getString",value:function(o,a){var u={},c=!0,y=!1,h=void 0;try{for(var d,x=this.DOM.attributes[Symbol.iterator]();!(c=(d=x.next()).done);c=!0){var _=d.value;u[_.nodeName]=_.nodeValue}}catch(T){y=!0,h=T}finally{try{c||x.return==null||x.return()}finally{if(y)throw h}}return u[o]?String(u[o]):a||null}},{key:"setAttribute",value:function(o,a){this.DOM.setAttribute(o,a)}},{key:"getContent",value:function(o){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||o||null}},{key:"setContent",value:function(o){this.DOM.children.length||(this.DOM.textContent=o)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&p(b.prototype,v),l}(),t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(i){return function(l){if(Array.isArray(l)){for(var b=0,v=new Array(l.length);b<l.length;b++)v[b]=l[b];return v}}(i)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(i,l,b){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(i,b),l)},f.default.prototype.dist=function(){for(var i=arguments.length,l=new Array(i),b=0;b<i;b++)l[b]=arguments[b];return f.default._validateParameters("dist",l),l.length===4?Math.hypot(l[2]-l[0],l[3]-l[1]):l.length===6?Math.hypot(l[3]-l[0],l[4]-l[1],l[5]-l[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(i,l,b){return f.default._validateParameters("lerp",arguments),b*(l-i)+i},f.default.prototype.log=Math.log,f.default.prototype.mag=function(i,l){return f.default._validateParameters("mag",arguments),Math.hypot(i,l)},f.default.prototype.map=function(i,l,b,v,o,a){return f.default._validateParameters("map",arguments),i=(i-l)/(b-l)*(o-v)+v,a?v<o?this.constrain(i,v,o):this.constrain(i,o,v):i},f.default.prototype.max=function(){for(var i=function(o){return Math.max.apply(Math,p(o))},l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return Array.isArray(b[0])?i(b[0]):i(b)},f.default.prototype.min=function(){for(var i=function(o){return Math.min.apply(Math,p(o))},l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return Array.isArray(b[0])?i(b[0]):i(b)},f.default.prototype.norm=function(i,l,b){return f.default._validateParameters("norm",arguments),this.map(i,l,b,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(i,l){return l?(l=Math.pow(10,l),Math.round(i*l)/l):Math.round(i)},f.default.prototype.sq=function(i){return i*i},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(v){f.default._validateParameters("fract",arguments);var l,b=0,v=Number(v);return isNaN(v)||Math.abs(v)===1/0?v:(v<0&&(v=-v,b=1),String(v).includes(".")&&!String(v).includes("e")?(l=String(v),l=+("0"+l.slice(l.indexOf("."))),Math.abs(b-l)):v<1?Math.abs(b-v):0)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(l,b,v){return(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(o,a,u){var c=[null];return c.push.apply(c,a),a=new(Function.bind.apply(o,c)),u&&i(a,u.prototype),a}).apply(null,arguments)}function i(l,b){return(i=Object.setPrototypeOf||function(v,o){return v.__proto__=o,v})(l,b)}f.default.prototype.createVector=function(l,b,v){return this instanceof f.default?p(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(l,b,v)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(v,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,v=(v=v("../core/main"))&&v.__esModule?v:{default:v};function f(o){return .5*(1-Math.cos(o*Math.PI))}var p,i=4095,l=4,b=.5,v=(v.default.prototype.noise=function(o){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(p==null){p=new Array(4096);for(var c=0;c<4096;c++)p[c]=Math.random()}o<0&&(o=-o),a<0&&(a=-a),u<0&&(u=-u);for(var y,h,d=Math.floor(o),x=Math.floor(a),_=Math.floor(u),T=o-d,k=a-x,M=u-_,O=0,L=.5,F=0;F<l;F++){var D=d+(x<<4)+(_<<8),V=f(T),P=f(k),G=p[D&i];G+=V*(p[D+1&i]-G),y=p[D+16&i],G+=P*((y+=V*(p[D+16+1&i]-y))-G),y=p[(D+=256)&i],y+=V*(p[D+1&i]-y),h=p[D+16&i],y+=P*((h+=V*(p[D+16+1&i]-h))-y),O+=(G+=f(M)*(y-G))*L,L*=b,d<<=1,x<<=1,_<<=1,1<=(T*=2)&&(d++,T--),1<=(k*=2)&&(x++,k--),1<=(M*=2)&&(_++,M--)}return O},v.default.prototype.noiseDetail=function(o,a){0<o&&(l=o),0<a&&(b=a)},v.default.prototype.noiseSeed=function(o){c=4294967296;var a,u,c,y={setSeed:function(d){u=a=(d??Math.random()*c)>>>0},getSeed:function(){return a},rand:function(){return(u=(1664525*u+1013904223)%c)/c}};y.setSeed(o),p=new Array(4096);for(var h=0;h<4096;h++)p[h]=y.rand()},v.default);w.default=v},{"../core/main":283}],316:[function(t,j,w){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function p(a){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(u){return f(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":f(u)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(o=t("../core/main"))&&o.__esModule?o:{default:o},l=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var u=b();if(u&&u.has(a))return u.get(a);var c,y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var d;Object.prototype.hasOwnProperty.call(a,c)&&((d=h?Object.getOwnPropertyDescriptor(a,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=a[c])}return y.default=a,u&&u.set(a,y),y}(t("../core/constants"));function b(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,b=function(){return a},a)}function v(a,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}i.default.Vector=function(){function a(){var _=this,h=a;if(!(_ instanceof h))throw new TypeError("Cannot call a class as a function");var d,x,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],d=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(d=(arguments.length<=0?void 0:arguments[0])||0,x=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=d,this.y=x,this.z=_}var u,c,y;return u=a,y=[{key:"fromAngle",value:function(h){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new i.default.Vector(d*Math.cos(h),d*Math.sin(h),0)}},{key:"fromAngles",value:function(M,T){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,_=Math.cos(T),T=Math.sin(T),k=Math.cos(M),M=Math.sin(M);return new i.default.Vector(x*M*T,-x*k,x*M*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*l.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*l.TWO_PI,d=2*Math.random()-1,_=Math.sqrt(1-d*d),x=_*Math.cos(h),_=_*Math.sin(h);return new i.default.Vector(x,_,d)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return k?k.set(_):(k=_.copy(),d.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),k.add(T),k}},{key:"rem",value:function(h,d){if(h instanceof i.default.Vector&&d instanceof i.default.Vector)return(h=h.copy()).rem(d),h}},{key:"sub",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return k?k.set(_):(k=_.copy(),d.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),k.sub(T),k}},{key:"mult",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return k?k.set(_):(k=_.copy(),d.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),k.mult(T),k}},{key:"rotate",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return d.length===2?k=_.copy():(k instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),k.set(_)),k.rotate(T),k}},{key:"div",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return k?k.set(_):(k=_.copy(),d.length===3&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),k.div(T),k}},{key:"dot",value:function(h,d){return h.dot(d)}},{key:"cross",value:function(h,d){return h.cross(d)}},{key:"dist",value:function(h,d){return h.dist(d)}},{key:"lerp",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2],M=d[3];return M?M.set(_):(M=_.copy(),d.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(T,k),M}},{key:"slerp",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2],M=d[3];return M?M.set(_):(M=_.copy(),d.length===4&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(T,k),M}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1];return d.length<2?T=_.copy():(T instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),T.set(_)),T.normalize()}},{key:"limit",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return d.length<3?k=_.copy():(k instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),k.set(_)),k.limit(T)}},{key:"setMag",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return d.length<3?k=_.copy():(k instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),k.set(_)),k.setMag(T)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,d){return h.angleBetween(d)}},{key:"reflect",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];return d.length<3?k=_.copy():(k instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),k.set(_)),k.reflect(T)}},{key:"array",value:function(h){return h.array()}},{key:"equals",value:function(h,d){var x;return h instanceof i.default.Vector?x=h:Array.isArray(h)?x=new i.default.Vector().set(h):i.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),x.equals(d)}}],(c=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,d,x){return h instanceof i.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=d||0,this.z=x||0),this}},{key:"copy",value:function(){return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new i.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,d,x){return h instanceof i.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=d||0,this.z+=x||0),this}},{key:"calculateRemainder2D",value:function(h,d){return h!==0&&(this.x=this.x%h),d!==0&&(this.y=this.y%d),this}},{key:"calculateRemainder3D",value:function(h,d,x){return h!==0&&(this.x=this.x%h),d!==0&&(this.y=this.y%d),x!==0&&(this.z=this.z%x),this}},{key:"rem",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _,T,k,M=d[0],O=d[1],L=d[2];if(M instanceof i.default.Vector){if([M.x,M.y,M.z].every(Number.isFinite))return _=parseFloat(M.x),T=parseFloat(M.y),k=parseFloat(M.z),this.calculateRemainder3D(_,T,k)}else if(Array.isArray(M)){if(M.every(Number.isFinite))return M.length===2?this.calculateRemainder2D(M[0],M[1]):M.length===3?this.calculateRemainder3D(M[0],M[1],M[2]):void 0}else if(d.length===1){if(Number.isFinite(M)&&M!==0)return this.x=this.x%M,this.y=this.y%M,this.z=this.z%M,this}else if(d.length===2){if(d.every(Number.isFinite))return this.calculateRemainder2D(M,O)}else if(d.length===3&&d.every(Number.isFinite))return this.calculateRemainder3D(M,O,L)}},{key:"sub",value:function(h,d,x){return h instanceof i.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=d||0,this.z-=x||0),this}},{key:"mult",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _,T=d[0],k=d[1],M=d[2];return T instanceof i.default.Vector?Number.isFinite(T.x)&&Number.isFinite(T.y)&&Number.isFinite(T.z)&&typeof T.x=="number"&&typeof T.y=="number"&&typeof T.z=="number"?(this.x*=T.x,this.y*=T.y,this.z*=T.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(T)?T.every(function(O){return Number.isFinite(O)})&&T.every(function(O){return typeof O=="number"})?T.length===1?(this.x*=T[0],this.y*=T[0],this.z*=T[0]):T.length===2?(this.x*=T[0],this.y*=T[1]):T.length===3&&(this.x*=T[0],this.y*=T[1],this.z*=T[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=d).every(function(O){return Number.isFinite(O)})&&_.every(function(O){return typeof O=="number"})?(d.length===1&&(this.x*=T,this.y*=T,this.z*=T),d.length===2&&(this.x*=T,this.y*=k),d.length===3&&(this.x*=T,this.y*=k,this.z*=M)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var h=arguments.length,d=new Array(h),x=0;x<h;x++)d[x]=arguments[x];var _=d[0],T=d[1],k=d[2];if(_ instanceof i.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var M=_.z===0&&this.z===0;if(_.x===0||_.y===0||!M&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,M||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(Number.isFinite)&&_.every(function(O){return typeof O=="number"})){if(_.some(function(O){return O===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(d.every(Number.isFinite)&&d.every(function(O){return typeof O=="number"})){if(d.some(function(O){return O===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;d.length===1&&(this.x/=_,this.y/=_,this.z/=_),d.length===2&&(this.x/=_,this.y/=T),d.length===3&&(this.x/=_,this.y/=T,this.z/=k)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,d=this.y,x=this.z;return h*h+d*d+x*x}},{key:"dot",value:function(h,d,x){return h instanceof i.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(d||0)+this.z*(x||0)}},{key:"cross",value:function(_){var d=this.y*_.z-this.z*_.y,x=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,d,x,_):new i.default.Vector(d,x,_)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return h!==0&&this.mult(1/h),this}},{key:"limit",value:function(h){var d=this.magSq();return h*h<d&&this.div(Math.sqrt(d)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var d=this.mag();return this.x=d*Math.cos(h),this.y=d*Math.sin(h),this}},{key:"rotate",value:function(d){var d=this.heading()+d,x=(this.isPInst&&(d=this._toRadians(d)),this.mag());return this.x=Math.cos(d)*x,this.y=Math.sin(d)*x,this}},{key:"angleBetween",value:function(h){var d;return this.magSq()*h.magSq()==0?NaN:(d=this.cross(h),h=Math.atan2(d.mag(),this.dot(h))*Math.sign(d.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,d,x,_){return h instanceof i.default.Vector?this.lerp(h.x,h.y,h.z,d):(this.x+=(h-this.x)*_||0,this.y+=(d-this.y)*_||0,this.z+=(x-this.z)*_||0,this)}},{key:"slerp",value:function(h,d){if(d!==0){if(d===1)return this.set(h);var x=this.mag(),_=h.mag();if(x*_==0)this.mult(1-d).add(h.x*d,h.y*d,h.z*d);else{var T=this.cross(h),k=T.mag(),M=Math.atan2(k,this.dot(h));if(0<k)T.x/=k,T.y/=k,T.z/=k;else{if(M<.5*Math.PI)return this.mult(1-d).add(h.x*d,h.y*d,h.z*d),this;this.z===0&&h.z===0?T.set(0,0,1):this.x!==0?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}k=T.cross(this),h=1-d+d*_/x,T=h*Math.cos(d*M),_=h*Math.sin(d*M),this.x=this.x*T+k.x*_,this.y=this.y*T+k.y*_,this.z=this.z*T+k.z*_}}return this}},{key:"reflect",value:function(h){return h=i.default.Vector.normalize(h),this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(k,d,x){var _,T,k=k instanceof i.default.Vector?(_=k.x||0,T=k.y||0,k.z||0):Array.isArray(k)?(_=k[0]||0,T=k[1]||0,k[2]||0):(_=k||0,T=d||0,x||0);return this.x===_&&this.y===T&&this.z===k}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(h){return Math.abs(+(h||0))<=Number.EPSILON?0:h}}])&&v(u.prototype,c),y&&v(u,y),a}();var o=i.default.Vector;w.default=o},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(b,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(b=b("../core/main"))&&b.__esModule?b:{default:b},p="_lcg_random_state",i=4294967296,l=0,b=(f.default.prototype._lcg=function(v){return this[v]=(1664525*this[v]+1013904223)%i,this[v]/i},f.default.prototype._lcgSetSeed=function(v,o){this[v]=(o??Math.random()*i)>>>0},f.default.prototype.randomSeed=function(v){this._lcgSetSeed(p,v),this._gaussian_previous=!1},f.default.prototype.random=function(v,o){var a,u;return f.default._validateParameters("random",arguments),a=this[p]!=null?this._lcg(p):Math.random(),v===void 0?a:o===void 0?Array.isArray(v)?v[Math.floor(a*v.length)]:a*v:(o<v&&(u=v,v=o,o=u),a*(o-v)+v)},f.default.prototype.randomGaussian=function(v){var o,a,u,c,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)o=l,this._gaussian_previous=!1;else{for(;1<=(c=(a=this.random(2)-1)*a+(u=this.random(2)-1)*u););o=a*(c=Math.sqrt(-2*Math.log(c)/c)),l=u*c,this._gaussian_previous=!0}return o*y+(v||0)},f.default);w.default=b},{"../core/main":283}],318:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},l=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}i.default.prototype._angleMode=l.RADIANS,i.default.prototype.acos=function(o){return this._fromRadians(Math.acos(o))},i.default.prototype.asin=function(o){return this._fromRadians(Math.asin(o))},i.default.prototype.atan=function(o){return this._fromRadians(Math.atan(o))},i.default.prototype.atan2=function(o,a){return this._fromRadians(Math.atan2(o,a))},i.default.prototype.cos=function(o){return Math.cos(this._toRadians(o))},i.default.prototype.sin=function(o){return Math.sin(this._toRadians(o))},i.default.prototype.tan=function(o){return Math.tan(this._toRadians(o))},i.default.prototype.degrees=function(o){return o*l.RAD_TO_DEG},i.default.prototype.radians=function(o){return o*l.DEG_TO_RAD},i.default.prototype.angleMode=function(o){if(i.default._validateParameters("angleMode",arguments),o===void 0)return this._angleMode;o!==l.DEGREES&&o!==l.RADIANS||o!==this._angleMode&&(o===l.RADIANS?(this._setProperty("pRotationX",this.pRotationX*l.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*l.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*l.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*l.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*l.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*l.RAD_TO_DEG)),this._angleMode=o)},i.default.prototype._toRadians=function(o){return this._angleMode===l.DEGREES?o*l.DEG_TO_RAD:o},i.default.prototype._toDegrees=function(o){return this._angleMode===l.RADIANS?o*l.RAD_TO_DEG:o},i.default.prototype._fromRadians=function(o){return this._angleMode===l.DEGREES?o*l.RAD_TO_DEG:o},i.default.prototype._fromDegrees=function(o){return this._angleMode===l.RADIANS?o*l.DEG_TO_RAD:o};var v=i.default;w.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,j,w){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.textAlign=function(p,i){var l;return f.default._validateParameters("textAlign",arguments),(l=this._renderer).textAlign.apply(l,arguments)},f.default.prototype.textLeading=function(p){var i;return f.default._validateParameters("textLeading",arguments),(i=this._renderer).textLeading.apply(i,arguments)},f.default.prototype.textSize=function(p){var i;return f.default._validateParameters("textSize",arguments),(i=this._renderer).textSize.apply(i,arguments)},f.default.prototype.textStyle=function(p){var i;return f.default._validateParameters("textStyle",arguments),(i=this._renderer).textStyle.apply(i,arguments)},f.default.prototype.textWidth=function(){for(var p=arguments.length,i=new Array(p),l=0;l<p;l++)i[l]=arguments[l];if(i[0]+="",f.default._validateParameters("textWidth",i),i[0].length===0)return 0;for(var b=i[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),v=[],o=0;o<b.length;o++)v.push(this._renderer.textWidth(b[o]));return Math.max.apply(Math,v)},f.default.prototype.textAscent=function(){for(var p=arguments.length,i=new Array(p),l=0;l<p;l++)i[l]=arguments[l];return f.default._validateParameters("textAscent",i),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var p=arguments.length,i=new Array(p),l=0;l<p;l++)i[l]=arguments[l];return f.default._validateParameters("textDescent",i),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(p){return f.default._validateParameters("textWrap",[p]),this._renderer.textWrap(p)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,j,w){function f(u){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function p(u){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(a=t("../core/main"))&&a.__esModule?a:{default:a},l=o(t("../core/constants")),b=o(t("opentype.js"));function v(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,v=function(){return u},u)}function o(u){if(u&&u.__esModule)return u;if(u===null||p(u)!=="object"&&typeof u!="function")return{default:u};var c=v();if(c&&c.has(u))return c.get(u);var y,h,d={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u)Object.prototype.hasOwnProperty.call(u,y)&&((h=x?Object.getOwnPropertyDescriptor(u,y):null)&&(h.get||h.set)?Object.defineProperty(d,y,h):d[y]=u[y]);return d.default=u,c&&c.set(u,d),d}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.loadFont=function(u,c,y){i.default._validateParameters("loadFont",arguments);var h=new i.default.Font(this),d=this;return b.load(u,function(T,k){if(T)return i.default._friendlyFileLoadError(4,u),y!==void 0?y(T):void console.error(T,u);h.font=k,c!==void 0&&c(h),d._decrementPreload();var T=u.split("\\").pop().split("/").pop(),k=T.lastIndexOf("."),M=k<1?null:T.slice(k+1);["ttf","otf","woff","woff2"].includes(M)&&(M=T.slice(0,k!==-1?k:0),(T=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(u,`);
}
`))),document.head.appendChild(T))}),h},i.default.prototype.text=function(u,c,y,h,d){var x;return i.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},i.default.prototype.textFont=function(u,c){if(i.default._validateParameters("textFont",arguments),arguments.length){if(u)return this._renderer._setProperty("_textFont",u),c&&(this._renderer._setProperty("_textSize",c),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",c*l._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=i.default;w.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,j,w){function f(O){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(O)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(p=t("../core/main"))&&p.__esModule?p:{default:p},i=function(O){if(O&&O.__esModule)return O;if(O===null||b(O)!=="object"&&typeof O!="function")return{default:O};var L=l();if(L&&L.has(O))return L.get(O);var F,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in O){var P;Object.prototype.hasOwnProperty.call(O,F)&&((P=V?Object.getOwnPropertyDescriptor(O,F):null)&&(P.get||P.set)?Object.defineProperty(D,F,P):D[F]=O[F])}return D.default=O,L&&L.set(O,D),D}(t("../core/constants"));function l(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,l=function(){return O},O)}function b(O){return(b=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(L){return f(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":f(L)})(O)}function v(O,L){for(var F=0;F<L.length;F++){var D=L[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}function o(O,L){var F=O.length;return O[L<0?L%F+F:L%F]}function a(O,L,F,D){var V,P,G;return D?(a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]),P=a.tmpPoint1,G=a.tmpPoint2,P.x=L.x-O.x,P.y=L.y-O.y,G.x=F.x-L.x,G.y=F.y-L.y,V=P.x*G.x+P.y*G.y,P=Math.sqrt(P.x*P.x+P.y*P.y),G=Math.sqrt(G.x*G.x+G.y*G.y),Math.acos(V/(P*G))<D):(L[0]-O[0])*(F[1]-O[1])-(F[0]-O[0])*(L[1]-O[1])==0}function u(B,J,W,ie,ne,P,G,z,q){var Q=1-q,Z=Math.pow(Q,3),Y=Math.pow(Q,2),A=q*q,ee=A*q,K=Z*B+3*Y*q*W+3*Q*q*q*ne+ee*G,Z=Z*J+3*Y*q*ie+3*Q*q*q*P+ee*z,Y=B+2*q*(W-B)+A*(ne-2*W+B),ee=J+2*q*(ie-J)+A*(P-2*ie+J),ae=W+2*q*(ne-W)+A*(G-2*ne+W),A=ie+2*q*(P-ie)+A*(z-2*P+ie),B=Q*B+q*W,W=Q*J+q*ie,J=Q*ne+q*G,ie=Q*P+q*z,ne=90-180*Math.atan2(Y-ae,ee-A)/Math.PI;return(ae<Y||ee<A)&&(ne+=180),{x:K,y:Z,m:{x:Y,y:ee},n:{x:ae,y:A},start:{x:B,y:W},end:{x:J,y:ie},alpha:ne}}function c(O,L,F,D,V,P,G,z,q){return q==null?k(O,L,F,D,V,P,G,z):u(O,L,F,D,V,P,G,z,function(Q,K,Z,Y,ee,ae,A,B,W){if(!(W<0||k(Q,K,Z,Y,ee,ae,A,B)<W)){var J,ie=.5,ne=1-ie;for(J=k(Q,K,Z,Y,ee,ae,A,B,ne);.01<Math.abs(J-W);)J=k(Q,K,Z,Y,ee,ae,A,B,ne+=(J<W?1:-1)*(ie/=2));return ne}}(O,L,F,D,V,P,G,z,q))}function y(O,L,F){for(var D,V,P,G,z,q=0,Q=0,K=(O=function(Z,Y){function ee(Se,Te,ke){var Xe,Pe;if(!Se)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(Se[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),Se[0]){case"M":Te.X=Se[1],Te.Y=Se[2];break;case"A":Se=["C"].concat(d.apply(0,[Te.x,Te.y].concat(Se.slice(1))));break;case"S":Pe=ke==="C"||ke==="S"?(Xe=2*Te.x-Te.bx,2*Te.y-Te.by):(Xe=Te.x,Te.y),Se=["C",Xe,Pe].concat(Se.slice(1));break;case"T":ke==="Q"||ke==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),Se=["C"].concat(T(Te.x,Te.y,Te.qx,Te.qy,Se[1],Se[2]));break;case"Q":Te.qx=Se[1],Te.qy=Se[2],Se=["C"].concat(T(Te.x,Te.y,Se[1],Se[2],Se[3],Se[4]));break;case"L":Se=["C"].concat(_(Te.x,Te.y,Se[1],Se[2]));break;case"H":Se=["C"].concat(_(Te.x,Te.y,Se[1],Te.y));break;case"V":Se=["C"].concat(_(Te.x,Te.y,Te.x,Se[1]));break;case"Z":Se=["C"].concat(_(Te.x,Te.y,Te.X,Te.Y))}return Se}function ae(Se,Te){if(7<Se[Te].length){Se[Te].shift();for(var ke=Se[Te];ke.length;)pe[Te]="A",J&&(ge[Te]="A"),Se.splice(Te++,0,["C"].concat(ke.splice(0,6)));Se.splice(Te,1),B=Math.max(W.length,J&&J.length||0)}}function A(Se,Te,ke,Xe,Pe){Se&&Te&&Se[Pe][0]==="M"&&Te[Pe][0]!=="M"&&(Te.splice(Pe,0,["M",Xe.x,Xe.y]),ke.bx=0,ke.by=0,ke.x=Se[Pe][1],ke.y=Se[Pe][2],B=Math.max(W.length,J&&J.length||0))}var B,W=h(Z),J=Y&&h(Y),ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pe=[],ge=[],he="",be="";B=Math.max(W.length,J&&J.length||0);for(var _e=0;_e<B;_e++){(he=W[_e]?W[_e][0]:he)!=="C"&&(pe[_e]=he,_e&&(be=pe[_e-1])),W[_e]=ee(W[_e],ie,be),pe[_e]!=="A"&&he==="C"&&(pe[_e]="C"),ae(W,_e),J&&((he=J[_e]?J[_e][0]:he)!=="C"&&(ge[_e]=he,_e&&(be=ge[_e-1])),J[_e]=ee(J[_e],ne,be),ge[_e]!=="A"&&he==="C"&&(ge[_e]="C"),ae(J,_e)),A(W,J,ie,ne,_e),A(J,W,ne,ie,_e);var le=W[_e],de=J&&J[_e],xe=le.length,Ae=J&&de.length;ie.x=le[xe-2],ie.y=le[xe-1],ie.bx=parseFloat(le[xe-4])||ie.x,ie.by=parseFloat(le[xe-3])||ie.y,ne.bx=J&&(parseFloat(de[Ae-4])||ne.x),ne.by=J&&(parseFloat(de[Ae-3])||ne.y),ne.x=J&&de[Ae-2],ne.y=J&&de[Ae-1]}return J?[W,J]:W}(O)).length;Q<K;Q++){if((P=O[Q])[0]==="M")D=+P[1],V=+P[2];else{if(L<q+(G=c(D,V,P[1],P[2],P[3],P[4],P[5],P[6]))&&!F)return{x:(z=c(D,V,P[1],P[2],P[3],P[4],P[5],P[6],L-q)).x,y:z.y,alpha:z.alpha};q+=G,D=+P[5],V=+P[6]}P.shift()}return z=(z=F?q:u(D,V,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:z.x,y:z.y,alpha:z.alpha}:z}function h(O){var L=[],F=0,D=0,V=0,P=0,G=0;if(O){O[0][0]==="M"&&(V=F=+O[0][1],P=D=+O[0][2],G++,L[0]=["M",F,D]);for(var z,q,Q=O.length===3&&O[0][0]==="M"&&O[1][0].toUpperCase()==="R"&&O[2][0].toUpperCase()==="Z",K=G,Z=O.length;K<Z;K++){if(L.push(z=[]),(q=O[K])[0]!==q[0].toUpperCase())switch(z[0]=q[0].toUpperCase(),z[0]){case"A":z[1]=q[1],z[2]=q[2],z[3]=q[3],z[4]=q[4],z[5]=q[5],z[6]=+(q[6]+F),z[7]=+(q[7]+D);break;case"V":z[1]=+q[1]+D;break;case"H":z[1]=+q[1]+F;break;case"R":for(var Y,ee=2,ae=(Y=[F,D].concat(q.slice(1))).length;ee<ae;ee++)Y[ee]=+Y[ee]+F,Y[++ee]=+Y[ee]+D;L.pop(),L=L.concat(x(Y,Q));break;case"M":V=+q[1]+F,P=+q[2]+D;break;default:for(var A=1,B=q.length;A<B;A++)z[A]=+q[A]+(A%2?F:D)}else if(q[0]==="R")Y=[F,D].concat(q.slice(1)),L.pop(),L=L.concat(x(Y,Q)),z=["R"].concat(q.slice(-2));else for(var W=0,J=q.length;W<J;W++)z[W]=q[W];switch(z[0]){case"Z":F=V,D=P;break;case"H":F=z[1];break;case"V":D=z[1];break;case"M":V=z[z.length-2],P=z[z.length-1];break;default:F=z[z.length-2],D=z[z.length-1]}}}return L}function d(O,L,F,D,J,pe,ie,z,q,Q){function K(Ae,Se,Te){return{x:Ae*Math.cos(Te)-Se*Math.sin(Te),y:Ae*Math.sin(Te)+Se*Math.cos(Te)}}var Z,B=Math.PI,W=120*B/180,Y=B/180*(+J||0),ee=[],ae=(Q?(_e=Q[0],Z=Q[1],he=Q[2],be=Q[3]):(O=(ne=K(O,L,-Y)).x,L=ne.y,1<(ae=(A=(O-(z=(ne=K(z,q,-Y)).x))/2)*A/(F*F)+(ne=(L-(q=ne.y))/2)*ne/(D*D))&&(F*=ae=Math.sqrt(ae),D*=ae),ae=F*F,ge=D*D,he=(pe=(pe===ie?-1:1)*Math.sqrt(Math.abs((ae*ge-ae*ne*ne-ge*A*A)/(ae*ne*ne+ge*A*A))))*F*ne/D+(O+z)/2,be=pe*-D*A/F+(L+q)/2,_e=Math.asin(((L-be)/D).toFixed(9)),Z=Math.asin(((q-be)/D).toFixed(9)),(_e=O<he?B-_e:_e)<0&&(_e=2*B+_e),(Z=z<he?B-Z:Z)<0&&(Z=2*B+Z),ie&&Z<_e&&(_e-=2*B),!ie&&_e<Z&&(Z-=2*B)),Z-_e),A=(Math.abs(ae)>W&&(ge=Z,ne=z,pe=q,Z=_e+W*(ie&&_e<Z?1:-1),ee=d(z=he+F*Math.cos(Z),q=be+D*Math.sin(Z),F,D,J,0,ie,ne,pe,[Z,ge,he,be])),ae=Z-_e,Math.cos(_e)),B=Math.sin(_e),W=Math.cos(Z),J=Math.sin(Z),ie=Math.tan(ae/4),ne=4/3*F*ie,pe=4/3*D*ie,ge=[O,L],he=[O+ne*B,L-pe*A],be=[z+ne*J,q-pe*W],_e=[z,q];if(he[0]=2*ge[0]-he[0],he[1]=2*ge[1]-he[1],Q)return[he,be,_e].concat(ee);for(var le=[],de=0,xe=(ee=[he,be,_e].concat(ee).join().split(",")).length;de<xe;de++)le[de]=de%2?K(ee[de-1],ee[de],Y).y:K(ee[de],ee[de+1],Y).x;return le}function x(O,L){for(var F=[],D=0,V=O.length;D<V-2*!L;D+=2){var P=[{x:+O[D-2],y:+O[D-1]},{x:+O[D],y:+O[D+1]},{x:+O[D+2],y:+O[D+3]},{x:+O[D+4],y:+O[D+5]}];L?D?V-4===D?P[3]={x:+O[0],y:+O[1]}:V-2===D&&(P[2]={x:+O[0],y:+O[1]},P[3]={x:+O[2],y:+O[3]}):P[0]={x:+O[V-2],y:+O[V-1]}:V-4===D?P[3]=P[2]:D||(P[0]={x:+O[D],y:+O[D+1]}),F.push(["C",(-P[0].x+6*P[1].x+P[2].x)/6,(-P[0].y+6*P[1].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return F}function _(O,L,F,D){return[O,L,F,D,F,D]}function T(O,L,F,D,V,P){return[1/3*O+2/3*F,1/3*L+2/3*D,1/3*V+2/3*F,1/3*P+2/3*D,V,P]}function k(O,L,F,D,V,P,G,z,q){for(var Q=(q=1<(q=q??1)?1:q<0?0:q)/2,K=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Z=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ee=0;ee<12;ee++){var A=Q*K[ee]+Q,ae=M(A,O,F,V,G),A=M(A,L,D,P,z);Z+=Y[ee]*Math.sqrt(ae*ae+A*A)}return Q*Z}function M(O,L,F,D,V){return O*(O*(-3*L+9*F-9*D+3*V)+6*L-12*F+6*D)-3*L+3*F}p.default.Font=function(){function O(D){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");this.parent=D,this.cache={},this.font=void 0}var L,F;return L=O,(F=[{key:"textBounds",value:function(D){var V=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,Q=3<arguments.length?arguments[3]:void 0,G=4<arguments.length?arguments[4]:void 0,z=G&&G.renderer&&G.renderer._pInst||this.parent,q=z._renderer.drawingContext,Q=(q.textAlign||i.LEFT,q.textBaseline||i.BASELINE,Q||z._renderer._textSize);if(!ne){for(var K=[],Z=[],Y=[],ee=(Y[0]=[],[]),ae=this._scale(Q),A=z._renderer.textLeading(),B=0,W=(this.font.forEachGlyph(D,V,P,Q,G,function(he,be,_e,le){var de=he.getMetrics();he.index===0?Y[B+=1]=[]:(Y[B].push(be+de.xMin*ae),Y[B].push(be+de.xMax*ae),ee.push(_e+B*A+-de.yMin*ae),ee.push(_e+B*A+-de.yMax*ae))}),0<Y[B].length&&(K[B]=Math.min.apply(null,Y[B]),Z[B]=Math.max.apply(null,Y[B])),0),J=0;J<=B;J++){K[J]=Math.min.apply(null,Y[J]),Z[J]=Math.max.apply(null,Y[J]);var ie=Z[J]-K[J];W<ie&&(W=ie)}var q=Math.min.apply(null,K),ne={x:q,y:P=Math.min.apply(null,ee),h:Math.max.apply(null,ee)-P,w:W,advance:q-V},Q=this._handleAlignment(z._renderer,D,ne.x,ne.y,ne.w+ne.advance);ne.x=Q.x,ne.y=Q.y}return ne}},{key:"textToPoints",value:function(D,V,P,G,z){var q,Q=V,K=[],Z=this.parent,Y=D.split(/\r?\n|\r|\n/g);G=G||this.parent._renderer._textSize;for(var ee,ae,A,B=0;B<Y.length;B++){var W=0;V=Q;for(var J=(J=Y[B]).replace("	","  "),ie=this._getGlyphs(J),ne=0;ne<ie.length;ne++){if(ae=J,!((A=ie)[ee=ne].name&&A[ee].name==="space"||ae.length===A.length&&ae[ee]===" "))for(var pe=function(_e){for(var le,de=[],xe=0;xe<_e.length;xe++)_e[xe].type==="M"&&(le&&de.push(le),le=[]),le.push(function(Ae){var Se=[Ae.type];return Ae.type==="M"||Ae.type==="L"?Se.push(Ae.x,Ae.y):Ae.type==="C"?Se.push(Ae.x1,Ae.y1,Ae.x2,Ae.y2,Ae.x,Ae.y):Ae.type==="Q"&&Se.push(Ae.x1,Ae.y1,Ae.x,Ae.y),Se}(_e[xe]));return de.push(le),de}(ie[ne].getPath(V,P,G).commands),ge=0;ge<pe.length;ge++)for(var he=function(_e,le){for(var le=function(ke,Xe){if(b(ke)!=="object")ke=Xe;else for(var Pe in Xe)ke[Pe]===void 0&&(ke[Pe]=Xe[Pe]);return ke}(le,{sampleFactor:.1,simplifyThreshold:0}),de=y(_e,0,1),xe=de/(de*le.sampleFactor),Ae=[],Se=0;Se<de;Se+=xe)Ae.push(y(_e,Se));return le.simplifyThreshold&&function(Te){for(var ke=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Xe=0,Pe=Te.length-1;3<Te.length&&0<=Pe;--Pe)a(o(Te,Pe-1),o(Te,Pe),o(Te,Pe+1),ke)&&(Te.splice(Pe%Te.length,1),Xe++)}(Ae,le.simplifyThreshold),Ae}(pe[ge],z),be=0;be<he.length;be++)he[be].x+=W,q=this._handleAlignment(Z._renderer,J,he[be].x,he[be].y),he[be].x=q.x,he[be].y=q.y,K.push(he[be]);W+=ie[ne].advanceWidth*this._scale(G)}P+=this.parent._renderer._textLeading}return K}},{key:"_getGlyphs",value:function(D){return this.font.stringToGlyphs(D)}},{key:"_getPath",value:function(D,q,P,G){var z=(G&&G.renderer&&G.renderer._pInst||this.parent)._renderer,q=this._handleAlignment(z,D,q,P);return this.font.getPath(D,q.x,q.y,z._textSize,G)}},{key:"_getPathData",value:function(D,V,P,G){var z=3;return typeof D=="string"&&2<arguments.length?D=this._getPath(D,V,P,G):b(V)==="object"&&(G=V),G&&typeof G.decimals=="number"&&(z=G.decimals),D.toPathData(z)}},{key:"_getSVG",value:function(D,V,P,G){var z=3;return typeof D=="string"&&2<arguments.length?D=this._getPath(D,V,P,G):b(V)==="object"&&(G=V),G&&(typeof G.decimals=="number"&&(z=G.decimals),typeof G.strokeWidth=="number"&&(D.strokeWidth=G.strokeWidth),G.fill!==void 0&&(D.fill=G.fill),G.stroke!==void 0&&(D.stroke=G.stroke)),D.toSVG(z)}},{key:"_renderPath",value:function(Q,Z,Y,G){var z=G&&G.renderer||this.parent._renderer,q=z.drawingContext,Q=(b(Q)==="object"&&Q.commands?Q:this._getPath(Q,Z,Y,G)).commands,K=(z._clipping||q.beginPath(),!0),Z=!1,Y=void 0;try{for(var ee,ae=Q[Symbol.iterator]();!(K=(ee=ae.next()).done);K=!0){var A=ee.value;A.type==="M"?q.moveTo(A.x,A.y):A.type==="L"?q.lineTo(A.x,A.y):A.type==="C"?q.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?q.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&q.closePath()}}catch(B){Z=!0,Y=B}finally{try{K||ae.return==null||ae.return()}finally{if(Z)throw Y}}return z._doStroke&&z._strokeSet&&!z._clipping&&q.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(i._DEFAULT_TEXT_FILL),q.fill()),this}},{key:"_textWidth",value:function(D,V){return this.font.getAdvanceWidth(D,V)}},{key:"_textAscent",value:function(D){return this.font.ascender*this._scale(D)}},{key:"_textDescent",value:function(D){return-this.font.descender*this._scale(D)}},{key:"_scale",value:function(D){return 1/this.font.unitsPerEm*(D||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(D,V,P,G,z){var q=D._textSize;switch(z===void 0&&(z=this._textWidth(V,q)),D._textAlign){case i.CENTER:P-=z/2;break;case i.RIGHT:P-=z}switch(D._textBaseline){case i.TOP:G+=this._textAscent(q);break;case i.CENTER:G+=this._textAscent(q)/2;break;case i.BOTTOM:G-=this._textDescent(q)}return{x:P,y:G}}}])&&v(L.prototype,F),O}(),t=p.default,w.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,j,w){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(f,p){return f.push(p),f},t.default.prototype.arrayCopy=function(f,p,i,l,b){var v,o;f=b!==void 0?(o=Math.min(b,f.length),v=l,f.slice(p,o+p)):(o=i!==void 0?(o=i,Math.min(o,f.length)):f.length,i=p,f.slice(v=0,o)),Array.prototype.splice.apply(i,[v,o].concat(f))},t.default.prototype.concat=function(f,p){return f.concat(p)},t.default.prototype.reverse=function(f){return f.reverse()},t.default.prototype.shorten=function(f){return f.pop(),f},t.default.prototype.shuffle=function(f,p){for(var i,l,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),v=(f=p||b?f:f.slice()).length;1<v;)i=this.random(0,1)*v|0,l=f[--v],f[v]=f[i],f[i]=l;return f},t.default.prototype.sort=function(f,l){var i=l?f.slice(0,Math.min(l,f.length)):f,l=l?f.slice(Math.min(l,f.length)):[];return(i=typeof i[0]=="string"?i.sort():i.sort(function(b,v){return b-v})).concat(l)},t.default.prototype.splice=function(f,p,i){return Array.prototype.splice.apply(f,[i,0].concat(p)),f},t.default.prototype.subset=function(f,p,i){return i!==void 0?f.slice(p,p+i):f.slice(p,f.length)},t=t.default,w.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,j,w){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.float=function(p){return p instanceof Array?p.map(parseFloat):parseFloat(p)},f.default.prototype.int=function(p){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return p===1/0||p==="Infinity"?1/0:p===-1/0||p==="-Infinity"?-1/0:typeof p=="string"?parseInt(p,i):typeof p=="number"?0|p:typeof p=="boolean"?p?1:0:p instanceof Array?p.map(function(l){return f.default.prototype.int(l,i)}):void 0},f.default.prototype.str=function(p){return p instanceof Array?p.map(f.default.prototype.str):String(p)},f.default.prototype.boolean=function(p){return typeof p=="number"?p!==0:typeof p=="string"?p.toLowerCase()==="true":typeof p=="boolean"?p:p instanceof Array?p.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(p){return p=f.default.prototype.int(p,10),typeof p=="number"?(p+128)%256-128:p instanceof Array?p.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(p){return typeof p!="number"||isNaN(p)?p instanceof Array?p.map(f.default.prototype.char):typeof p=="string"?f.default.prototype.char(parseInt(p,10)):void 0:String.fromCharCode(p)},f.default.prototype.unchar=function(p){return typeof p=="string"&&p.length===1?p.charCodeAt(0):p instanceof Array?p.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(p,i){if(i=i??8,p instanceof Array)return p.map(function(b){return f.default.prototype.hex(b,i)});if(p===1/0||p===-1/0)return(p===1/0?"F":"0").repeat(i);if(typeof p=="number"){p<0&&(p=4294967295+p+1);for(var l=Number(p).toString(16).toUpperCase();l.length<i;)l="0".concat(l);return l=l.length>=i?l.substring(l.length-i,l.length):l}},f.default.prototype.unhex=function(p){return p instanceof Array?p.map(f.default.prototype.unhex):parseInt("0x".concat(p),16)},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(o=t("../core/main"))&&o.__esModule?o:{default:o};function p(a,u){return function(c){if(Array.isArray(c))return c}(a)||function(c,y){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]"){var h=[],d=!0,x=!1,_=void 0;try{for(var T,k=c[Symbol.iterator]();!(d=(T=k.next()).done)&&(h.push(T.value),!y||h.length!==y);d=!0);}catch(M){x=!0,_=M}finally{try{d||k.return==null||k.return()}finally{if(x)throw _}}return h}}(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(a,u,c){var y,h=a<0,x=p((a=Math.abs(a)).toString().split("."),2),d=x[0],x=x[1];return c===void 0?(d=d.padStart(u,"0"),y=x?d+"."+x:d,h?"-"+y:y):(d=(y=p(a.toFixed(c).toString().split("."),2))[0],x=y[1],d=d.padStart(u,"0"),a=x===void 0?d:d+"."+x,h?"-"+a:a)}function l(h,u){var c=(h=h.toString()).indexOf("."),y=c!==-1?h.substring(c):"",h=(h=c!==-1?h.substring(0,c):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(u===0)y="";else if(u!==void 0)if(u>y.length)for(var d=u-(y+=c===-1?".":"").length+1,x=0;x<d;x++)y+="0";else y=y.substring(0,u+1);return h+y}function b(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function v(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.join=function(a,u){return f.default._validateParameters("join",arguments),a.join(u)},f.default.prototype.match=function(a,u){return f.default._validateParameters("match",arguments),a.match(u)},f.default.prototype.matchAll=function(a,u){f.default._validateParameters("matchAll",arguments);for(var c=new RegExp(u,"g"),y=c.exec(a),h=[];y!==null;)h.push(y),y=c.exec(a);return h},f.default.prototype.nf=function(a,u,c){return f.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(y){return i(y,u,c)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):i(a,u,c)},f.default.prototype.nfc=function(a,u){return f.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(c){return l(c,u)}):l(a,u)},f.default.prototype.nfp=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];f.default._validateParameters("nfp",u);var y=f.default.prototype.nf.apply(this,u);return y instanceof Array?y.map(b):b(y)},f.default.prototype.nfs=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];f.default._validateParameters("nfs",u);var y=f.default.prototype.nf.apply(this,u);return y instanceof Array?y.map(v):v(y)},f.default.prototype.split=function(a,u){return f.default._validateParameters("split",arguments),a.split(u)},f.default.prototype.splitTokens=function(a,u){var c,y;return f.default._validateParameters("splitTokens",arguments),y=u!==void 0?(y=/\]/g.exec(u=u),(c=/\[/g.exec(u))&&y?(u=u.slice(0,y.index)+u.slice(y.index+1),c=/\[/g.exec(u),u=u.slice(0,c.index)+u.slice(c.index+1),new RegExp("[\\[".concat(u,"\\]]"),"g")):y?(u=u.slice(0,y.index)+u.slice(y.index+1),new RegExp("[".concat(u,"\\]]"),"g")):c?(u=u.slice(0,c.index)+u.slice(c.index+1),new RegExp("[".concat(u,"\\[]"),"g")):new RegExp("[".concat(u,"]"),"g")):/\s/g,a.split(y).filter(function(h){return h})},f.default.prototype.trim=function(a){return f.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var o=f.default;w.default=o},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,w.default=t},{"../core/main":283}],326:[function(t,j,w){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function p(a){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(u){return f(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":f(u)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(o=t("../core/main"))&&o.__esModule?o:{default:o},l=(t("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var u=b();if(u&&u.has(a))return u.get(a);var c,y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var d;Object.prototype.hasOwnProperty.call(a,c)&&((d=h?Object.getOwnPropertyDescriptor(a,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=a[c])}return y.default=a,u&&u.set(a,y),y}(t("../core/constants")));function b(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,b=function(){return a},a)}i.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},i.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},i.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},i.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},i.default.prototype.plane=function(){var a,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,d=(this._assert3d("plane"),i.default._validateParameters("plane",arguments),"plane|".concat(y,"|").concat(h));return this._renderer.geometryInHash(d)||((a=new i.default.Geometry(y,h,function(){for(var x,_,T=0;T<=this.detailY;T++)for(var k=T/this.detailY,M=0;M<=this.detailX;M++)x=M/this.detailX,_=new i.default.Vector(x-.5,k-.5,0),this.vertices.push(_),this.uvs.push(x,k)})).computeFaces().computeNormals(),y<=1&&h<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(d,a)),this._renderer.drawBuffersScaled(d,u,c,1),this},i.default.prototype.box=function(a,u,c,y,h){this._assert3d("box"),i.default._validateParameters("box",arguments),a===void 0&&(a=50),u===void 0&&(u=a),c===void 0&&(c=u);var d,x=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,x=(h===void 0&&(h=x?1:4),"box|".concat(y=y===void 0?x?1:4:y,"|").concat(h));return this._renderer.geometryInHash(x)||((d=new i.default.Geometry(y,h,function(){var _=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,k){for(var k=4*k,M=0;M<4;M++){var O=T[M],O=new i.default.Vector((2*(1&O)-1)/2,((2&O)-1)/2,((4&O)/2-1)/2);_.vertices.push(O),_.uvs.push(1&M,(2&M)/2)}_.faces.push([k,1+k,2+k]),_.faces.push([2+k,1+k,3+k])})})).computeNormals(),y<=4&&h<=4?d._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,d)),this._renderer.drawBuffersScaled(x,a,u,c),this},i.default.prototype.sphere=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),i.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,u,c),this};function v(a,u,c,y,h,d,x){a=a<=0?1:a,u=u<0?0:u,c=c<=0?a:c,y=y<3?3:y;for(var _,T,k=(d=d===void 0||d)?-2:0,M=(h=h<1?1:h)+((x=x===void 0?u!==0:x)?2:0),O=Math.atan2(a-u,c),L=Math.sin(O),F=Math.cos(O),D=k;D<=M;++D){var V=D/h,P=c*V,G=void 0,G=D<0?(V=P=0,a):h<D?(P=c,V=1,u):a+(u-a)*V;for(D!==-2&&D!==h+2||(G=0),P-=c/2,_=0;_<y;++_){var z=_/(y-1),Q=2*Math.PI*z,q=Math.sin(Q),Q=Math.cos(Q),K=(this.vertices.push(new i.default.Vector(q*G,P,Q*G)),void 0),K=D<0?new i.default.Vector(0,-1,0):h<D&&u?new i.default.Vector(0,1,0):new i.default.Vector(q*F,L,Q*F);this.vertexNormals.push(K),this.uvs.push(z,V)}}var Z=0;if(d){for(T=0;T<y;++T)this.faces.push([Z+T,Z+y+(T+1)%y,Z+y+T]);Z+=2*y}for(D=0;D<h;++D){for(_=0;_<y;++_){var Y=(_+1)%y;this.faces.push([Z+_,Z+Y,Z+y+Y]),this.faces.push([Z+_,Z+y+Y,Z+y+_])}Z+=y}if(x)for(Z+=y,_=0;_<y;++_)this.faces.push([Z+_,Z+(_+1)%y,Z+y])}i.default.prototype.cylinder=function(){var a,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,d=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],x=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],_=(this._assert3d("cylinder"),i.default._validateParameters("cylinder",arguments),"cylinder|".concat(y,"|").concat(h,"|").concat(d,"|").concat(x));return this._renderer.geometryInHash(_)||(a=new i.default.Geometry(y,h),v.call(a,1,1,1,y,h,d,x),y<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,a)),this._renderer.drawBuffersScaled(_,u,c,u),this},i.default.prototype.cone=function(){var a,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,d=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],x=(this._assert3d("cone"),i.default._validateParameters("cone",arguments),"cone|".concat(y,"|").concat(h,"|").concat(d));return this._renderer.geometryInHash(x)||(a=new i.default.Geometry(y,h),v.call(a,1,0,1,y,h,d,!1),y<=24&&h<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,a)),this._renderer.drawBuffersScaled(x,u,c,u),this},i.default.prototype.ellipsoid=function(){var a,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:u,h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,d=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,x=(this._assert3d("ellipsoid"),i.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(h,"|").concat(d));return this._renderer.geometryInHash(x)||((a=new i.default.Geometry(h,d,function(){for(var _=0;_<=this.detailY;_++)for(var T=_/this.detailY,k=Math.PI*T-Math.PI/2,M=Math.cos(k),O=Math.sin(k),L=0;L<=this.detailX;L++){var F=L/this.detailX,V=2*Math.PI*F,D=Math.cos(V),V=Math.sin(V),V=new i.default.Vector(M*V,O,M*D);this.vertices.push(V),this.vertexNormals.push(V),this.uvs.push(F,T)}})).computeFaces(),h<=24&&d<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(x,a)),this._renderer.drawBuffersScaled(x,u,c,y),this},i.default.prototype.torus=function(a,x,c,y){if(this._assert3d("torus"),i.default._validateParameters("torus",arguments),a===void 0)a=50;else if(!a)return;if(x===void 0)x=10;else if(!x)return;c===void 0&&(c=24),y===void 0&&(y=16);var h,d=(x/a).toPrecision(4),x="torus|".concat(d,"|").concat(c,"|").concat(y);return this._renderer.geometryInHash(x)||((h=new i.default.Geometry(c,y,function(){for(var _=0;_<=this.detailY;_++)for(var T=_/this.detailY,k=2*Math.PI*T,M=Math.cos(k),O=Math.sin(k),L=1+d*M,F=0;F<=this.detailX;F++){var D=F/this.detailX,V=2*Math.PI*D,G=Math.cos(V),V=Math.sin(V),P=new i.default.Vector(L*G,L*V,d*O),G=new i.default.Vector(M*G,M*V,O);this.vertices.push(P),this.vertexNormals.push(G),this.uvs.push(D,T)}})).computeFaces(),c<=24&&y<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,h)),this._renderer.drawBuffersScaled(x,a,a,a),this},i.default.RendererGL.prototype.point=function(a,u){var c=[];return c.push(new i.default.Vector(a,u,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(c,this.immediateMode.buffers.point),this},i.default.RendererGL.prototype.triangle=function(x){var u=x[0],c=x[1],y=x[2],h=x[3],d=x[4],x=x[5],_=(this.geometryInHash("tri")||((_=new i.default.Geometry(1,1,function(){var M=[];M.push(new i.default.Vector(0,0,0)),M.push(new i.default.Vector(1,0,0)),M.push(new i.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uModelMatrix.copy());try{var T=Math.sign(u*h-y*c+y*x-d*h+d*c-u*x),k=new i.default.Matrix([y-u,h-c,0,0,d-u,x-c,0,0,0,0,T,0,u,c,0,1]).mult(this.uModelMatrix);this.uModelMatrix=k,this.drawBuffers("tri")}finally{this.uModelMatrix=_}return this},i.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,l.TWO_PI,l.OPEN,a[4])},i.default.RendererGL.prototype.arc=function(){var a,u=arguments.length<=0?void 0:arguments[0],c=arguments.length<=1?void 0:arguments[1],y=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3],d=arguments.length<=4?void 0:arguments[4],x=arguments.length<=5?void 0:arguments[5],_=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,k=(Math.abs(x-d)>=l.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(d,"|").concat(x,"|").concat(_,"|")).concat(T,"|"),M=(this.geometryInHash(k)||((a=new i.default.Geometry(T,1,function(){if(d.toFixed(10)!==x.toFixed(10)){_!==l.PIE&&_!==void 0||(this.vertices.push(new i.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var O=0;O<=T;O++){var F=(x-d)*(O/T)+d,L=.5+Math.cos(F)/2,F=.5+Math.sin(F)/2;this.vertices.push(new i.default.Vector(L,F,0)),this.uvs.push([L,F]),O<T-1&&(this.faces.push([0,O+1,O+2]),this.edges.push([O+1,O+2]))}switch(_){case l.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case l.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case l.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(k,a)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([u,c,0]),this.uModelMatrix.scale(y,h,1),this.drawBuffers(k)}finally{this.uModelMatrix=M}return this},i.default.RendererGL.prototype.rect=function(a){var u=a[0],c=a[1],y=a[2],h=a[3];if(a[4]===void 0){var _=this._pInst._glAttributes.perPixelLighting,d=a[4]||(_?1:24),x=a[5]||(_?1:16),_="rect|".concat(d,"|").concat(x),T=(this.geometryInHash(_)||((T=new i.default.Geometry(d,x,function(){for(var K=0;K<=this.detailY;K++)for(var Z=K/this.detailY,Y=0;Y<=this.detailX;Y++){var ee=Y/this.detailX,ae=new i.default.Vector(ee,Z,0);this.vertices.push(ae),this.uvs.push(ee,Z)}0<d&&0<x&&(this.edges=[[0,d],[d,(d+1)*(x+1)-1],[(d+1)*(x+1)-1,(d+1)*x],[(d+1)*x,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(_,T)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([u,c,0]),this.uModelMatrix.scale(y,h,1),this.drawBuffers(_)}finally{this.uModelMatrix=T}}else{var _=a[4],T=a[5]===void 0?_:a[5],k=a[6]===void 0?T:a[6],a=a[7]===void 0?k:a[7],V=y,M=h,F=((V+=u)<u&&(F=u,u=V,V=F),(M+=c)<c&&(F=c,c=M,M=F),Math.min((V-u)/2,(M-c)/2)),O=(F<_&&(_=F),F<T&&(T=F),F<k&&(k=F),F<a&&(a=F),u),L=c,F=V,u=M,D=(this.beginShape(),T!==0?(this.vertex(F-T,L),this.quadraticVertex(F,L,F,L+T)):this.vertex(F,L),k!==0?(this.vertex(F,u-k),this.quadraticVertex(F,u,F-k,u)):this.vertex(F,u),a!==0?(this.vertex(O+a,u),this.quadraticVertex(O,u,O,u-a)):this.vertex(O,u),_!==0?(this.vertex(O,L+_),this.quadraticVertex(O,L,O+_,L)):this.vertex(O,L),!(this.immediateMode.geometry.uvs.length=0)),c=!1,V=void 0;try{for(var P,G=this.immediateMode.geometry.vertices[Symbol.iterator]();!(D=(P=G.next()).done);D=!0){var z=P.value,q=(z.x-O)/y,Q=(z.y-L)/h;this.immediateMode.geometry.uvs.push(q,Q)}}catch(A){c=!0,V=A}finally{try{D||G.return==null||G.return()}finally{if(c)throw V}}this.endShape(l.CLOSE)}return this},i.default.RendererGL.prototype.quad=function(a,u,c,y,h,d,x,_,T,k,M,O){var L=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,F=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,D="quad|".concat(a,"|").concat(u,"|").concat(c,"|").concat(y,"|").concat(h,"|").concat(d,"|").concat(x,"|").concat(_,"|").concat(T,"|").concat(k,"|").concat(M,"|").concat(O,"|").concat(L,"|").concat(F);if(!this.geometryInHash(D)){var V=new i.default.Geometry(L,F,function(){for(var Y=1/(this.detailX-1),ee=1/(this.detailY-1),ae=0;ae<this.detailY;ae++)for(var A=0;A<this.detailX;A++){var B=A*Y,W=ae*ee;this.vertices.push(new i.default.Vector((1-B)*((1-W)*a+W*k)+B*((1-W)*y+W*x),(1-B)*((1-W)*u+W*M)+B*((1-W)*h+W*_),(1-B)*((1-W)*c+W*O)+B*((1-W)*d+W*T))),this.uvs.push([B,W])}});V.faces=[];for(var P=0;P<F-1;P++)for(var G=0;G<L-1;G++){var z=G+P*L,q=G+1+(P+1)*L,Q=G+(P+1)*L;V.faces.push([z,G+1+P*L,q]),V.faces.push([z,q,Q])}V.computeNormals();for(var K=[V.edges.length=0,2,3,1],Z=0;Z<K.length;Z++)V.edges.push([K[Z],K[(Z+1)%K.length]]);V._edgesToVertices(),this.createBuffers(D,V)}return this.drawBuffers(D),this},i.default.RendererGL.prototype.bezier=function(a,u,c,y,h,d,x,_,T,k,M,O){arguments.length===8&&(M=_,k=x,_=d,x=h,h=y,y=c,c=d=T=O=0);var L=this._pInst._bezierDetail||20;this.beginShape();for(var F=0;F<=L;F++){var D=Math.pow(1-F/L,3),V=F/L*3*Math.pow(1-F/L,2),P=3*Math.pow(F/L,2)*(1-F/L),G=Math.pow(F/L,3);this.vertex(a*D+y*V+x*P+k*G,u*D+h*V+_*P+M*G,c*D+d*V+T*P+O*G)}return this.endShape(),this},i.default.RendererGL.prototype.curve=function(a,u,c,y,h,d,x,_,T,k,M,O){arguments.length===8&&(k=x,M=_,x=h,_=y,h=y=c,c=d=T=O=0);var L=this._pInst._curveDetail;this.beginShape();for(var F=0;F<=L;F++){var D=.5*Math.pow(F/L,3),V=.5*Math.pow(F/L,2),P=F/L*.5;this.vertex(D*(3*y-a-3*x+k)+V*(2*a-5*y+4*x-k)+P*(-a+x)+2*y*.5,D*(3*h-u-3*_+M)+V*(2*u-5*h+4*_-M)+P*(-u+_)+2*h*.5,D*(3*d-c-3*T+O)+V*(2*c-5*d+4*T-O)+P*(-c+T)+2*d*.5)}return this.endShape(),this},i.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},i.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var a,u,c,y,h,d,x=[],_=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,M=k,O=1,L=0;M<1;){if(d=parseFloat(M.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(d),O.toFixed(6)===k.toFixed(6)){d=parseFloat(O.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(d);break}M+=k,O-=k,++L}}for(var F=this._lookUpTableBezier.length,D=[],V=0;V<4;V++)D.push([]);D[0]=this.immediateMode.geometry.vertexColors.slice(-4),D[3]=this.curFillColor.slice();var P=[];for(V=0;V<4;V++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0;var x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(x[0]-x[1],_[0]-_[1]),q=Math.hypot(x[1]-x[2],_[1]-_[2]),z=Math.hypot(x[2]-x[3],_[2]-_[3]),q=G+q+z;for(G/=q,z/=q,h=0;h<4;h++)D[1].push(D[0][h]*(1-G)+D[3][h]*G),D[2].push(D[0][h]*z+D[3][h]*(1-z)),P[1].push(P[0][h]*(1-G)+P[3][h]*G),P[2].push(P[0][h]*z+P[3][h]*(1-z));for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=a=u=0;V<4;V++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[y][V]*D[V][h],this.curStrokeColor[h]+=this._lookUpTableBezier[y][V]*P[V][h];a+=x[V]*this._lookUpTableBezier[y][V],u+=_[V]*this._lookUpTableBezier[y][V]}this.vertex(a,u)}this.curFillColor=D[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],K=Math.hypot(x[0]-x[1],_[0]-_[1],Q[0]-Q[1]),q=Math.hypot(x[1]-x[2],_[1]-_[2],Q[1]-Q[2]),Z=Math.hypot(x[2]-x[3],_[2]-_[3],Q[2]-Q[3]),T=K+q+Z;for(K/=T,Z/=T,h=0;h<4;h++)D[1].push(D[0][h]*(1-K)+D[3][h]*K),D[2].push(D[0][h]*Z+D[3][h]*(1-Z)),P[1].push(P[0][h]*(1-K)+P[3][h]*K),P[2].push(P[0][h]*Z+P[3][h]*(1-Z));for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=a=u=c=0;V<4;V++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[y][V]*D[V][h],this.curStrokeColor[h]+=this._lookUpTableBezier[y][V]*P[V][h];a+=x[V]*this._lookUpTableBezier[y][V],u+=_[V]*this._lookUpTableBezier[y][V],c+=Q[V]*this._lookUpTableBezier[y][V]}this.vertex(a,u,c)}this.curFillColor=D[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},i.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var a,u,c,y,h,d,x=[],_=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var k=1/this._lutQuadraticDetail,M=k,O=1,L=0;M<1;){if(d=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[L]=this._quadraticCoefficients(d),O.toFixed(6)===k.toFixed(6)){d=parseFloat(O.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableQuadratic[L]=this._quadraticCoefficients(d);break}M+=k,O-=k,++L}}for(var F=this._lookUpTableQuadratic.length,D=[],V=0;V<3;V++)D.push([]);D[0]=this.immediateMode.geometry.vertexColors.slice(-4),D[2]=this.curFillColor.slice();var P=[];for(V=0;V<3;V++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0;var x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],G=Math.hypot(x[0]-x[1],_[0]-_[1]);for(G/=G+Math.hypot(x[1]-x[2],_[1]-_[2]),h=0;h<4;h++)D[1].push(D[0][h]*(1-G)+D[2][h]*G),P[1].push(P[0][h]*(1-G)+P[2][h]*G);for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=a=u=0;V<3;V++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[y][V]*D[V][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[y][V]*P[V][h];a+=x[V]*this._lookUpTableQuadratic[y][V],u+=_[V]*this._lookUpTableQuadratic[y][V]}this.vertex(a,u)}this.curFillColor=D[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(x[0]-x[1],_[0]-_[1],z[0]-z[1]);for(q/=q+Math.hypot(x[1]-x[2],_[1]-_[2],z[1]-z[2]),h=0;h<4;h++)D[1].push(D[0][h]*(1-q)+D[2][h]*q),P[1].push(P[0][h]*(1-q)+P[2][h]*q);for(y=0;y<F;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=a=u=c=0;V<3;V++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[y][V]*D[V][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[y][V]*P[V][h];a+=x[V]*this._lookUpTableQuadratic[y][V],u+=_[V]*this._lookUpTableQuadratic[y][V],c+=z[V]*this._lookUpTableQuadratic[y][V]}this.vertex(a,u,c)}this.curFillColor=D[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},i.default.RendererGL.prototype.curveVertex=function(){var a,u,c,y,h,d,x=[],_=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,M=k,O=1,L=0;M<1;){if(d=parseFloat(M.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(d),O.toFixed(6)===k.toFixed(6)){d=parseFloat(O.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(d);break}M+=k,O-=k,++L}}var F=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),h=0;h<F;h++)u=x[0]*this._lookUpTableBezier[h][0]+x[1]*this._lookUpTableBezier[h][1]+x[2]*this._lookUpTableBezier[h][2]+x[3]*this._lookUpTableBezier[h][3],c=_[0]*this._lookUpTableBezier[h][0]+_[1]*this._lookUpTableBezier[h][1]+_[2]*this._lookUpTableBezier[h][2]+_[3]*this._lookUpTableBezier[h][3],this.vertex(u,c);for(h=0;h<T;h++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),h=0;h<F;h++)u=x[0]*this._lookUpTableBezier[h][0]+x[1]*this._lookUpTableBezier[h][1]+x[2]*this._lookUpTableBezier[h][2]+x[3]*this._lookUpTableBezier[h][3],c=_[0]*this._lookUpTableBezier[h][0]+_[1]*this._lookUpTableBezier[h][1]+_[2]*this._lookUpTableBezier[h][2]+_[3]*this._lookUpTableBezier[h][3],y=a[0]*this._lookUpTableBezier[h][0]+a[1]*this._lookUpTableBezier[h][1]+a[2]*this._lookUpTableBezier[h][2]+a[3]*this._lookUpTableBezier[h][3],this.vertex(u,c,y);for(h=0;h<T;h++)this.immediateMode._curveVertex.shift()}},i.default.RendererGL.prototype.image=function(a,O,c,L,h,d,x,_,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(l.NORMAL);var k=0,M=(O<=a.width&&(k=O/a.width),1),O=(O+L<=a.width&&(M=(O+L)/a.width),0),L=(c<=a.height&&(O=c/a.height),1);c+h<=a.height&&(L=(c+h)/a.height),this.beginShape(),this.vertex(d,x,0,k,O),this.vertex(d+_,x,0,M,O),this.vertex(d+_,x+T,0,M,L),this.vertex(d,x+T,0,k,L),this.endShape(l.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(l.REMOVE)};var o=i.default;w.default=o},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,j,w){function f(u){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function p(u){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(a=t("../core/main"))&&a.__esModule?a:{default:a},l=function(u){if(u&&u.__esModule)return u;if(u===null||p(u)!=="object"&&typeof u!="function")return{default:u};var c=b();if(c&&c.has(u))return c.get(u);var y,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var x;Object.prototype.hasOwnProperty.call(u,y)&&((x=d?Object.getOwnPropertyDescriptor(u,y):null)&&(x.get||x.set)?Object.defineProperty(h,y,x):h[y]=u[y])}return h.default=u,c&&c.set(u,h),h}(t("../core/constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}function v(u){return function(c){if(Array.isArray(c)){for(var y=0,h=new Array(c.length);y<c.length;y++)h[y]=c[y];return h}}(u)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(u,c){for(var y=0;y<c.length;y++){var h=c[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}var a=function(){function u(h){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");(this.renderer=h)._pInst.push(),this.identityMatrix=new i.default.Matrix,h.uModelMatrix=new i.default.Matrix,this.geometry=new i.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(u.nextGeometryId),u.nextGeometryId++,this.hasTransform=!1}var c,y;return c=u,(y=[{key:"transformVertices",value:function(h){var d=this;return this.hasTransform?h.map(function(x){return d.renderer.uModelMatrix.multiplyPoint(x)}):h}},{key:"transformNormals",value:function(h){var d=this;return this.hasTransform?h.map(function(x){return d.renderer.uNMatrix.multiplyVec3(x)}):h}},{key:"addGeometry",value:function(h){for(var d,x=this,_=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(k,M){return k===x.identityMatrix.mat4[M]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),T=((d=this.geometry.vertices).push.apply(d,v(this.transformVertices(h.vertices))),(d=this.geometry.vertexNormals).push.apply(d,v(this.transformNormals(h.vertexNormals))),(d=this.geometry.uvs).push.apply(d,v(h.uvs)),this.renderer._doFill&&(d=this.geometry.faces).push.apply(d,v(h.faces.map(function(k){return k.map(function(M){return M+_})}))),this.renderer._doStroke&&(d=this.geometry.edges).push.apply(d,v(h.edges.map(function(k){return k.map(function(M){return M+_})}))),v(h.vertexColors));T.length<4*h.vertices.length;)T.push.apply(T,v(this.renderer.curFillColor));(d=this.geometry.vertexColors).push.apply(d,v(T))}},{key:"addImmediate",value:function(){var h=this.renderer.immediateMode.geometry,d=this.renderer.immediateMode.shapeMode,x=[];if(this.renderer._doFill)if(d===l.TRIANGLE_STRIP||d===l.QUAD_STRIP)for(var _=2;_<h.vertices.length;_++)_%2==0?x.push([_,_-1,_-2]):x.push([_,_-2,_-1]);else if(d===l.TRIANGLE_FAN)for(var T=2;T<h.vertices.length;T++)x.push([0,T-1,T]);else for(var k=0;k<h.vertices.length;k+=3)x.push([k,k+1,k+2]);this.addGeometry(Object.assign({},h,{faces:x}))}},{key:"addRetained",value:function(h){this.addGeometry(h.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&o(c.prototype,y),u}();a.nextGeometryId=0,w.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(v=t("../core/main"))&&v.__esModule?v:{default:v},i=function(o){if(o&&o.__esModule)return o;if(o===null||b(o)!=="object"&&typeof o!="function")return{default:o};var a=l();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants"));function l(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,l=function(){return o},o)}function b(o){return(b=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}p.default.prototype.orbitControl=function(o,a,u,T){var y=this,h=(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);o===void 0&&(o=1),a===void 0&&(a=o),u===void 0&&(u=1),b(T)!=="object"&&(T={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var M=T.disableTouchActions;this.touchActionsDisabled===!0||M!==void 0&&!M||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var d,x,_,M=T.freeRotation,T=M!==void 0&&M,k=[],M=(this.touches.forEach(function(G){y._renderer.prevTouches.forEach(function(z){G.id===z.id&&(z={x:G.x,y:G.y,px:z.x,py:z.y},k.push(z))})}),this._renderer.prevTouches=this.touches,0),O=0,L=0,F=0,D=0,V=this.height<this.width?this.height:this.width,P=!1;return 0<k.length?(P=0<k[0].x&&k[0].x<this.width&&0<k[0].y&&k[0].y<this.height,k.length===1?(O=-o*((d=k[0]).x-d.px)/V,L=a*(d.y-d.py)/V):(d=k[0],x=k[1],M=-(Math.hypot(d.x-x.x,d.y-x.y)-Math.hypot(d.px-x.px,d.py-x.py))*u*4e-4,F=.5*(d.x+x.x)-.5*(d.px+x.px),D=.5*(d.y+x.y)-.5*(d.py+x.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(M=Math.sign(this._mouseWheelDeltaY)*u,M*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(O=-o*this.movedX/V,L=a*this.movedY/V):this.mouseButton===this.RIGHT&&(F=this.movedX,D=this.movedY*h.yScale),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),M!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=M),.001<Math.abs(this._renderer.zoomVelocity)?(T?h._orbitFree(0,0,this._renderer.zoomVelocity):h._orbit(0,0,this._renderer.zoomVelocity),h.projMatrix.mat4[15]!==0&&(h.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),h.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=h.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=h.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,O===0&&L===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*O,.6*L),1e-6<this._renderer.rotateVelocity.magSq()?(T?h._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):h._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),F===0&&D===0||!this._renderer.executeRotateAndMove||(d=2*F/this.width,x=2*-D/this.height,this._renderer.moveVelocity.add(.15*d,.15*x)),1e-6<this._renderer.moveVelocity.magSq()?(u=h._getLocalAxes(),o=h.eyeX-h.centerX,a=h.eyeY-h.centerY,V=h.eyeZ-h.centerZ,P=Math.sqrt(o*o+a*a+V*V),M=new p.default.Vector(h.centerX,h.centerY,h.centerZ),M=h.cameraMatrix.multiplyPoint(M),(M=this._renderer.uPMatrix.multiplyAndNormalizePoint(M)).x-=this._renderer.moveVelocity.x,M.y-=this._renderer.moveVelocity.y,L=(O=this._renderer.uPMatrix.mat4)[15]===0?(_=(O[8]+M.x)/O[0]*P,(O[9]+M.y)/O[5]*P):(_=(M.x-O[12])/O[0],(M.y-O[13])/O[5]),h.setPosition(h.eyeX+_*u.x[0]+L*u.y[0],h.eyeY+_*u.x[1]+L*u.y[1],h.eyeZ+_*u.x[2]+L*u.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];p.default._validateParameters("debugMode",a);for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1);a[0]===i.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===i.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1)},p.default.prototype._grid=function(o,a,u,c,y){o===void 0&&(o=this.width/2),a===void 0&&(a=Math.round(o/30)<4?4:Math.round(o/30)),u===void 0&&(u=0),c===void 0&&(c=0),y===void 0&&(y=0);var h=o/a,d=o/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var x=0;x<=a;x++)this.beginShape(this.LINES),this.vertex(-d+u,c,x*h-d+y),this.vertex(d+u,c,x*h-d+y),this.endShape();for(var _=0;_<=a;_++)this.beginShape(this.LINES),this.vertex(_*h-d+u,c,-d+y),this.vertex(_*h-d+u,c,d+y),this.endShape();this.pop()}},p.default.prototype._axesIcon=function(o,a,u,c){return o===void 0&&(o=40<this.width/20?this.width/20:40),a===void 0&&(a=-this.width/4),u===void 0&&(u=a),c===void 0&&(c=a),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,u,c),this.vertex(a+o,u,c),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,u,c),this.vertex(a,u+o,c),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,u,c),this.vertex(a,u,c+o),this.endShape(),this.pop()}};var v=p.default;w.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,j,w){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.ambientLight=function(p,i,l,b){this._assert3d("ambientLight"),f.default._validateParameters("ambientLight",arguments);var v=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(v._array[0],v._array[1],v._array[2]),this._renderer._enableLighting=!0,this},f.default.prototype.specularColor=function(p,i,l){this._assert3d("specularColor"),f.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},f.default.prototype.directionalLight=function(p,y,c,b,v,o){this._assert3d("directionalLight"),f.default._validateParameters("directionalLight",arguments),p=p instanceof f.default.Color?p:this.color(p,y,c);var a,u,y=arguments[arguments.length-1],c=typeof y=="number"?(a=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(a=y.x,u=y.y,y.z),y=Math.sqrt(a*a+u*u+c*c);return this._renderer.directionalLightDirections.push(a/y,u/y,c/y),this._renderer.directionalLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.pointLight=function(p,c,y,b,v,o){this._assert3d("pointLight"),f.default._validateParameters("pointLight",arguments),p=p instanceof f.default.Color?p:this.color(p,c,y);var a,u,c=arguments[arguments.length-1],y=typeof c=="number"?(a=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(a=c.x,u=c.y,c.z);return this._renderer.pointLightPositions.push(a,u,y),this._renderer.pointLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.imageLight=function(p){this._renderer.activeImageLight=p,this._renderer._enableLighting=!0},f.default.prototype.panorama=function(p){this.filter(this._renderer._getSphereMapping(p))},f.default.prototype.lights=function(){this._assert3d("lights");var p=this.color("rgb(128,128,128)");return this.ambientLight(p),this.directionalLight(p,0,0,-1),this},f.default.prototype.lightFalloff=function(p,i,l){return this._assert3d("lightFalloff"),f.default._validateParameters("lightFalloff",arguments),p<0&&(p=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),p===0&&i===0&&l===0&&(p=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=p,this._renderer.linearAttenuation=i,this._renderer.quadraticAttenuation=l,this},f.default.prototype.spotLight=function(p,i,l,b,v,o,a,u,c,y,h){this._assert3d("spotLight"),f.default._validateParameters("spotLight",arguments);var d,x,_,T=arguments.length;switch(T){case 11:case 10:d=this.color(p,i,l),x=new f.default.Vector(b,v,o),_=new f.default.Vector(a,u,c);break;case 9:p instanceof f.default.Color?(d=p,x=new f.default.Vector(i,l,b),_=new f.default.Vector(v,o,a),y=u,h=c):b instanceof f.default.Vector?(d=this.color(p,i,l),x=b,_=new f.default.Vector(v,o,a),y=u,h=c):a instanceof f.default.Vector?(d=this.color(p,i,l),x=new f.default.Vector(b,v,o),_=a,y=u,h=c):(d=this.color(p,i,l),x=new f.default.Vector(b,v,o),_=new f.default.Vector(a,u,c));break;case 8:y=(_=p instanceof f.default.Color?(d=p,x=new f.default.Vector(i,l,b),new f.default.Vector(v,o,a)):b instanceof f.default.Vector?(d=this.color(p,i,l),x=b,new f.default.Vector(v,o,a)):(d=this.color(p,i,l),x=new f.default.Vector(b,v,o),a),u);break;case 7:p instanceof f.default.Color&&i instanceof f.default.Vector?(d=p,x=i,_=new f.default.Vector(l,b,v),y=o,h=a):p instanceof f.default.Color&&v instanceof f.default.Vector?(d=p,x=new f.default.Vector(i,l,b),_=v,y=o,h=a):b instanceof f.default.Vector&&v instanceof f.default.Vector?(d=this.color(p,i,l),x=b,_=v,y=o,h=a):_=p instanceof f.default.Color?(d=p,x=new f.default.Vector(i,l,b),new f.default.Vector(v,o,a)):b instanceof f.default.Vector?(d=this.color(p,i,l),x=b,new f.default.Vector(v,o,a)):(d=this.color(p,i,l),x=new f.default.Vector(b,v,o),a);break;case 6:b instanceof f.default.Vector&&v instanceof f.default.Vector?(d=this.color(p,i,l),x=b,_=v,y=o):p instanceof f.default.Color&&v instanceof f.default.Vector?(d=p,x=new f.default.Vector(i,l,b),_=v,y=o):p instanceof f.default.Color&&i instanceof f.default.Vector&&(d=p,x=i,_=new f.default.Vector(l,b,v),y=o);break;case 5:p instanceof f.default.Color&&i instanceof f.default.Vector&&l instanceof f.default.Vector?(d=p,x=i,_=l,y=b,h=v):b instanceof f.default.Vector&&v instanceof f.default.Vector?(d=this.color(p,i,l),x=b,_=v):p instanceof f.default.Color&&v instanceof f.default.Vector?(d=p,x=new f.default.Vector(i,l,b),_=v):p instanceof f.default.Color&&i instanceof f.default.Vector&&(d=p,x=i,_=new f.default.Vector(l,b,v));break;case 4:d=p,x=i,_=l,y=b;break;case 3:d=p,x=i,_=l;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(x.x,x.y,x.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),y===void 0&&(y=Math.PI/3),h!==void 0&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):h===void 0&&(h=100),y=this._renderer._pInst._toRadians(y),this._renderer.spotLightAngle.push(Math.cos(y)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},f.default.prototype.noLights=function(){this._assert3d("noLights");for(var p=arguments.length,i=new Array(p),l=0;l<p;l++)i[l]=arguments[l];return f.default._validateParameters("noLights",i),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=f.default,w.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,j,w){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t("regenerator-runtime/runtime");var p=(c=t("../core/main"))&&c.__esModule?c:{default:c};function i(y){return function(h){if(Array.isArray(h)){for(var d=0,x=new Array(h.length);d<h.length;d++)x[d]=h[d];return x}}(y)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(y,h,d,x,_,T,k){try{var M=y[T](k),O=M.value}catch(L){return void d(L)}M.done?h(O):Promise.resolve(O).then(x,_)}function b(y){return function(){var h=this,d=arguments;return new Promise(function(x,_){var T=y.apply(h,d);function k(O){l(T,x,_,k,M,"next",O)}function M(O){l(T,x,_,k,M,"throw",O)}k(void 0)})}}function v(y){return(v=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(y)}function o(y,h,d){for(var x=2<arguments.length&&d!==void 0?d:{},_={v:[],vt:[],vn:[]},T={},k=null,M=new Set,O=!1,L=!1,F=0;F<h.length;++F){var D=h[F].trim().split(/\b\s+/);if(0<D.length){if(D[0]==="usemtl")k=D[1];else if(D[0]==="v"||D[0]==="vn"){var V=new p.default.Vector(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3]));_[D[0]].push(V)}else if(D[0]==="vt")V=[parseFloat(D[1]),1-parseFloat(D[2])],_[D[0]].push(V);else if(D[0]==="f")for(var P=3;P<D.length;++P){for(var G=[],z=[1,P-1,P],q=0;q<z.length;++q){for(var Q,K=D[z[q]],Z=K.split("/"),Y=0;Y<Z.length;Y++)Z[Y]=parseInt(Z[Y])-1;T[K]||(T[K]={}),T[K][k]===void 0?(Q=y.vertices.length,y.vertices.push(_.v[Z[0]].copy()),y.uvs.push(_.vt[Z[1]]?_.vt[Z[1]].slice():[0,0]),y.vertexNormals.push(_.vn[Z[2]]?_.vn[Z[2]].copy():new p.default.Vector),T[K][k]=Q,G.push(Q),k&&x[k]&&x[k].diffuseColor&&M.add(_.v[Z[0]])):G.push(T[K][k])}if(G[0]!==G[1]&&G[0]!==G[2]&&G[1]!==G[2])if(y.faces.push(G),k&&x[k]&&x[k].diffuseColor)for(var O=O=!0,ee=x[k].diffuseColor,ae=0;ae<G.length;ae++)y.vertexColors.push(ee[0]),y.vertexColors.push(ee[1]),y.vertexColors.push(ee[2]);else L=!0}}}if(y.vertexNormals.length===0&&y.computeNormals(),O===L)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function a(y,h){if(function(_e){for(var le=new DataView(_e),de=[115,111,108,105,100],xe=0;xe<5;xe++)if(function(Ae,Se,Te){for(var ke=0,Xe=Ae.length;ke<Xe;ke++)if(Ae[ke]!==Se.getUint8(Te+ke,!1))return;return 1}(de,le,xe))return;return 1}(h)){for(var d,x,_,T,k,M,O,L=y,F=new DataView(h),D=F.getUint32(80,!0),V=!1,P=0;P<70;P++)F.getUint32(P,!1)===1129270351&&F.getUint8(P+4)===82&&F.getUint8(P+5)===61&&(V=!0,T=[],k=F.getUint8(P+6)/255,M=F.getUint8(P+7)/255,O=F.getUint8(P+8)/255);for(var G=0;G<D;G++){for(var z,q=84+50*G,Q=F.getFloat32(q,!0),K=F.getFloat32(4+q,!0),Z=F.getFloat32(8+q,!0),Y=(V&&(z=F.getUint16(48+q,!0),_=(32768&z)==0?(d=(31&z)/31,x=(z>>5&31)/31,(z>>10&31)/31):(d=k,x=M,O)),new p.default.Vector(Q,K,Z)),ee=1;ee<=3;ee++){var ae=q+12*ee,ae=new p.default.Vector(F.getFloat32(ae,!0),F.getFloat32(4+ae,!0),F.getFloat32(8+ae,!0));L.vertices.push(ae),L.vertexNormals.push(Y),V&&T.push(d,x,_)}L.faces.push([3*G,3*G+1,3*G+2]),L.uvs.push([0,0],[0,0],[0,0])}}else if(h=new DataView(h),"TextDecoder"in window)for(var A,B,W=y,J=new TextDecoder("utf-8").decode(h).split(`
`),ie="",ne=[],pe=0;pe<J.length;++pe){for(var ge=J[pe].trim(),he=ge.split(" "),be=0;be<he.length;++be)he[be]===""&&he.splice(be,1);if(he.length!==0)switch(ie){case"":if(he[0]!=="solid")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "solid"'));ie="solid";break;case"solid":if(he[0]!=="facet"||he[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "facet normal"'));A=new p.default.Vector(parseFloat(he[2]),parseFloat(he[3]),parseFloat(he[4])),W.vertexNormals.push(A,A,A),ie="facet normal";break;case"facet normal":if(he[0]!=="outer"||he[1]!=="loop")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "outer loop"'));ie="vertex";break;case"vertex":if(he[0]==="vertex")B=new p.default.Vector(parseFloat(he[1]),parseFloat(he[2]),parseFloat(he[3])),W.vertices.push(B),W.uvs.push([0,0]),ne.push(W.vertices.indexOf(B));else{if(he[0]!=="endloop")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "vertex" or "endloop"'));W.faces.push(ne),ne=[],ie="endloop"}break;case"endloop":if(he[0]!=="endfacet")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "endfacet"'));ie="endfacet";break;case"endfacet":if(he[0]!=="endsolid"){if(he[0]!=="facet"||he[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(he[0],'", should be "endsolid" or "facet normal"'));A=new p.default.Vector(parseFloat(he[2]),parseFloat(he[3]),parseFloat(he[4])),W.vertexNormals.push(A,A,A),ie="facet normal"}break;default:console.error('Invalid state "'.concat(ie,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),p.default.prototype.loadModel=function(y,h){p.default._validateParameters("loadModel",arguments);var d,x,_=!1,T=!1,k=!1,M=y.slice(-4),O=(h&&v(h)==="object"?(_=h.normalize||!1,d=h.successCallback,x=h.failureCallback,M=h.fileType||M,T=h.flipU||!1,k=h.flipV||!1):typeof h=="boolean"?(_=h,d=arguments[2],x=arguments[3],arguments[4]!==void 0&&(M=arguments[4])):(d=typeof h=="function"?h:void 0,x=arguments[2],arguments[3]!==void 0&&(M=arguments[3])),new p.default.Geometry),L=(O.gid="".concat(y,"|").concat(_),this);function F(){return(F=b(regeneratorRuntime.mark(function V(P){var G,z,q,Q;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:for(G=[],z=0;z<P.length;z++)(q=P[z].match(/^mtllib (.+)/))&&function(){var Z="",Y=q[1],ee=y.split("/");Z=1<ee.length?(ee.pop(),ee.join("/")+"/"+Y):Y,G.push(function(){return D.apply(this,arguments)}(Z).then(function(ae){return ae?(A=L,B=Z,new Promise(function(W,J){var ie=null,ne={};A.loadStrings(B,function(pe){for(var ge=0;ge<pe.length;++ge){var he,be=pe[ge].trim().split(/\s+/);be[0]==="newmtl"?(he=be[1],ne[ie=he]={}):be[0]==="Kd"?ne[ie].diffuseColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="Ka"?ne[ie].ambientColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="Ks"?ne[ie].specularColor=[parseFloat(be[1]),parseFloat(be[2]),parseFloat(be[3])]:be[0]==="map_Kd"&&(ne[ie].texturePath=be[1])}W(ne)},J)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(Z)),{});var A,B}).catch(function(ae){return console.warn("Error loading MTL file: ".concat(Z),ae),{}}))}();return K.prev=2,K.next=5,Promise.all(G);case 5:return Q=K.sent,Q=Object.assign.apply(Object,[{}].concat(i(Q))),K.abrupt("return",Q);case 10:return K.prev=10,K.t0=K.catch(2),K.abrupt("return",{});case 13:case"end":return K.stop()}},V,null,[[2,10]])}))).apply(this,arguments)}function D(){return(D=b(regeneratorRuntime.mark(function V(P){var G;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,fetch(P,{method:"HEAD"});case 3:return G=z.sent,z.abrupt("return",G.ok);case 7:return z.prev=7,z.t0=z.catch(0),z.abrupt("return",!1);case 10:case"end":return z.stop()}},V,null,[[0,7]])}))).apply(this,arguments)}return M.match(/\.stl$/i)?this.httpDo(y,"GET","arrayBuffer",function(V){a(O,V),_&&O.normalize(),T&&O.flipU(),k&&O.flipV(),L._decrementPreload(),typeof d=="function"&&d(O)},x):M.match(/\.obj$/i)?this.loadStrings(y,function(){var V=b(regeneratorRuntime.mark(function P(G){var z;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,function(){return F.apply(this,arguments)}(G);case 3:z=q.sent,o(O,G,z),q.next=11;break;case 7:return q.prev=7,q.t0=q.catch(0),x?x(q.t0):p.default._friendlyError("Error during parsing: "+q.t0.message),q.abrupt("return");case 11:return q.prev=11,_&&O.normalize(),T&&O.flipU(),k&&O.flipV(),O._makeTriangleEdges(),L._decrementPreload(),typeof d=="function"&&d(O),q.finish(11);case 19:case"end":return q.stop()}},P,null,[[0,7,11,19]])}));return function(P){return V.apply(this,arguments)}}(),x):(p.default._friendlyFileLoadError(3,y),x?x():p.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),O},p.default.prototype.model=function(y){this._assert3d("model"),p.default._validateParameters("model",arguments),0<y.vertices.length&&(this._renderer.geometryInHash(y.gid)||(y._edgesToVertices(),this._renderer.createBuffers(y.gid,y)),this._renderer.drawBuffers(y.gid))};var u=0,c=(p.default.prototype.createModel=function(y){var h,d,x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",M=2<arguments.length?arguments[2]:void 0,_=(p.default._validateParameters("createModel",arguments),!1),T=!1,k=!1,M=(M&&v(M)==="object"?(_=M.normalize||!1,h=M.successCallback,d=M.failureCallback,T=M.flipU||!1,k=M.flipV||!1):d=typeof M=="boolean"?(_=M,h=arguments[3],arguments[4]):(h=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new p.default.Geometry);if(M.gid="".concat(x,"|").concat(_,"|").concat(u++),x.match(/\.stl$/i))try{a(M,new TextEncoder().encode(y).buffer)}catch(O){return void(d?d(O):p.default._friendlyError("Error during parsing: "+O.message))}else if(x.match(/\.obj$/i))try{o(M,y.split(`
`))}catch(O){return void(d?d(O):p.default._friendlyError("Error during parsing: "+O.message))}else p.default._friendlyFileLoadError(3,y),d?d():p.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return _&&M.normalize(),T&&M.flipU(),k&&M.flipV(),M._makeTriangleEdges(),typeof h=="function"&&h(M),M},p.default);w.default=c},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},l=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants"));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}t("./p5.Texture"),i.default.prototype.loadShader=function(o,a,u,c){i.default._validateParameters("loadShader",arguments),c=c||console.error;function y(){d._decrementPreload(),u&&u(h)}var h=new i.default.Shader,d=this,x=!1,_=!1;return this.loadStrings(o,function(T){h._vertSrc=T.join(`
`),_=!0,x&&y()},c),this.loadStrings(a,function(T){h._fragSrc=T.join(`
`),x=!0,_&&y()},c),h},i.default.prototype.createShader=function(o,a,u){return i.default._validateParameters("createShader",arguments),new i.default.Shader(this._renderer,o,a,u)},i.default.prototype.createFilterShader=function(o){i.default._validateParameters("createFilterShader",arguments);var a=o.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,a=new i.default.Shader(this._renderer,a,o);return this._renderer.GL?a.ensureCompiledOnContext(this):a.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),a},i.default.prototype.shader=function(o){return this._assert3d("shader"),i.default._validateParameters("shader",arguments),o.ensureCompiledOnContext(this),o.isStrokeShader()?this._renderer.userStrokeShader=o:(this._renderer.userFillShader=o,this._renderer._useNormalMaterial=!1),o.setDefaultUniforms(),this},i.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},i.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},i.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},i.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},i.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},i.default.prototype.texture=function(o){return this._assert3d("texture"),i.default._validateParameters("texture",arguments),o.gifProperties&&o._animateGif(this),this._renderer.drawMode=l.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=o,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.textureMode=function(o){o!==l.IMAGE&&o!==l.NORMAL?console.warn("You tried to set ".concat(o," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=o},i.default.prototype.textureWrap=function(o){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,u=(this._renderer.textureWrapX=o,this._renderer.textureWrapY=a,!0),c=!1,y=void 0;try{for(var h,d=this._renderer.textures.values()[Symbol.iterator]();!(u=(h=d.next()).done);u=!0)h.value.setWrapMode(o,a)}catch(x){c=!0,y=x}finally{try{u||d.return==null||d.return()}finally{if(c)throw y}}},i.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return i.default._validateParameters("normalMaterial",a),this._renderer.drawMode=l.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},i.default.prototype.ambientMaterial=function(o,a,u){this._assert3d("ambientMaterial"),i.default._validateParameters("ambientMaterial",arguments);var c=i.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=c._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.emissiveMaterial=function(o,a,u,c){this._assert3d("emissiveMaterial"),i.default._validateParameters("emissiveMaterial",arguments);var y=i.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=y._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.specularMaterial=function(o,a,u,c){this._assert3d("specularMaterial"),i.default._validateParameters("specularMaterial",arguments);var y=i.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=y._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.shininess=function(o){return this._assert3d("shininess"),i.default._validateParameters("shininess",arguments),this._renderer._useShininess=o=o<1?1:o,this},i.default.prototype.metalness=function(o){return this._assert3d("metalness"),o=1-Math.exp(-o/100),this._renderer._useMetalness=o,this},i.default.RendererGL.prototype._applyColorBlend=function(o,y){var u=this.GL,c=this.drawMode===l.TEXTURE,y=y||this.userFillShader||this.userStrokeShader||this.userPointShader||c||this.curBlendMode!==l.BLEND||o[o.length-1]<1||this._isErasing;return y!==this._isBlending&&(y||this.curBlendMode!==l.BLEND&&this.curBlendMode!==l.ADD?u.enable(u.BLEND):u.disable(u.BLEND),u.depthMask(!0),this._isBlending=y),this._applyBlendMode(),o},i.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var o=this.GL;switch(this.curBlendMode){case l.BLEND:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case l.ADD:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE);break;case l.REMOVE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ZERO,o.ONE_MINUS_SRC_ALPHA);break;case l.MULTIPLY:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA);break;case l.SCREEN:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_COLOR);break;case l.EXCLUSION:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE);break;case l.REPLACE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO);break;case l.SUBTRACT:o.blendEquationSeparate(o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case l.DARKEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case l.LIGHTEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var v=i.default;w.default=v},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,j,w){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(i,l){for(var b=0;b<l.length;b++){var v=l[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}f.default.prototype.camera=function(){var i;this._assert3d("camera");for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("camera",b),(i=this._renderer._curCamera).camera.apply(i,b),this},f.default.prototype.perspective=function(){var i;this._assert3d("perspective");for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("perspective",b),(i=this._renderer._curCamera).perspective.apply(i,b),this},f.default.prototype.linePerspective=function(i){if(f.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof f.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(i===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=i},f.default.prototype.ortho=function(){var i;this._assert3d("ortho");for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("ortho",b),(i=this._renderer._curCamera).ortho.apply(i,b),this},f.default.prototype.frustum=function(){var i;this._assert3d("frustum");for(var l=arguments.length,b=new Array(l),v=0;v<l;v++)b[v]=arguments[v];return f.default._validateParameters("frustum",b),(i=this._renderer._curCamera).frustum.apply(i,b),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var i=new f.default.Camera(this._renderer);return i._computeCameraDefaultSettings(),i._setDefaultCamera(),this._renderer._curCamera=i},f.default.Camera=function(){function i(v){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._renderer=v,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix,this.yScale=1}var l,b;return l=i,(b=[{key:"perspective",value:function(c,o,a,u){this.cameraType=0<arguments.length?"custom":"default",c===void 0?(c=this.defaultCameraFOV,this.cameraFOV=c):this.cameraFOV=this._renderer._pInst._toRadians(c),o===void 0&&(o=this.defaultAspectRatio),a===void 0&&(a=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=o,this.cameraNear=a,this.cameraFar=u,this.projMatrix=f.default.Matrix.identity();var c=1/Math.tan(this.cameraFOV/2),y=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/o,0,0,0,0,-c*this.yScale,0,0,0,0,(u+a)*y,-1,0,0,2*u*a*y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(M,k,a,u,c,y){var O=this.fbo||this._renderer,O=(M===void 0&&(M=-O.width/2),k===void 0&&(k=+O.width/2),a===void 0&&(a=-O.height/2),u===void 0&&(u=+O.height/2),c===void 0&&(c=0),y===void 0&&(y=Math.max(O.width,O.height)+800),this.cameraNear=c,k-M),h=u-a,d=(this.cameraFar=y)-c,x=2/O,_=2/h*this.yScale,T=-2/d,k=-(k+M)/O,M=-(u+a)/h,O=-(y+c)/d;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-_,0,0,0,0,T,0,k,M,O,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(M,k,a,u,c,y){M===void 0&&(M=.05*-this._renderer.width),k===void 0&&(k=.05*+this._renderer.width),a===void 0&&(a=.05*+this._renderer.height),u===void 0&&(u=.05*-this._renderer.height),c===void 0&&(c=this.defaultCameraNear),y===void 0&&(y=this.defaultCameraFar),this.cameraNear=c;var O=k-M,h=u-a,d=(this.cameraFar=y)-c,x=2*c/O,_=2*c/h*this.yScale,T=-2*y*c/d,k=(k+M)/O,M=(u+a)/h,O=-(y+c)/d;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(x,0,0,0,0,-_,0,0,k,M,O,-1,0,0,T,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(x,o,a,u){var c=this.centerX,y=this.centerY,h=this.centerZ,d=(c-=this.eyeX,y-=this.eyeY,h-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst)),x=(d.rotate(this._renderer._pInst._toRadians(x),o,a,u),[c*d.mat4[0]+y*d.mat4[4]+h*d.mat4[8],c*d.mat4[1]+y*d.mat4[5]+h*d.mat4[9],c*d.mat4[2]+y*d.mat4[6]+h*d.mat4[10]]);x[0]+=this.eyeX,x[1]+=this.eyeY,x[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,x[0],x[1],x[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var o=this._getLocalAxes(),a=f.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),o.z[0],o.z[1],o.z[2]).rotateVector(new f.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(v){var o=this._getLocalAxes();this._rotateView(v,o.y[0],o.y[1],o.y[2])}},{key:"tilt",value:function(v){var o=this._getLocalAxes();this._rotateView(v,o.x[0],o.x[1],o.x[2])}},{key:"lookAt",value:function(v,o,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,v,o,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(v,o,a,u,c,y,h,d,x){return v===void 0&&(v=this.defaultEyeX,o=this.defaultEyeY,a=this.defaultEyeZ,u=v,c=o,d=1,x=h=y=0),this.eyeX=v,this.eyeY=o,this.eyeZ=a,u!==void 0&&(this.centerX=u,this.centerY=c,this.centerZ=y),h!==void 0&&(this.upX=h,this.upY=d,this.upZ=x),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),c=-v,this.cameraMatrix.translate([c,-o,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,c,a){var y=this._getLocalAxes(),u=[y.x[0]*u,y.x[1]*u,y.x[2]*u],c=[y.y[0]*c,y.y[1]*c,y.y[2]*c],y=[y.z[0]*a,y.z[1]*a,y.z[2]*a];this.camera(this.eyeX+u[0]+c[0]+y[0],this.eyeY+u[1]+c[1]+y[1],this.eyeZ+u[2]+c[2]+y[2],this.centerX+u[0]+c[0]+y[0],this.centerY+u[1]+c[1]+y[1],this.centerZ+u[2]+c[2]+y[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(v,o,a){var u=v-this.eyeX,c=o-this.eyeY,y=a-this.eyeZ;this.camera(v,o,a,this.centerX+u,this.centerY+c,this.centerZ+y,this.upX,this.upY,this.upZ)}},{key:"set",value:function(v){for(var o=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];o<a.length;o++){var u=a[o];this[u]=v[u]}this.cameraMatrix=v.cameraMatrix.copy(),this.projMatrix=v.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(v,o,a){var u,c,y,h,d,x,_,T,k,M,O,L,F,D,V,P,G,z;a===0?this.set(v):a===1?this.set(o):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=v.projMatrix.mat4[0]*Math.pow(o.projMatrix.mat4[0]/v.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=v.projMatrix.mat4[5]*Math.pow(o.projMatrix.mat4[5]/v.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),h=new f.default.Vector(v.eyeX,v.eyeY,v.eyeZ),d=new f.default.Vector(o.eyeX,o.eyeY,o.eyeZ),P=new f.default.Vector(v.centerX,v.centerY,v.centerZ),z=new f.default.Vector(o.centerX,o.centerY,o.centerZ),y=f.default.Vector.dist(h,P),u=f.default.Vector.dist(d,z),u=y*Math.pow(u/y,a),y=f.default.Vector.sub(h,d),c=1,1e-6<(G=(D=h.copy().sub(d).sub(P).add(z)).magSq())&&(c=f.default.Vector.dot(y,D)/G,c=Math.max(0,Math.min(c,1))),y=f.default.Vector.lerp(f.default.Vector.lerp(h,P,c),f.default.Vector.lerp(d,z,c),a),D=v.cameraMatrix.createSubMatrix3x3(),G=o.cameraMatrix.createSubMatrix3x3(),h=D.row(2),P=G.row(2),d=D.row(1),z=G.row(1),v=new f.default.Vector,o=new f.default.Vector,x=new f.default.Vector,_=new f.default.Vector,1-(T=.5*((D=(G=G.mult3x3(D.copy().transpose3x3())).diagonal())[0]+D[1]+D[2]-1))<1e-7?(v.set(f.default.Vector.lerp(h,P,a)).normalize(),x.set(v).mult(c*u).add(y),_.set(v).mult((c-1)*u).add(y),o.set(f.default.Vector.lerp(d,z,a)).normalize()):(P=1/(1-T),z=Math.max(D[0],D[1],D[2]),L=G.mat3[1]+G.mat3[3],F=G.mat3[2]+G.mat3[6],V=G.mat3[5]+G.mat3[7],z=z===D[0]?(M=.5*L*(P/=k=Math.sqrt((D[0]-T)*P)),O=.5*F*P,.5*(G.mat3[7]-G.mat3[5])/k):z===D[1]?(O=.5*V*(P/=M=Math.sqrt((D[1]-T)*P)),k=.5*L*P,.5*(G.mat3[2]-G.mat3[6])/M):(k=.5*F*(P/=O=Math.sqrt((D[2]-T)*P)),M=.5*V*P,.5*(G.mat3[3]-G.mat3[1])/O),L=a*Math.atan2(z,T),F=Math.cos(L),D=Math.sin(L),(z=new f.default.Matrix("mat3",[F+(V=1-F)*k*k,V*(P=k*M)+D*O,V*(G=O*k)-D*M,V*P-D*O,F+V*M*M,V*(a=M*O)+D*k,V*G+D*M,V*a-D*k,F+V*O*O])).multiplyVec3(h,v),x.set(v).mult(c*u).add(y),_.set(v).mult((c-1)*u).add(y),z.multiplyVec3(d,o)),this.camera(x.x,x.y,x.z,_.x,_.y,_.z,o.x,o.y,o.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var v=new f.default.Camera(this._renderer);return v.cameraFOV=this.cameraFOV,v.aspectRatio=this.aspectRatio,v.eyeX=this.eyeX,v.eyeY=this.eyeY,v.eyeZ=this.eyeZ,v.centerX=this.centerX,v.centerY=this.centerY,v.centerZ=this.centerZ,v.upX=this.upX,v.upY=this.upY,v.upZ=this.upZ,v.cameraNear=this.cameraNear,v.cameraFar=this.cameraFar,v.cameraType=this.cameraType,v.useLinePerspective=this.useLinePerspective,v.cameraMatrix=this.cameraMatrix.copy(),v.projMatrix=this.projMatrix.copy(),v.yScale=this.yScale,v}},{key:"_getLocalAxes",value:function(){var v=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,h=Math.sqrt(v*v+o*o+a*a),h=(h!==0&&(v/=h,o/=h,a/=h),this.upX),u=(d=this.upY)*a-(x=this.upZ)*o,c=-h*a+x*v,y=h*o-d*v,h=o*y-a*c,d=-v*y+a*u,x=v*c-o*u,_=Math.sqrt(u*u+c*c+y*y),_=(_!==0&&(u/=_,c/=_,y/=_),Math.sqrt(h*h+d*d+x*x));return _!==0&&(h/=_,d/=_,x/=_),{x:[u,c,y],y:[h,d,x],z:[v,o,a]}}},{key:"_orbit",value:function(v,_,x){var c=this.eyeX-this.centerX,y=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,u=Math.hypot(c,y,h),c=new f.default.Vector(c,y,h).normalize(),y=new f.default.Vector(this.upX,this.upY,this.upZ).normalize(),h=f.default.Vector.cross(y,c).normalize(),d=f.default.Vector.cross(h,y),x=((u=(u*=Math.pow(10,x))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,f.default.Vector.dot(c,y))))+_),_=v;(x<=0||x>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),y.mult(Math.cos(x)),d.mult(Math.cos(_)*Math.sin(x)),h.mult(Math.sin(_)*Math.sin(x)),c.set(y).add(d).add(h),this.eyeX=u*c.x+this.centerX,this.eyeY=u*c.y+this.centerY,this.eyeZ=u*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(x,_,k){var c=this.eyeX-this.centerX,y=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,u=Math.hypot(c,y,h),c=new f.default.Vector(c,y,h).normalize(),y=new f.default.Vector(this.upX,this.upY,this.upZ),h=f.default.Vector.cross(y,c).normalize(),d=f.default.Vector.cross(c,h),M=Math.atan2(_,x),M=(d.mult(Math.sin(M)),h.mult(Math.cos(M)).add(d),Math.sqrt(x*x+_*_)),d=f.default.Vector.cross(c,h),x=((u=(u*=Math.pow(10,k))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),Math.cos(M)),_=Math.sin(M),k=y.dot(c),M=y.dot(h),T=k*x+M*_,k=-k*_+M*x,M=y.dot(d);y.x=T*c.x+k*h.x+M*d.x,y.y=T*c.y+k*h.y+M*d.y,y.z=T*c.z+k*h.z+M*d.z,h.mult(-_),c.mult(x).add(h).mult(u),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,y.x,y.y,y.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&p(l.prototype,b),i}(),f.default.prototype.setCamera=function(i){this._renderer._curCamera=i,this._renderer.uPMatrix.set(i.projMatrix),this._renderer.uViewMatrix.set(i.cameraMatrix)},t=f.default.Camera,w.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,j,w){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(p,i){for(var l=0;l<i.length;l++){var b=i[l];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}t.default.DataArray=function(){function p(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,v=this,o=p;if(!(v instanceof o))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var i,l;return i=p,(l=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,v=new Array(b),o=0;o<b;o++)v[o]=arguments[o];this.ensureLength(this.length+v.length),this.data.set(v,this.length),this.length+=v.length}},{key:"slice",value:function(b,v){return this.data.slice(b,Math.min(v,this.length))}},{key:"subArray",value:function(b,v){return this.data.subarray(b,Math.min(v,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var v=new Float32Array(2*this.data.length);v.set(this.data,0),this.data=v}}}])&&f(i.prototype,l),p}(),t=t.default.DataArray,w.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(L,j,w){function f(F){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(F)}function p(F){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(D){return f(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":f(D)})(F)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(O=L("../core/main"))&&O.__esModule?O:{default:O},l=function(F){if(F&&F.__esModule)return F;if(F===null||p(F)!=="object"&&typeof F!="function")return{default:F};var D=o();if(D&&D.has(F))return D.get(F);var V,P={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in F){var z;Object.prototype.hasOwnProperty.call(F,V)&&((z=G?Object.getOwnPropertyDescriptor(F,V):null)&&(z.get||z.set)?Object.defineProperty(P,V,z):P[V]=F[V])}return P.default=F,D&&D.set(F,P),P}(L("../core/constants")),b=L("./p5.Texture"),v=L("./p5.RendererGL");function o(){var F;return typeof WeakMap!="function"?null:(F=new WeakMap,o=function(){return F},F)}function a(F,D){return function(V){if(Array.isArray(V))return V}(F)||function(V,P){if(Symbol.iterator in Object(V)||Object.prototype.toString.call(V)==="[object Arguments]"){var G=[],z=!0,q=!1,Q=void 0;try{for(var K,Z=V[Symbol.iterator]();!(z=(K=Z.next()).done)&&(G.push(K.value),!P||G.length!==P);z=!0);}catch(Y){q=!0,Q=Y}finally{try{z||Z.return==null||Z.return()}finally{if(q)throw Q}}return G}}(F,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(F,D,V){return D in F?Object.defineProperty(F,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):F[D]=V,F}function c(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function y(F,D){for(var V=0;V<D.length;V++){var P=D[V];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(F,P.key,P)}}function h(F,D,V){D&&y(F.prototype,D)}function d(F,D,V){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,G,z){var q=function(Q,K){for(;!Object.prototype.hasOwnProperty.call(Q,K)&&(Q=T(Q))!==null;);return Q}(q,G);if(q)return(q=Object.getOwnPropertyDescriptor(q,G)).get?q.get.call(z):q.value})(F,D,V||F)}function x(F,D){return(x=Object.setPrototypeOf||function(V,P){return V.__proto__=P,V})(F,D)}function _(F){return function(){var D,V=T(F),V=(D=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(D=T(this).constructor,Reflect.construct(V,arguments,D)):V.apply(this,arguments),this);if(!D||p(D)!=="object"&&typeof D!="function"){if(V!==void 0)return V;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return D}}function T(F){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}var k=function(F){var D=P;if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),F&&x(D,F);var V=_(P);function P(G){var z;return c(this,P),(z=V.call(this,G.target._renderer)).fbo=G,z.yScale=-1,z}return h(P,[{key:"_computeCameraDefaultSettings",value:function(){d(T(P.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),P}(i.default.Camera),M=(i.default.FramebufferCamera=k,function(){function F(D,V){c(this,F),this.framebuffer=D,this.property=V}return h(F,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),F}()),O=(i.default.FramebufferTexture=M,function(){function F(D){var V=this,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},G=(c(this,F),this.target=D,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=P.format||l.UNSIGNED_BYTE,this.channels=P.channels||(D._renderer._pInst._glAttributes.alpha?l.RGBA:l.RGB),this.useDepth=P.depth===void 0||P.depth,this.depthFormat=P.depthFormat||l.FLOAT,this.textureFiltering=P.textureFiltering||l.LINEAR,P.antialias===void 0?this.antialiasSamples=D._renderer._pInst._glAttributes.antialias?2:0:typeof P.antialias=="number"?this.antialiasSamples=P.antialias:this.antialiasSamples=P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&D.webglVersion!==l.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=P.density||D.pixelDensity(),D._renderer.GL);if(this.gl=G,P.width&&P.height?(z=D._renderer._adjustDimensions(P.width,P.height),this.width=z.adjustedWidth,this.height=z.adjustedHeight,this._autoSized=!1):(P.width===void 0!=(P.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=D.width,this.height=D.height,this._autoSized=!0),this._checkIfFormatsAvailable(),P.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(P.stencil===void 0||P.stencil),this.framebuffer=G.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=G.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var z=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=z,this.draw(function(){return V.target.clear()})}return h(F,[{key:"resize",value:function(D,V){this._autoSized=!1;var P=this.target._renderer._adjustDimensions(D,V);D=P.adjustedWidth,V=P.adjustedHeight,this.width=D,this.height=V,this._handleResize()}},{key:"pixelDensity",value:function(D){if(!D)return this.density;this._autoSized=!1,this.density=D,this._handleResize()}},{key:"autoSized",value:function(D){if(D===void 0)return this._autoSized;this._autoSized=D,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var D=this.gl,D=(this.useDepth&&this.target.webglVersion===l.WEBGL&&!D.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===l.WEBGL&&this.depthFormat===l.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=l.UNSIGNED_INT),[l.UNSIGNED_BYTE,l.FLOAT,l.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.useDepth&&![l.UNSIGNED_INT,l.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=l.FLOAT),(0,b.checkWebGLCapabilities)(this.target._renderer));D.float||this.format!==l.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.useDepth&&!D.float&&this.depthFormat===l.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=l.UNSIGNED_INT),D.halfFloat||this.format!==l.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=l.UNSIGNED_BYTE),this.channels===l.RGB&&[l.FLOAT,l.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=l.RGBA)}},{key:"_recreateTextures",value:function(){var D=this.gl,V=(this._updateSize(),D.getParameter(D.TEXTURE_BINDING_2D)),P=D.getParameter(D.FRAMEBUFFER_BINDING),G=D.createTexture();if(!G)throw new Error("Unable to create color texture");D.bindTexture(D.TEXTURE_2D,G);var z=this._glColorFormat();if(D.texImage2D(D.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),this.colorTexture=G,D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,G,0),this.useDepth){var G=D.createTexture();if(!G)throw new Error("Unable to create depth texture");var q=this._glDepthFormat();D.bindTexture(D.TEXTURE_2D,G),D.texImage2D(D.TEXTURE_2D,0,q.internalFormat,this.width*this.density,this.height*this.density,0,q.format,q.type,null),D.framebufferTexture2D(D.FRAMEBUFFER,this.useStencil?D.DEPTH_STENCIL_ATTACHMENT:D.DEPTH_ATTACHMENT,D.TEXTURE_2D,G,0),this.depthTexture=G}this.antialias&&(this.colorRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.colorRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(q=this._glDepthFormat(),this.depthRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.depthRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),q.internalFormat,this.width*this.density,this.height*this.density)),D.bindFramebuffer(D.FRAMEBUFFER,this.aaFramebuffer),D.framebufferRenderbuffer(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&D.framebufferRenderbuffer(D.FRAMEBUFFER,this.useStencil?D.DEPTH_STENCIL_ATTACHMENT:D.DEPTH_ATTACHMENT,D.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),G=D.NEAREST,this.depthP5Texture=new i.default.Texture(this.target._renderer,this.depth,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),z=this.textureFiltering===l.LINEAR?D.LINEAR:D.NEAREST,this.colorP5Texture=new i.default.Texture(this.target._renderer,this.color,{minFilter:z,magFilter:z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),D.bindTexture(D.TEXTURE_2D,V),D.bindFramebuffer(D.FRAMEBUFFER,P)}},{key:"_glColorFormat",value:function(){var D,V,P=this.gl,G=this.format===l.FLOAT?P.FLOAT:this.format===l.HALF_FLOAT?this.target.webglVersion===l.WEBGL2?P.HALF_FLOAT:P.getExtension("OES_texture_half_float").HALF_FLOAT_OES:P.UNSIGNED_BYTE,z=this.channels===l.RGBA?P.RGBA:P.RGB;return{internalFormat:this.target.webglVersion===l.WEBGL2?(u(V={},P.FLOAT,u({},P.RGBA,P.RGBA32F)),u(V,P.HALF_FLOAT,u({},P.RGBA,P.RGBA16F)),u(V,P.UNSIGNED_BYTE,(u(D={},P.RGBA,P.RGBA8),u(D,P.RGB,P.RGB8),D)),V[G][z]):this.format===l.HALF_FLOAT?P.RGBA:z,format:z,type:G}}},{key:"_glDepthFormat",value:function(){var P=this.gl,D=this.useStencil?this.depthFormat===l.FLOAT?P.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===l.WEBGL2?P.UNSIGNED_INT_24_8:P.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===l.FLOAT?P.FLOAT:P.UNSIGNED_INT,V=this.useStencil?P.DEPTH_STENCIL:P.DEPTH_COMPONENT,P=this.useStencil?this.depthFormat===l.FLOAT?P.DEPTH32F_STENCIL8:this.target.webglVersion===l.WEBGL2?P.DEPTH24_STENCIL8:P.DEPTH_STENCIL:this.target.webglVersion===l.WEBGL2?this.depthFormat===l.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT;return{internalFormat:P,format:V,type:D}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var G=this.color,D=this.depth,V=this.colorRenderbuffer,P=this.depthRenderbuffer,G=(this._deleteTexture(G),D&&this._deleteTexture(D),this.gl);V&&G.deleteRenderbuffer(V),P&&G.deleteRenderbuffer(P),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var D=new k(this);return D._computeCameraDefaultSettings(),D._setDefaultCamera(),this.target._renderer._curCamera=D}},{key:"_deleteTexture",value:function(D){this.gl.deleteTexture(D.rawTexture()),this.target._renderer.textures.delete(D)}},{key:"remove",value:function(){var D=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),D.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&D.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&D.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&D.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var D=this.gl;D.bindFramebuffer(D.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var D=this.gl,V=(D.bindFramebuffer(D.READ_FRAMEBUFFER,this.aaFramebuffer),D.bindFramebuffer(D.DRAW_FRAMEBUFFER,this.framebuffer),[[D.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&V.push([D.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var P=0,G=V;P<G.length;P++){var q=a(G[P],2),z=q[0],q=q[1];D.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z,q)}}}},{key:"end",value:function(){var D=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(D.bindFramebuffer(D.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(D){this.begin(),D(),this.end()}},{key:"loadPixels",value:function(){var D=this.gl,V=this.target._renderer.activeFramebuffer(),P=(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,v.readPixelsWebGL)(this.pixels,D,this.framebuffer,0,0,this.width*this.density,this.height*this.density,P.format,P.type),V?D.bindFramebuffer(D.FRAMEBUFFER,V._framebufferToBind()):D.bindFramebuffer(D.FRAMEBUFFER,null)}},{key:"get",value:function(D,V,P,G){i.default._validateParameters("p5.Framebuffer.get",arguments);var z=this._glColorFormat();if(D===void 0&&V===void 0)V=D=0,P=this.width,G=this.height;else if(P===void 0&&G===void 0)return(D<0||V<0||D>=this.width||V>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),D=this.target.constrain(D,0,this.width-1),V=this.target.constrain(V,0,this.height-1)),(0,v.readPixelWebGL)(this.gl,this.framebuffer,D*this.density,V*this.density,z.format,z.type);D=this.target.constrain(D,0,this.width-1),V=this.target.constrain(V,0,this.height-1),P=this.target.constrain(P,1,this.width-D),G=this.target.constrain(G,1,this.height-V);for(var q=(0,v.readPixelsWebGL)(void 0,this.gl,this.framebuffer,D*this.density,V*this.density,P*this.density,G*this.density,z.format,z.type),Q=new Uint8ClampedArray(P*G*this.density*this.density*4),K=(Q.fill(255),z.type===this.gl.RGB?3:4),Z=0;Z<G*this.density;Z++)for(var Y=0;Y<P*this.density;Y++)for(var ee=0;ee<4;ee++){var ae,A=4*(Z*P*this.density+Y)+ee;ee<K&&(ae=K==4?A:(Z*P*this.density+Y)*K+ee,Q[A]=q[ae])}return D=new i.default.Image(P*this.density,G*this.density),D.imageData=D.canvas.getContext("2d").createImageData(D.width,D.height),D.imageData.data.set(Q),D.pixels=D.imageData.data,D.updatePixels(),this.density!==1&&D.resize(P,G),D}},{key:"updatePixels",value:function(){var D=this.gl,V=(this.colorP5Texture.bindTexture(),this._glColorFormat()),P=V.format===D.RGBA?4:3,P=this.width*this.height*this.density*this.density*P,G=V.type===D.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof G)||this.pixels.length!==P)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");D.texImage2D(D.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,this.pixels),this.colorP5Texture.unbindTexture(),G=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),this.end()):(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),G?D.bindFramebuffer(D.FRAMEBUFFER,G._framebufferToBind()):D.bindFramebuffer(D.FRAMEBUFFER,null))}}]),F}()),L=i.default.Framebuffer=O;w.default=L},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,j,w){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}function p(c){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(u=t("../core/main"))&&u.__esModule?u:{default:u},l=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var y=b();if(y&&y.has(c))return y.get(c);var h,d={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c){var _;Object.prototype.hasOwnProperty.call(c,h)&&((_=x?Object.getOwnPropertyDescriptor(c,h):null)&&(_.get||_.set)?Object.defineProperty(d,h,_):d[h]=c[h])}return d.default=c,y&&y.set(c,d),d}(t("../core/constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}function v(c){return function(y){if(Array.isArray(y)){for(var h=0,d=new Array(y.length);h<y.length;h++)d[h]=y[h];return d}}(c)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(c,y){return function(h){if(Array.isArray(h))return h}(c)||function(h,d){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]"){var x=[],_=!0,T=!1,k=void 0;try{for(var M,O=h[Symbol.iterator]();!(_=(M=O.next()).done)&&(x.push(M.value),!d||x.length!==d);_=!0);}catch(L){T=!0,k=L}finally{try{_||O.return==null||O.return()}finally{if(T)throw k}}return x}}(c,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(c,y){for(var h=0;h<y.length;h++){var d=y[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}i.default.Geometry=function(){function c(d,x,_){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new i.default.DataArray,this.lineTangentsIn=new i.default.DataArray,this.lineTangentsOut=new i.default.DataArray,this.lineSides=new i.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new i.default.DataArray,this.detailX=d!==void 0?d:1,this.detailY=x!==void 0?x:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var y,h;return y=c,(h=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var d=new i.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),x=new i.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var T=this.vertices[_];d.x=Math.min(d.x,T.x),d.y=Math.min(d.y,T.y),d.z=Math.min(d.z,T.z),x.x=Math.max(x.x,T.x),x.y=Math.max(x.y,T.y),x.z=Math.max(x.z,T.z)}var k=new i.default.Vector(x.x-d.x,x.y-d.y,x.z-d.z),M=new i.default.Vector((d.x+x.x)/2,(d.y+x.y)/2,(d.z+x.z)/2);this.boundingBoxCache={min:d,max:x,size:k,offset:M}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var d=0;d<this.vertexColors.length;d+=4)if(this.vertexColors[d+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var d=0;d<this.lineVertexColors.length;d+=4)if(this.lineVertexColors[d+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var d=this,x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",_="";if(this.vertices.forEach(function(M){_+="v ".concat(M.x," ").concat(M.y," ").concat(M.z,`
`)}),this.uvs&&0<this.uvs.length)for(var T=0;T<this.uvs.length;T+=2)_+="vt ".concat(this.uvs[T]," ").concat(this.uvs[T+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(M){_+="vn ".concat(M.x," ").concat(M.y," ").concat(M.z,`
`)}),this.faces.forEach(function(M){var O="f";M.forEach(function(L){O=O+" "+(L+1),(0<d.vertexNormals.length||0<d.uvs.length)&&(O+="/",0<d.uvs.length&&(O+=L+1),O+="/",0<d.vertexNormals.length&&(O+=L+1))}),_+=O+`
`});var k=new Blob([_],{type:"text/plain"});i.default.prototype.downloadFile(k,x,"obj")}},{key:"saveStl",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,x=x!==void 0&&x,_=d.substring(0,d.lastIndexOf(".")),T=[],k=!0,M=!1,O=void 0;try{for(var L,F=this.faces[Symbol.iterator]();!(k=(L=F.next()).done);k=!0){var D=L.value,V=i.default.Vector.sub(this.vertices[D[1]],this.vertices[D[0]]),P=i.default.Vector.sub(this.vertices[D[2]],this.vertices[D[0]]),G=V.y*P.z-V.z*P.y,z=V.z*P.x-V.x*P.z,q=V.x*P.y-V.y*P.x;T.push(new i.default.Vector(G,z,q).normalize())}}catch(Te){M=!0,O=Te}finally{try{k||F.return==null||F.return()}finally{if(M)throw O}}if(x){var Q,K=80,M=2*this.faces.length+3*this.faces.length*4*4+80+4,O=new ArrayBuffer(M);(Q=new DataView(O)).setUint32(K,this.faces.length,!0),K+=4;for(var Z=0,Y=Object.entries(this.faces);Z<Y.length;Z++){var ee=o(Y[Z],2),A=ee[0],ee=ee[1],A=T[A],ae=(Q.setFloat32(K,A.x,!0),K+=4,Q.setFloat32(K,A.y,!0),K+=4,Q.setFloat32(K,A.z,!0),K+=4,!0),A=!1,B=void 0;try{for(var W,J=ee[Symbol.iterator]();!(ae=(W=J.next()).done);ae=!0){var ie=W.value,ne=this.vertices[ie];Q.setFloat32(K,ne.x,!0),K+=4,Q.setFloat32(K,ne.y,!0),K+=4,Q.setFloat32(K,ne.z,!0),K+=4}}catch(Xe){A=!0,B=Xe}finally{try{ae||J.return==null||J.return()}finally{if(A)throw B}}Q.setUint16(K,0,!0),K+=2}}else{Q="solid "+_+`
`;for(var pe=0,ge=Object.entries(this.faces);pe<ge.length;pe++){var he=o(ge[pe],2),_e=he[0],he=he[1],_e=T[_e],be=(Q=Q+(" facet norm "+_e.x+" "+_e.y+" "+_e.z+`
`)+`  outer loop
`,!0),_e=!1,le=void 0;try{for(var de,xe=he[Symbol.iterator]();!(be=(de=xe.next()).done);be=!0){var Ae=de.value,Se=this.vertices[Ae];Q+="   vertex "+Se.x+" "+Se.y+" "+Se.z+`
`}}catch(Te){_e=!0,le=Te}finally{try{be||xe.return==null||xe.return()}finally{if(_e)throw le}}Q=Q+`  endloop
 endfacet
`}Q+="endsolid "+_+`
`}x=new Blob([Q],{type:"text/plain"}),i.default.prototype.downloadFile(x,d,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(d,x){return x%2==0?1-d:d})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(d,x){return x%2==0?d:1-d})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var d,x,_,T=this.detailX+1,k=0;k<this.detailY;k++)for(var M=0;M<this.detailX;M++)x=(k+1)*T+M+1,this.faces.push([k*T+M,d=k*T+M+1,_=(k+1)*T+M]),this.faces.push([_,d,x]);return this}},{key:"_getFaceNormal",value:function(x){var x=this.faces[x],_=this.vertices[x[0]],k=this.vertices[x[1]],x=this.vertices[x[2]],k=i.default.Vector.sub(k,_),x=i.default.Vector.sub(x,_),_=i.default.Vector.cross(k,x),T=i.default.Vector.mag(_),k=T/(i.default.Vector.mag(k)*i.default.Vector.mag(x));return k===0||isNaN(k)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<k&&(k=1),_.mult(Math.asin(k)/T))}},{key:"computeNormals",value:function(){var d,x=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:l.FLAT,T=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,k=this.vertexNormals,M=this.vertices,O=this.faces;if(_===l.SMOOTH){for(var L={},F=[],D=Math.pow(10,T===void 0?3:T),V=function(Q){return Math.round(Q*D)/D},P=function(Q){return"".concat(V(Q.x),",").concat(V(Q.y),",").concat(V(Q.z))},G=0;G<M.length;G++){var z=M[G],q=P(z);L[q]===void 0&&(L[q]=F.length,F.push(z))}O.forEach(function(Q){for(var K=0;K<3;++K){var Z=Q[K],Z=M[Z],Z=P(Z);Q[K]=L[Z]}}),this.edges.forEach(function(Q){for(var K=0;K<2;++K){var Z=Q[K],Z=M[Z],Z=P(Z);Q[K]=L[Z]}}),this.vertices=M=F}for(d=k.length=0;d<M.length;++d)k.push(new i.default.Vector);for(O.forEach(function(Q,K){for(var Z=x._getFaceNormal(K),Y=0;Y<3;++Y){var ee=Q[Y];k[ee].add(Z)}}),d=0;d<M.length;++d)k[d].normalize();return this}},{key:"averageNormals",value:function(){for(var d=0;d<=this.detailY;d++){var x=this.detailX+1,_=i.default.Vector.add(this.vertexNormals[d*x],this.vertexNormals[d*x+this.detailX]),_=i.default.Vector.div(_,2);this.vertexNormals[d*x]=_,this.vertexNormals[d*x+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var d=new i.default.Vector(0,0,0),x=0;x<this.detailX;x++)d.add(this.vertexNormals[x]);for(var d=i.default.Vector.div(d,this.detailX),_=0;_<this.detailX;_++)this.vertexNormals[_]=d;d=new i.default.Vector(0,0,0);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)d.add(this.vertexNormals[T]);d=i.default.Vector.div(d,this.detailX);for(var k=this.vertices.length-1;k>this.vertices.length-1-this.detailX;k--)this.vertexNormals[k]=d;return this}},{key:"_makeTriangleEdges",value:function(){for(var d=this.edges.length=0;d<this.faces.length;d++)this.edges.push([this.faces[d][0],this.faces[d][1]]),this.edges.push([this.faces[d][1],this.faces[d][2]]),this.edges.push([this.faces[d][2],this.faces[d][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var d,x=new Map,_=new Set,T=0;T<this.edges.length;T++){var k,M=this.edges[T-1],O=this.edges[T],L=this.vertices[O[0]],F=this.vertices[O[1]],D=0<this.vertexStrokeColors.length&&M?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],V=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*O[0],4*(O[0]+1)):[0,0,0,0],P=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*O[1],4*(O[1]+1)):[0,0,0,0],G=F.copy().sub(L).normalize(),z=0<G.magSq();z&&this._addSegment(L,F,V,P,G),0<T&&M[1]===O[0]?_.has(O[0])||(_.add(O[0]),x.delete(O[0]),d&&z&&G.dot(d)<1-1e-8&&this._addJoin(L,d,G,V)):(z&&!_.has(O[0])&&((k=x.get(O[0]))?(this._addJoin(L,k.dir,G,V),x.delete(O[0]),_.add(O[0])):x.set(O[0],{point:L,dir:G.copy().mult(-1),color:V})),d&&!_.has(M[1])&&((k=x.get(M[1]))?(this._addJoin(this.vertices[M[1]],d,k.dir.copy().mult(-1),D),x.delete(M[1]),_.add(M[1])):x.set(M[1],{point:this.vertices[M[1]],dir:d,color:D}),d=void 0)),T!==this.edges.length-1||_.has(O[1])||((L=x.get(O[1]))?(this._addJoin(F,G,L.dir.copy().mult(-1),P),x.delete(O[1]),_.add(O[1])):x.set(O[1],{point:F,dir:G,color:P})),z&&(d=G)}var q=!0,Q=!1,K=void 0;try{for(var Z,Y=x.values()[Symbol.iterator]();!(q=(Z=Y.next()).done);q=!0){var ee=Z.value,ae=ee.point,A=ee.dir,B=ee.color;this._addCap(ae,A,B)}}catch(W){Q=!0,K=W}finally{try{q||Y.return==null||Y.return()}finally{if(Q)throw K}}return this}},{key:"_addSegment",value:function(M,O,_,T,k){var M=M.array(),O=O.array(),L=k.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var F=0,D=[this.lineTangentsIn,this.lineTangentsOut];F<D.length;F++)for(var V=D[F],P=0;P<6;P++)V.push.apply(V,v(L));return(k=this.lineVertices).push.apply(k,v(M).concat(v(O),v(M),v(O),v(O),v(M))),(k=this.lineVertexColors).push.apply(k,v(_).concat(v(T),v(_),v(T),v(T),v(_))),this}},{key:"_addCap",value:function(d,x,_){for(var T,k=d.array(),M=x.array(),O=[0,0,0],L=0;L<6;L++)(T=this.lineVertices).push.apply(T,v(k)),(T=this.lineTangentsIn).push.apply(T,v(M)),(T=this.lineTangentsOut).push.apply(T,O),(T=this.lineVertexColors).push.apply(T,v(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(d,x,_,T){for(var k,M=d.array(),O=x.array(),L=_.array(),F=0;F<12;F++)(k=this.lineVertices).push.apply(k,v(M)),(k=this.lineTangentsIn).push.apply(k,v(O)),(k=this.lineTangentsOut).push.apply(k,v(L)),(k=this.lineVertexColors).push.apply(k,v(T));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var d=this.vertices[0].copy(),x=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)d.x=Math.max(d.x,this.vertices[_].x),x.x=Math.min(x.x,this.vertices[_].x),d.y=Math.max(d.y,this.vertices[_].y),x.y=Math.min(x.y,this.vertices[_].y),d.z=Math.max(d.z,this.vertices[_].z),x.z=Math.min(x.z,this.vertices[_].z);for(var T=i.default.Vector.lerp(d,x,.5),k=i.default.Vector.sub(d,x),M=200/Math.max(Math.max(k.x,k.y),k.z),O=0;O<this.vertices.length;O++)this.vertices[O].sub(T),this.vertices[O].mult(M)}return this}}])&&a(y.prototype,h),c}();var u=i.default.Geometry;w.default=u},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(b,j,w){b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(b=b("../core/main"))&&b.__esModule?b:{default:b};function p(v,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(v,u.key,u)}}var i=Array,l=function(v){return Array.isArray(v)},b=(typeof Float32Array<"u"&&(i=Float32Array,l=function(v){return Array.isArray(v)||v instanceof Float32Array}),f.default.Matrix=function(){function v(){var c=this,y=v;if(c instanceof y)return arguments.length&&((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])instanceof f.default&&(this.p5=(y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var o,a,u;return o=v,u=[{key:"identity",value:function(c){return new f.default.Matrix(c)}}],(a=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(c){var y=arguments;if(c instanceof f.default.Matrix?y=c.mat4:l(c)&&(y=c),y.length!==16)f.default._friendlyError("Expected 16 values but received ".concat(y.length,"."),"p5.Matrix.set");else for(var h=0;h<16;h++)this.mat4[h]=y[h];return this}},{key:"get",value:function(){return new f.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var c;return this.mat3!==void 0?((c=new f.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],c.mat3[1]=this.mat3[1],c.mat3[2]=this.mat3[2],c.mat3[3]=this.mat3[3],c.mat3[4]=this.mat3[4],c.mat3[5]=this.mat3[5],c.mat3[6]=this.mat3[6],c.mat3[7]=this.mat3[7],c.mat3[8]=this.mat3[8]):((c=new f.default.Matrix(this.p5)).mat4[0]=this.mat4[0],c.mat4[1]=this.mat4[1],c.mat4[2]=this.mat4[2],c.mat4[3]=this.mat4[3],c.mat4[4]=this.mat4[4],c.mat4[5]=this.mat4[5],c.mat4[6]=this.mat4[6],c.mat4[7]=this.mat4[7],c.mat4[8]=this.mat4[8],c.mat4[9]=this.mat4[9],c.mat4[10]=this.mat4[10],c.mat4[11]=this.mat4[11],c.mat4[12]=this.mat4[12],c.mat4[13]=this.mat4[13],c.mat4[14]=this.mat4[14],c.mat4[15]=this.mat4[15]),c}},{key:"transpose",value:function(c){var y,h,d,x,_,T;return c instanceof f.default.Matrix?(y=c.mat4[1],h=c.mat4[2],d=c.mat4[3],x=c.mat4[6],_=c.mat4[7],T=c.mat4[11],this.mat4[0]=c.mat4[0],this.mat4[1]=c.mat4[4],this.mat4[2]=c.mat4[8],this.mat4[3]=c.mat4[12],this.mat4[4]=y,this.mat4[5]=c.mat4[5],this.mat4[6]=c.mat4[9],this.mat4[7]=c.mat4[13],this.mat4[8]=h,this.mat4[9]=x,this.mat4[10]=c.mat4[10],this.mat4[11]=c.mat4[14],this.mat4[12]=d,this.mat4[13]=_,this.mat4[14]=T,this.mat4[15]=c.mat4[15]):l(c)&&(y=c[1],h=c[2],d=c[3],x=c[6],_=c[7],T=c[11],this.mat4[0]=c[0],this.mat4[1]=c[4],this.mat4[2]=c[8],this.mat4[3]=c[12],this.mat4[4]=y,this.mat4[5]=c[5],this.mat4[6]=c[9],this.mat4[7]=c[13],this.mat4[8]=h,this.mat4[9]=x,this.mat4[10]=c[10],this.mat4[11]=c[14],this.mat4[12]=d,this.mat4[13]=_,this.mat4[14]=T,this.mat4[15]=c[15]),this}},{key:"invert",value:function(q){q instanceof f.default.Matrix?(y=q.mat4[0],h=q.mat4[1],d=q.mat4[2],x=q.mat4[3],_=q.mat4[4],T=q.mat4[5],k=q.mat4[6],M=q.mat4[7],O=q.mat4[8],L=q.mat4[9],F=q.mat4[10],D=q.mat4[11],V=q.mat4[12],P=q.mat4[13],G=q.mat4[14],z=q.mat4[15]):l(q)&&(y=q[0],h=q[1],d=q[2],x=q[3],_=q[4],T=q[5],k=q[6],M=q[7],O=q[8],L=q[9],F=q[10],D=q[11],V=q[12],P=q[13],G=q[14],z=q[15]);var y,h,d,x,_,T,k,M,O,L,F,D,V,P,G,z,q=y*T-h*_,Q=y*k-d*_,K=y*M-x*_,Z=h*k-d*T,Y=h*M-x*T,ee=d*M-x*k,ae=O*P-L*V,A=O*G-F*V,B=O*z-D*V,W=L*G-F*P,J=L*z-D*P,ie=F*z-D*G,ne=q*ie-Q*J+K*W+Z*B-Y*A+ee*ae;return ne?(this.mat4[0]=(T*ie-k*J+M*W)*(ne=1/ne),this.mat4[1]=(d*J-h*ie-x*W)*ne,this.mat4[2]=(P*ee-G*Y+z*Z)*ne,this.mat4[3]=(F*Y-L*ee-D*Z)*ne,this.mat4[4]=(k*B-_*ie-M*A)*ne,this.mat4[5]=(y*ie-d*B+x*A)*ne,this.mat4[6]=(G*K-V*ee-z*Q)*ne,this.mat4[7]=(O*ee-F*K+D*Q)*ne,this.mat4[8]=(_*J-T*B+M*ae)*ne,this.mat4[9]=(h*B-y*J-x*ae)*ne,this.mat4[10]=(V*Y-P*K+z*q)*ne,this.mat4[11]=(L*K-O*Y-D*q)*ne,this.mat4[12]=(T*A-_*W-k*ae)*ne,this.mat4[13]=(y*W-h*A+d*ae)*ne,this.mat4[14]=(P*Q-V*Z-G*q)*ne,this.mat4[15]=(O*Z-L*Q+F*q)*ne,this):null}},{key:"invert3x3",value:function(){var c=this.mat3[0],y=this.mat3[1],h=this.mat3[2],d=this.mat3[3],x=this.mat3[4],_=this.mat3[5],T=this.mat3[6],k=this.mat3[7],M=this.mat3[8],O=M*x-_*k,L=-M*d+_*T,F=k*d-x*T,D=c*O+y*L+h*F;return D?(this.mat3[0]=O*(D=1/D),this.mat3[1]=(-M*y+h*k)*D,this.mat3[2]=(_*y-h*x)*D,this.mat3[3]=L*D,this.mat3[4]=(M*c-h*T)*D,this.mat3[5]=(-_*c+h*d)*D,this.mat3[6]=F*D,this.mat3[7]=(-k*c+y*T)*D,this.mat3[8]=(x*c-y*d)*D,this):null}},{key:"transpose3x3",value:function(c){var y=(c=c===void 0?this.mat3:c)[1],h=c[2],d=c[5];return this.mat3[0]=c[0],this.mat3[1]=c[3],this.mat3[2]=c[6],this.mat3[3]=y,this.mat3[4]=c[4],this.mat3[5]=c[7],this.mat3[6]=h,this.mat3[7]=d,this.mat3[8]=c[8],this}},{key:"inverseTranspose",value:function(c){if(c=c.mat4,this.mat3===void 0?f.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=c[0],this.mat3[1]=c[1],this.mat3[2]=c[2],this.mat3[3]=c[4],this.mat3[4]=c[5],this.mat3[5]=c[6],this.mat3[6]=c[8],this.mat3[7]=c[9],this.mat3[8]=c[10]),c=this.invert3x3(),c)c.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this}},{key:"determinant",value:function(){var c=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],h=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],d=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],x=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],_=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],k=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],M=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],O=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],L=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return c*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*L+h*O+d*M-x*k+_*T}},{key:"mult",value:function(h){var y;if(h===this||h===this.mat4)y=this.copy().mat4;else if(h instanceof f.default.Matrix)y=h.mat4;else if(l(h))y=h;else{if(arguments.length!==16)return;y=arguments}var h=this.mat4[0],d=this.mat4[1],x=this.mat4[2],_=this.mat4[3];return this.mat4[0]=h*y[0]+d*y[4]+x*y[8]+_*y[12],this.mat4[1]=h*y[1]+d*y[5]+x*y[9]+_*y[13],this.mat4[2]=h*y[2]+d*y[6]+x*y[10]+_*y[14],this.mat4[3]=h*y[3]+d*y[7]+x*y[11]+_*y[15],h=this.mat4[4],d=this.mat4[5],x=this.mat4[6],_=this.mat4[7],this.mat4[4]=h*y[0]+d*y[4]+x*y[8]+_*y[12],this.mat4[5]=h*y[1]+d*y[5]+x*y[9]+_*y[13],this.mat4[6]=h*y[2]+d*y[6]+x*y[10]+_*y[14],this.mat4[7]=h*y[3]+d*y[7]+x*y[11]+_*y[15],h=this.mat4[8],d=this.mat4[9],x=this.mat4[10],_=this.mat4[11],this.mat4[8]=h*y[0]+d*y[4]+x*y[8]+_*y[12],this.mat4[9]=h*y[1]+d*y[5]+x*y[9]+_*y[13],this.mat4[10]=h*y[2]+d*y[6]+x*y[10]+_*y[14],this.mat4[11]=h*y[3]+d*y[7]+x*y[11]+_*y[15],h=this.mat4[12],d=this.mat4[13],x=this.mat4[14],_=this.mat4[15],this.mat4[12]=h*y[0]+d*y[4]+x*y[8]+_*y[12],this.mat4[13]=h*y[1]+d*y[5]+x*y[9]+_*y[13],this.mat4[14]=h*y[2]+d*y[6]+x*y[10]+_*y[14],this.mat4[15]=h*y[3]+d*y[7]+x*y[11]+_*y[15],this}},{key:"apply",value:function(h){var y;if(h===this||h===this.mat4)y=this.copy().mat4;else if(h instanceof f.default.Matrix)y=h.mat4;else if(l(h))y=h;else{if(arguments.length!==16)return;y=arguments}var h=this.mat4,d=h[0],x=h[4],_=h[8],T=h[12],d=(h[0]=y[0]*d+y[1]*x+y[2]*_+y[3]*T,h[4]=y[4]*d+y[5]*x+y[6]*_+y[7]*T,h[8]=y[8]*d+y[9]*x+y[10]*_+y[11]*T,h[12]=y[12]*d+y[13]*x+y[14]*_+y[15]*T,h[1]),x=h[5],_=h[9],T=h[13],d=(h[1]=y[0]*d+y[1]*x+y[2]*_+y[3]*T,h[5]=y[4]*d+y[5]*x+y[6]*_+y[7]*T,h[9]=y[8]*d+y[9]*x+y[10]*_+y[11]*T,h[13]=y[12]*d+y[13]*x+y[14]*_+y[15]*T,h[2]),x=h[6],_=h[10],T=h[14],d=(h[2]=y[0]*d+y[1]*x+y[2]*_+y[3]*T,h[6]=y[4]*d+y[5]*x+y[6]*_+y[7]*T,h[10]=y[8]*d+y[9]*x+y[10]*_+y[11]*T,h[14]=y[12]*d+y[13]*x+y[14]*_+y[15]*T,h[3]),x=h[7],_=h[11],T=h[15];return h[3]=y[0]*d+y[1]*x+y[2]*_+y[3]*T,h[7]=y[4]*d+y[5]*x+y[6]*_+y[7]*T,h[11]=y[8]*d+y[9]*x+y[10]*_+y[11]*T,h[15]=y[12]*d+y[13]*x+y[14]*_+y[15]*T,this}},{key:"scale",value:function(c,y,h){return c instanceof f.default.Vector?(y=c.y,h=c.z,c=c.x):c instanceof Array&&(y=c[1],h=c[2],c=c[0]),this.mat4[0]*=c,this.mat4[1]*=c,this.mat4[2]*=c,this.mat4[3]*=c,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=h,this.mat4[9]*=h,this.mat4[10]*=h,this.mat4[11]*=h,this}},{key:"rotate",value:function(q,J,W,d){J instanceof f.default.Vector?(W=J.y,d=J.z,J=J.x):J instanceof Array&&(W=J[1],d=J[2],J=J[0]);var x=Math.sqrt(J*J+W*W+d*d),x=(J*=1/x,W*=1/x,d*=1/x,this.mat4[0]),_=this.mat4[1],T=this.mat4[2],k=this.mat4[3],M=this.mat4[4],O=this.mat4[5],L=this.mat4[6],F=this.mat4[7],D=this.mat4[8],V=this.mat4[9],P=this.mat4[10],G=this.mat4[11],z=Math.sin(q),q=Math.cos(q),Q=1-q,K=J*J*Q+q,Z=W*J*Q+d*z,Y=d*J*Q-W*z,ee=J*W*Q-d*z,ae=W*W*Q+q,A=d*W*Q+J*z,B=J*d*Q+W*z,W=W*d*Q-J*z,J=d*d*Q+q;return this.mat4[0]=x*K+M*Z+D*Y,this.mat4[1]=_*K+O*Z+V*Y,this.mat4[2]=T*K+L*Z+P*Y,this.mat4[3]=k*K+F*Z+G*Y,this.mat4[4]=x*ee+M*ae+D*A,this.mat4[5]=_*ee+O*ae+V*A,this.mat4[6]=T*ee+L*ae+P*A,this.mat4[7]=k*ee+F*ae+G*A,this.mat4[8]=x*B+M*W+D*J,this.mat4[9]=_*B+O*W+V*J,this.mat4[10]=T*B+L*W+P*J,this.mat4[11]=k*B+F*W+G*J,this}},{key:"translate",value:function(d){var y=d[0],h=d[1],d=d[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*h+this.mat4[8]*d,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*h+this.mat4[9]*d,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*h+this.mat4[10]*d,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*h+this.mat4[11]*d}},{key:"rotateX",value:function(c){this.rotate(c,1,0,0)}},{key:"rotateY",value:function(c){this.rotate(c,0,1,0)}},{key:"rotateZ",value:function(c){this.rotate(c,0,0,1)}},{key:"perspective",value:function(x,y,h,d){var x=1/Math.tan(x/2),_=1/(h-d);return this.mat4[0]=x/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=x,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(d+h)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*d*h*_,this.mat4[15]=0,this}},{key:"ortho",value:function(c,y,h,d,x,_){var T=1/(c-y),k=1/(h-d),M=1/(x-_);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*k,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*M,this.mat4[11]=0,this.mat4[12]=(c+y)*T,this.mat4[13]=(d+h)*k,this.mat4[14]=(_+x)*M,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(c,y,h,d){var x=new Array(4),_=this.mat4;return x[0]=_[0]*c+_[4]*y+_[8]*h+_[12]*d,x[1]=_[1]*c+_[5]*y+_[9]*h+_[13]*d,x[2]=_[2]*c+_[6]*y+_[10]*h+_[14]*d,x[3]=_[3]*c+_[7]*y+_[11]*h+_[15]*d,x}},{key:"multiplyPoint",value:function(h){var d=h.x,y=h.y,h=h.z,d=this.multiplyVec4(d,y,h,1);return new f.default.Vector(d[0],d[1],d[2])}},{key:"multiplyAndNormalizePoint",value:function(h){var d=h.x,y=h.y,h=h.z,d=this.multiplyVec4(d,y,h,1);return d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],new f.default.Vector(d[0],d[1],d[2])}},{key:"multiplyDirection",value:function(h){var d=h.x,y=h.y,h=h.z,d=this.multiplyVec4(d,y,h,0);return new f.default.Vector(d[0],d[1],d[2])}},{key:"mult3x3",value:function(h){var y;if(h===this||h===this.mat3)y=this.copy().mat3;else if(h instanceof f.default.Matrix)y=h.mat3;else if(l(h))y=h;else{if(arguments.length!==9)return;y=arguments}var h=this.mat3[0],d=this.mat3[1],x=this.mat3[2];return this.mat3[0]=h*y[0]+d*y[3]+x*y[6],this.mat3[1]=h*y[1]+d*y[4]+x*y[7],this.mat3[2]=h*y[2]+d*y[5]+x*y[8],h=this.mat3[3],d=this.mat3[4],x=this.mat3[5],this.mat3[3]=h*y[0]+d*y[3]+x*y[6],this.mat3[4]=h*y[1]+d*y[4]+x*y[7],this.mat3[5]=h*y[2]+d*y[5]+x*y[8],h=this.mat3[6],d=this.mat3[7],x=this.mat3[8],this.mat3[6]=h*y[0]+d*y[3]+x*y[6],this.mat3[7]=h*y[1]+d*y[4]+x*y[7],this.mat3[8]=h*y[2]+d*y[5]+x*y[8],this}},{key:"column",value:function(c){return new f.default.Vector(this.mat3[3*c],this.mat3[3*c+1],this.mat3[3*c+2])}},{key:"row",value:function(c){return new f.default.Vector(this.mat3[c],this.mat3[c+3],this.mat3[c+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(c,y){return(y=y===void 0?c.copy():y).x=this.row(0).dot(c),y.y=this.row(1).dot(c),y.z=this.row(2).dot(c),y}},{key:"createSubMatrix3x3",value:function(){var c=new f.default.Matrix("mat3");return c.mat3[0]=this.mat4[0],c.mat3[1]=this.mat4[1],c.mat3[2]=this.mat4[2],c.mat3[3]=this.mat4[4],c.mat3[4]=this.mat4[5],c.mat3[5]=this.mat4[6],c.mat3[6]=this.mat4[8],c.mat3[7]=this.mat4[9],c.mat3[8]=this.mat4[10],c}}])&&p(o.prototype,a),u&&p(o,u),v}(),f.default.Matrix);w.default=b},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,j,w){Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(i,l){for(var b=0;b<l.length;b++){var v=l[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}f.default.Quat=function(){function i(o,a,u,c){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.w=o,this.vec=new f.default.Vector(a,u,c)}var l,b,v;return l=i,v=[{key:"fromAxisAngle",value:function(o,h,u,c){var y=Math.cos(o/2),h=new f.default.Vector(h,u,c).normalize().mult(Math.sin(o/2));return new f.default.Quat(y,h.x,h.y,h.z)}}],(b=[{key:"conjugate",value:function(){return new f.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(o){return new f.default.Quat(this.w*o.w-this.vec.x*o.vec.x-this.vec.y*o.vec.y-this.vec.z-o.vec.z,this.w*o.vec.x+this.vec.x*o.w+this.vec.y*o.vec.z-this.vec.z*o.vec.y,this.w*o.vec.y-this.vec.x*o.vec.z+this.vec.y*o.w+this.vec.z*o.vec.x,this.w*o.vec.z+this.vec.x*o.vec.y-this.vec.y*o.vec.x+this.vec.z*o.w)}},{key:"rotateVector",value:function(o){return new f.default.Vector.mult(o,this.w*this.w-this.vec.dot(this.vec)).add(f.default.Vector.mult(this.vec,2*o.dot(this.vec))).add(f.default.Vector.mult(this.vec,2*this.w).cross(o)).clampToZero()}},{key:"rotateBy",value:function(o){return o.multiply(this).multiply(o.conjugate()).vec.clampToZero()}}])&&p(l.prototype,b),v&&p(l,v),i}(),t=f.default.Quat,w.default=t},{"../core/main":283}],338:[function(t,j,w){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(p,i){for(var l=0;l<i.length;l++){var b=i[l];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}t.default.RenderBuffer=function(){function p(b,v,o,a,u,c){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=v,this.dst=o,this.attr=a,this._renderer=u,this.map=c}var i,l;return i=p,(l=[{key:"_prepareBuffer",value:function(b,v){var o,a,u,h=v.attributes,c=this._renderer.GL,y=b.model||b,h=h[this.attr];h&&(o=b[this.dst],0<(a=y[this.src]).length?((u=!o)&&(b[this.dst]=o=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,o),!u&&y.dirtyFlags[this.src]===!1||(u=(b=this.map)?b(a):a,this._renderer._bindBuffer(o,c.ARRAY_BUFFER,u),y.dirtyFlags[this.src]=!1),v.enableAttrib(h,this.size)):(b=h.location)!==-1&&this._renderer.registerEnabled.has(b)&&(c.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&f(i.prototype,l),p}(),t=t.default.RenderBuffer,w.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,j,w){function f(u){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function p(u){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(a=t("../core/main"))&&a.__esModule?a:{default:a},l=function(u){if(u&&u.__esModule)return u;if(u===null||p(u)!=="object"&&typeof u!="function")return{default:u};var c=b();if(c&&c.has(u))return c.get(u);var y,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var x;Object.prototype.hasOwnProperty.call(u,y)&&((x=d?Object.getOwnPropertyDescriptor(u,y):null)&&(x.get||x.set)?Object.defineProperty(h,y,x):h[y]=u[y])}return h.default=u,c&&c.set(u,h),h}(t("../core/constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}function v(u){return function(c){if(Array.isArray(c)){for(var y=0,h=new Array(c.length);y<c.length;y++)h[y]=c[y];return h}}(u)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),i.default.RendererGL.prototype.beginShape=function(u){return this.immediateMode.shapeMode=u!==void 0?u:l.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var o={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(i.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==l.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},i.default.RendererGL.prototype.vertex=function(u,c){if(this.immediateMode.shapeMode===l.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var y in o){var h=o[y],y=this.immediateMode.geometry[y];y.push.apply(y,v(y.slice(y.length-3*h,y.length-2*h)).concat(v(y.slice(y.length-h,y.length))))}var d,x,_=d=x=0,T=(arguments.length===3?_=arguments[2]:arguments.length===4?(d=arguments[2],x=arguments[3]):arguments.length===5&&(_=arguments[2],d=arguments[3],x=arguments[4]),new i.default.Vector(u,c,_)),T=(this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),T=(this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode!==l.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(d/=this._tex.width,x/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(d,x),this.immediateMode._bezierVertex[0]=u,this.immediateMode._bezierVertex[1]=c,this.immediateMode._bezierVertex[2]=_,this.immediateMode._quadraticVertex[0]=u,this.immediateMode._quadraticVertex[1]=c,this.immediateMode._quadraticVertex[2]=_,this},i.default.RendererGL.prototype.normal=function(u,c,y){return u instanceof i.default.Vector?this._currentNormal=u:this._currentNormal=new i.default.Vector(u,c,y),this},i.default.RendererGL.prototype.endShape=function(u,c,y,h,d,x){var _,T=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===l.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===l.TESS&&(this.immediateMode.shapeMode=l.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),_=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==l.LINE_STRIP&&this.immediateMode.shapeMode!==l.LINES||(this.immediateMode.shapeMode=l.TRIANGLE_FAN,_=!0),this.immediateMode.shapeMode===l.QUADS?this.immediateMode.shapeMode=l.TRIANGLES:this.immediateMode.shapeMode===l.QUAD_STRIP&&(this.immediateMode.shapeMode=l.TRIANGLE_STRIP),this._doFill&&!_&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},i.default.RendererGL.prototype._processVertices=function(u){var c;this.immediateMode.geometry.vertices.length!==0&&(c=this._doStroke,u=u===l.CLOSE,c&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,u),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),c=this.immediateMode.shapeMode===l.TESS,u=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||c||u)&&this.immediateMode.shapeMode!==l.LINES&&this._tesselateShape())},i.default.RendererGL.prototype._calculateEdges=function(u,c,y){var h=[],d=0,x=this.immediateMode.contourIndices.slice(),_=0;switch(u){case l.TRIANGLE_STRIP:for(d=0;d<c.length-2;d++)h.push([d,d+1]),h.push([d,d+2]);h.push([d,d+1]);break;case l.TRIANGLE_FAN:for(d=1;d<c.length-1;d++)h.push([0,d]),h.push([d,d+1]);h.push([0,c.length-1]);break;case l.TRIANGLES:for(d=0;d<c.length-2;d+=3)h.push([d,d+1]),h.push([d+1,d+2]),h.push([d+2,d]);break;case l.LINES:for(d=0;d<c.length-1;d+=2)h.push([d,d+1]);break;case l.QUADS:for(d=0;d<c.length-5;d+=6)h.push([d,d+1]),h.push([d+1,d+2]),h.push([d+3,d+5]),h.push([d+4,d+5]);break;case l.QUAD_STRIP:for(d=0;d<c.length-2;d+=2)h.push([d,d+1]),h.push([d,d+2]),h.push([d+1,d+3]);h.push([d,d+1]);break;default:for(d=0;d<c.length;d++)d+1<c.length&&d+1!==x[0]?h.push([d,d+1]):((y||_)&&h.push([d,_]),0<x.length&&(_=x.shift()))}return u!==l.TESS&&y&&h.push([c.length-1,0]),h},i.default.RendererGL.prototype._tesselateShape=function(){for(var u=this,c=(this.immediateMode.shapeMode=l.TRIANGLES,[[]]),y=0;y<this.immediateMode.geometry.vertices.length;y++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===y&&(this.immediateMode.contourIndices.shift(),c.push([])),c[c.length-1].push(this.immediateMode.geometry.vertices[y].x,this.immediateMode.geometry.vertices[y].y,this.immediateMode.geometry.vertices[y].z,this.immediateMode.geometry.uvs[2*y],this.immediateMode.geometry.uvs[2*y+1],this.immediateMode.geometry.vertexColors[4*y],this.immediateMode.geometry.vertexColors[4*y+1],this.immediateMode.geometry.vertexColors[4*y+2],this.immediateMode.geometry.vertexColors[4*y+3],this.immediateMode.geometry.vertexNormals[y].x,this.immediateMode.geometry.vertexNormals[y].y,this.immediateMode.geometry.vertexNormals[y].z);for(var h,d=this._triangulate(c),x=this.immediateMode.geometry.vertices,_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,k=d.length;T<k;T+=i.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,v(d.slice(T+5,T+9))),this.normal.apply(this,v(d.slice(T+9,T+12))),this.vertex.apply(this,v(d.slice(T,T+5)));this.geometryBuilder&&(h=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(M){return M.map(function(O){if(!h.has(O)){var L=x[O],F=u.immediateMode.geometry.vertices.findIndex(function(Q){return L.x===Q.x&&L.y===Q.y&&L.z===Q.z});if(F===-1){for(var D=1/0,V=0,P=0;P<u.immediateMode.geometry.vertices.length;P++){var z=u.immediateMode.geometry.vertices[P],q=L.x-z.x,G=L.y-z.y,z=L.z-z.z,q=q*q+G*G+z*z;q<D&&(D=q,V=P)}F=V}h.set(O,F)}return h.get(O)})})),this.immediateMode.geometry.vertexColors=_},i.default.RendererGL.prototype._drawImmediateFill=function(){var u,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,y=this.GL,h=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,u=this._getImmediateFillShader(),this._setFillUniforms(u),!0),d=!1,x=void 0;try{for(var _,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(_=T.next()).done);h=!0)_.value._prepareBuffer(this.immediateMode.geometry,u)}catch(k){d=!0,x=k}finally{try{h||T.return==null||T.return()}finally{if(d)throw x}}if(u.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),c===1)y.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{y.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,c)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}u.unbindShader()},i.default.RendererGL.prototype._drawImmediateStroke=function(){var u=this.GL,c=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),y=(this._setStrokeUniforms(c),!0),h=!1,d=void 0;try{for(var x,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(y=(x=_.next()).done);y=!0)x.value._prepareBuffer(this.immediateMode.geometry,c)}catch(T){h=!0,d=T}finally{try{y||_.return==null||_.return()}finally{if(h)throw d}}c.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),u.drawArrays(u.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),c.unbindShader()},i.default.RendererGL);w.default=a},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,j,w){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function p(o){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var i=(v=t("../core/main"))&&v.__esModule?v:{default:v},l=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var a=b();if(a&&a.has(o))return a.get(o);var u,c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var h;Object.prototype.hasOwnProperty.call(o,u)&&((h=y?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(c,u,h):c[u]=o[u])}return c.default=o,a&&a.set(o,c),c}(t("../core/constants")));function b(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,b=function(){return o},o)}i.default.RendererGL.prototype.freeGeometry=function(o){o.gid?this._freeBuffers(o.gid):console.warn("The model you passed to freeGeometry does not have an id!")},i.default.RendererGL.prototype._initBufferDefaults=function(o){var a;return this._freeBuffers(o),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[o]={}},i.default.RendererGL.prototype._freeBuffers=function(o){var a,u=this.retainedMode.geometry[o];function c(y){var h=!0,d=!1,x=void 0;try{for(var _,T=y[Symbol.iterator]();!(h=(_=T.next()).done);h=!0){var k=_.value;u[k.dst]&&(a.deleteBuffer(u[k.dst]),u[k.dst]=null)}}catch(M){d=!0,x=M}finally{try{h||T.return==null||T.return()}finally{if(d)throw x}}}u&&(delete this.retainedMode.geometry[o],a=this.GL,u.indexBuffer&&a.deleteBuffer(u.indexBuffer),c(this.retainedMode.buffers.stroke),c(this.retainedMode.buffers.fill))},i.default.RendererGL.prototype.createBuffers=function(d,a){var u,c,y,h=this.GL,d=this._initBufferDefaults(d),x=(d.model=a,d.indexBuffer);return a.faces.length?(x=x||(d.indexBuffer=h.createBuffer()),y=(c=(u=i.default.RendererGL.prototype._flatten(a.faces)).some(function(_){return 65535<_}))?Uint32Array:Uint16Array,this._bindBuffer(x,h.ELEMENT_ARRAY_BUFFER,u,y),d.indexBufferType=c?h.UNSIGNED_INT:h.UNSIGNED_SHORT,d.vertexCount=3*a.faces.length):(x&&(h.deleteBuffer(x),d.indexBuffer=null),d.vertexCount=a.vertices?a.vertices.length:0),d.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,d},i.default.RendererGL.prototype.drawBuffers=function(o){var a=this.GL,u=this.retainedMode.geometry[o];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[o].vertexCount){this._useVertexColor=0<u.model.vertexColors.length;var c=this._getRetainedFillShader(),y=(this._setFillUniforms(c),!0),h=!1,d=void 0;try{for(var x,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(y=(x=_.next()).done);y=!0)x.value._prepareBuffer(u,c)}catch(L){h=!0,d=L}finally{try{y||_.return==null||_.return()}finally{if(h)throw d}}c.disableRemainingAttributes(),u.indexBuffer&&this._bindBuffer(u.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,u.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,o),c.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<u.lineVertexCount){this._useLineColor=0<u.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),k=(this._setStrokeUniforms(T),!0),h=!1,d=void 0;try{for(var M,O=this.retainedMode.buffers.stroke[Symbol.iterator]();!(k=(M=O.next()).done);k=!0)M.value._prepareBuffer(u,T)}catch(D){h=!0,d=D}finally{try{k||O.return==null||O.return()}finally{if(h)throw d}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,u.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,o),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(u),this},i.default.RendererGL.prototype.drawBuffersScaled=function(o,a,u,c){var y=this.uModelMatrix.copy();try{this.uModelMatrix.scale(a,u,c),this.drawBuffers(o)}finally{this.uModelMatrix=y}},i.default.RendererGL.prototype._drawArrays=function(o,a){return this.GL.drawArrays(o,0,this.retainedMode.geometry[a].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(o,u){var u=this.retainedMode.geometry[u],c=this.GL;if(u.indexBuffer){if(this._pInst.webglVersion!==l.WEBGL2&&u.indexBufferType===c.UNSIGNED_INT&&!c.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");c.drawElements(c.TRIANGLES,u.vertexCount,u.indexBufferType,0)}else c.drawArrays(o||c.TRIANGLES,0,u.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(o,a){var u=this.GL,c=this._getImmediatePointShader();this._setPointUniforms(c),this._bindBuffer(a,u.ARRAY_BUFFER,this._vToNArray(o),Float32Array,u.STATIC_DRAW),c.enableAttrib(c.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.Points,0,o.length),c.unbindShader()};var v=i.default.RendererGL;w.default=v},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(P,j,w){function f(Z){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(Z)}function p(Z){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(Y){return f(Y)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":f(Y)})(Z)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.readPixelsWebGL=Q,w.readPixelWebGL=K,w.default=void 0;var i=u(P("../core/main")),l=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||p(Z)!=="object"&&typeof Z!="function")return{default:Z};var Y=a();if(Y&&Y.has(Z))return Y.get(Z);var ee,ae={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ee in Z){var B;Object.prototype.hasOwnProperty.call(Z,ee)&&((B=A?Object.getOwnPropertyDescriptor(Z,ee):null)&&(B.get||B.set)?Object.defineProperty(ae,ee,B):ae[ee]=Z[ee])}return ae.default=Z,Y&&Y.set(Z,ae),ae}(P("../core/constants")),b=u(P("./GeometryBuilder")),v=u(P("libtess")),o=(P("./p5.Shader"),P("./p5.Camera"),P("../core/p5.Renderer"),P("./p5.Matrix"),P("./p5.Framebuffer"),P("path"),P("./p5.Texture"));function a(){var Z;return typeof WeakMap!="function"?null:(Z=new WeakMap,a=function(){return Z},Z)}function u(Z){return Z&&Z.__esModule?Z:{default:Z}}function c(Z){return function(Y){if(Array.isArray(Y)){for(var ee=0,ae=new Array(Y.length);ee<Y.length;ee++)ae[ee]=Y[ee];return ae}}(Z)||function(Y){if(Symbol.iterator in Object(Y)||Object.prototype.toString.call(Y)==="[object Arguments]")return Array.from(Y)}(Z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(Z,Y){for(var ee=0;ee<Y.length;ee++){var ae=Y[ee];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Z,ae.key,ae)}}function h(Z,Y,ee){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(W,A,B){var W=function(J,ie){for(;!Object.prototype.hasOwnProperty.call(J,ie)&&(J=T(J))!==null;);return J}(W,A);if(W)return(W=Object.getOwnPropertyDescriptor(W,A)).get?W.get.call(B):W.value})(Z,Y,ee||Z)}function d(Z,Y){return(d=Object.setPrototypeOf||function(ee,ae){return ee.__proto__=ae,ee})(Z,Y)}function x(Z){return function(){var Y,ee,ae=T(Z);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=T(this).constructor,Reflect.construct(ae,arguments,Y)):ae.apply(this,arguments),ae=this,!(ee=Y)||p(ee)!=="object"&&typeof ee!="function"?_(ae):ee}}function _(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function T(Z){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(Z)}function k(Z,Y,ee){Y in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee}function M(Z,Y){V+="#define STROKE_CAP_".concat(Z," ").concat(Y,`
`),F[l[Z]]=Y}function O(Z,Y){V+="#define STROKE_JOIN_".concat(Z," ").concat(Y,`
`),D[l[Z]]=Y}var L,F={},D={},V="",P=(M("ROUND",0),M("PROJECT",1),M("SQUARE",2),O("ROUND",0),O("MITER",1),O("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),G={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:P+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:P+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:V+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:V+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},z=G.sphereMappingFrag;for(L in G)G[L]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+G[L];k(P={},l.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),k(P,l.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),k(P,l.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),k(P,l.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),k(P,l.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),k(P,l.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),k(P,l.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),k(P,l.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var q=P;function Q(Z,Y,ge,ae,A,B,W,J,ie,ne){var pe=Y.getParameter(Y.FRAMEBUFFER_BINDING),ge=(Y.bindFramebuffer(Y.FRAMEBUFFER,ge),J===Y.RGBA?4:3),he=B*W*ge,be=ie===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(Z instanceof be&&Z.length===he||(Z=new be(he)),Y.readPixels(ae,ne?ne-A-W:A,B,W,J,ie,Z),Y.bindFramebuffer(Y.FRAMEBUFFER,pe),ne)for(var _e=Math.floor(W/2),le=new be(B*ge),de=0;de<_e;de++){var xe=de*B*4,Ae=(W-de-1)*B*4;le.set(Z.subarray(xe,xe+4*B)),Z.copyWithin(xe,Ae,Ae+4*B),Z.set(le,Ae)}return Z}function K(Z,ie,ee,ae,A,B,W){var J=Z.getParameter(Z.FRAMEBUFFER_BINDING),ie=(Z.bindFramebuffer(Z.FRAMEBUFFER,ie),A===Z.RGBA?4:3),ie=new(B===Z.UNSIGNED_BYTE?Uint8Array:Float32Array)(ie);return Z.readPixels(ee,W?W-ae-1:ae,1,1,A,B,ie),Z.bindFramebuffer(Z.FRAMEBUFFER,J),Array.from(ie)}i.default.prototype.setAttributes=function(Z,Y){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ee=!0;if(Y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[Z]!==Y&&(this._glAttributes[Z]=Y,ee=!1)):Z instanceof Object&&this._glAttributes!==Z&&(this._glAttributes=Z,ee=!1),this._renderer.isP3D&&!ee){if(!this._setupDone){for(var ae in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ae))return void i.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL=function(Z){var Y=ae;if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Z&&d(Y,Z);var ee=x(ae);function ae(A,B,W,J){if(this instanceof ae)return(A=ee.call(this,A,B,W))._setAttributeDefaults(B),A._initContext(),A.isP3D=!0,A.geometryBuilder=void 0,A.GL=A.drawingContext,A._pInst._setProperty("drawingContext",A.drawingContext),A._isErasing=!1,A._clipDepths=[],A._isClipApplied=!1,A._stencilTestOn=!1,A._enableLighting=!1,A.ambientLightColors=[],A.mixedAmbientLight=[],A.mixedSpecularColor=[],A.specularColors=[1,1,1],A.directionalLightDirections=[],A.directionalLightDiffuseColors=[],A.directionalLightSpecularColors=[],A.pointLightPositions=[],A.pointLightDiffuseColors=[],A.pointLightSpecularColors=[],A.spotLightPositions=[],A.spotLightDirections=[],A.spotLightDiffuseColors=[],A.spotLightSpecularColors=[],A.spotLightAngle=[],A.spotLightConc=[],A.activeImageLight=null,A.diffusedTextures=new Map,A.specularTextures=new Map,A.drawMode=l.FILL,A.curFillColor=A._cachedFillStyle=[1,1,1,1],A.curAmbientColor=A._cachedFillStyle=[1,1,1,1],A.curSpecularColor=A._cachedFillStyle=[0,0,0,0],A.curEmissiveColor=A._cachedFillStyle=[0,0,0,0],A.curStrokeColor=A._cachedStrokeStyle=[0,0,0,1],A.curBlendMode=l.BLEND,A.preEraseBlend=void 0,A._cachedBlendMode=void 0,A.webglVersion===l.WEBGL2?A.blendExt=A.GL:A.blendExt=A.GL.getExtension("EXT_blend_minmax"),A._isBlending=!1,A._hasSetAmbient=!1,A._useSpecularMaterial=!1,A._useEmissiveMaterial=!1,A._useNormalMaterial=!1,A._useShininess=1,A._useMetalness=0,A._useLineColor=!1,A._useVertexColor=!1,A.registerEnabled=new Set,A._tint=[255,255,255,255],A.constantAttenuation=1,A.linearAttenuation=0,A.quadraticAttenuation=0,A.uModelMatrix=new i.default.Matrix,A.uViewMatrix=new i.default.Matrix,A.uMVMatrix=new i.default.Matrix,A.uPMatrix=new i.default.Matrix,A.uNMatrix=new i.default.Matrix("mat3"),A.curMatrix=new i.default.Matrix("mat3"),A._currentNormal=new i.default.Vector(0,0,1),A._curCamera=new i.default.Camera(_(A)),A._curCamera._computeCameraDefaultSettings(),A._curCamera._setDefaultCamera(),A.filterCamera=new i.default.Camera(_(A)),A.filterCamera._computeCameraDefaultSettings(),A.filterCamera._setDefaultCamera(),A.prevTouches=[],A.zoomVelocity=0,A.rotateVelocity=new i.default.Vector(0,0),A.moveVelocity=new i.default.Vector(0,0),A.executeZoom=!1,A.executeRotateAndMove=!1,A.specularShader=void 0,A.sphereMapping=void 0,A.diffusedShader=void 0,A._defaultLightShader=void 0,A._defaultImmediateModeShader=void 0,A._defaultNormalShader=void 0,A._defaultColorShader=void 0,A._defaultPointShader=void 0,A.userFillShader=void 0,A.userStrokeShader=void 0,A.userPointShader=void 0,A.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(A)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(A)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(A)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(A)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(A))],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(A),A._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(A)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(A)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)]}},A.immediateMode={geometry:new i.default.Geometry,shapeMode:l.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(A),A._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(A),A._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(A)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(A)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(A),A._flatten)],stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(A)),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(A)),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(A)),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(A)),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(A))],point:A.GL.createBuffer()}},A.pointSize=5,A.curStrokeWeight=1,A.curStrokeCap=l.ROUND,A.curStrokeJoin=l.ROUND,A.textures=new Map,A.framebuffers=new Set,A.activeFramebuffers=[],A.filterShader=void 0,A.filterLayer=void 0,A.filterLayerTemp=void 0,A.defaultFilterShaders={},A.textureMode=l.IMAGE,A.textureWrapX=l.CLAMP,A.textureWrapY=l.CLAMP,A._tex=null,A._curveTightness=6,A._lookUpTableBezier=[],A._lookUpTableQuadratic=[],A._lutBezierDetail=0,A._lutQuadraticDetail=0,A.isProcessingVertices=!1,A._tessy=A._initTessy(),A.fontInfos={},A._curShader=void 0,A;throw new TypeError("Cannot call a class as a function")}return Y=ae,(Z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new b.default(this)}},{key:"endGeometry",value:function(){var A;if(this.geometryBuilder)return A=this.geometryBuilder.finish(),this.geometryBuilder=void 0,A;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(A){return this.beginGeometry(),A(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(A){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};A._glAttributes===null?A._glAttributes=B:A._glAttributes=Object.assign(B,A._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?l.WEBGL2:l.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var A=this.drawingContext;A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.viewport(0,0,A.drawingBufferWidth,A.drawingBufferHeight),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var A=this.drawingContext;return A.getParameter(A.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(A,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var J=this._maxTextureSize,J=(i.default.prototype._maxAllowedPixelDimensions,Math.floor(J/this.pixelDensity())),W=Math.min(A,J),J=Math.min(B,J);return W===A&&J===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(W,", height: ").concat(J,".")),{adjustedWidth:W,adjustedHeight:J}}},{key:"_resetContext",value:function(A,B){var W,J=this.width,ie=this.height,pe=this.canvas.id,ne=this._pInst instanceof i.default.Graphics,pe=(ne?((W=this._pInst).canvas.parentNode.removeChild(W.canvas),W.canvas=document.createElement("canvas"),(W._pInst._userNode||document.body).appendChild(W.canvas),i.default.Element.call(W,W.canvas,W._pInst),W.width=J,W.height=ie):((W=this.canvas)&&W.parentNode.removeChild(W),(W=document.createElement("canvas")).id=pe,(this._pInst._userNode||document.body).appendChild(W),this._pInst.canvas=W,this.canvas=W),new i.default.RendererGL(this._pInst.canvas,this._pInst,!ne));this._pInst._setProperty("_renderer",pe),pe.resize(J,ie),pe._applyDefaults(),ne||this._pInst._elements.push(pe),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,A)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var J=(J=this._pInst).color.apply(J,arguments),A=J.levels[0]/255,B=J.levels[1]/255,W=J.levels[2]/255,J=J.levels[3]/255;this.clear(A,B,W,J)}},{key:"fill",value:function(A,B,W,J){var ie=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ie._array,this.drawMode=l.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(A,B,W,J){var ie=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ie._array}},{key:"strokeCap",value:function(A){this.curStrokeCap=A}},{key:"strokeJoin",value:function(A){this.curStrokeJoin=A}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(A,B){A.width===B.width&&A.height===B.height||A.resize(B.width,B.height),A.pixelDensity()!==B.pixelDensity()&&A.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var A,B,W=this,J=this.getFilterLayer(),ie=void 0,ne=void 0,pe=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ne=arguments.length<=0?void 0:arguments[0],k(A={},l.BLUR,3),k(A,l.POSTERIZE,4),k(A,l.THRESHOLD,.5),ie=ne in(A=A)&&(arguments.length<=1?void 0:arguments[1])===void 0?A[ne]:arguments.length<=1?void 0:arguments[1],ne in this.defaultFilterShaders||(this.defaultFilterShaders[ne]=new i.default.Shader(J._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,q[ne])),this.filterShader=this.defaultFilterShaders[ne]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ge=(this.matchSize(J,pe),J.draw(function(){return W._pInst.clear()}),[1/(pe.width*pe.pixelDensity()),1/(pe.height*pe.pixelDensity())]);ne===l.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,pe),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(l.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ge),this.filterShader.setUniform("canvasSize",[pe.width,pe.height]),this.filterShader.setUniform("radius",Math.max(1,ie)),B.draw(function(){W.filterShader.setUniform("direction",[1,0]),W.filterShader.setUniform("tex0",pe),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(pe.width,pe.height)}),J.draw(function(){W.filterShader.setUniform("direction",[0,1]),W.filterShader.setUniform("tex0",B),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(pe.width,pe.height)}),this._pInst.pop()):J.draw(function(){W._pInst.noStroke(),W._pInst.blendMode(l.BLEND),W._pInst.shader(W.filterShader),W.filterShader.setUniform("tex0",pe),W.filterShader.setUniform("texelSize",ge),W.filterShader.setUniform("canvasSize",[pe.width,pe.height]),W.filterShader.setUniform("filterParameter",ie),W._pInst.noLights(),W._pInst.plane(pe.width,pe.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(l.CORNER),this._pInst.blendMode(l.BLEND),pe.filterCamera._resize(),this._pInst.setCamera(pe.filterCamera),this._pInst.resetMatrix(),this._pInst.image(J,-pe.width/2,-pe.height/2,pe.width,pe.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(A){return A?this._pInst.pixelDensity(A):this._pInst.pixelDensity()}},{key:"blendMode",value:function(A){A===l.DARKEST||A===l.LIGHTEST||A===l.ADD||A===l.BLEND||A===l.SUBTRACT||A===l.SCREEN||A===l.EXCLUSION||A===l.REPLACE||A===l.MULTIPLY||A===l.REMOVE?this.curBlendMode=A:A!==l.BURN&&A!==l.OVERLAY&&A!==l.HARD_LIGHT&&A!==l.SOFT_LIGHT&&A!==l.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(A,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(l.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,A/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},A=(h(T(ae.prototype),"beginClip",this).call(this,A),this.drawTarget()._isClipApplied=!0,this.GL);A.clearStencil(0),A.clear(A.STENCIL_BUFFER_BIT),A.enable(A.STENCIL_TEST),this._stencilTestOn=!0,A.stencilFunc(A.ALWAYS,1,255),A.stencilOp(A.KEEP,A.KEEP,A.REPLACE),A.disable(A.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var A=this.GL;A.stencilOp(A.KEEP,A.KEEP,A.KEEP),A.stencilFunc(this._clipInvert?A.EQUAL:A.NOTEQUAL,0,255),A.enable(A.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),h(T(ae.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(A){this.curStrokeWeight!==A&&(this.pointSize=A,this.curStrokeWeight=A)}},{key:"_getPixel",value:function(A,B){var W=this.GL;return K(W,null,A,B,W.RGBA,W.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var A,B,W=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(A=this._pInst._pixelDensity,B=this.GL,W._setProperty("pixels",Q(W.pixels,B,null,0,0,this.width*A,this.height*A,B.RGBA,B.UNSIGNED_BYTE,this.height*A)))}},{key:"updatePixels",value:function(){var A=this._getTempFramebuffer();A.pixels=this._pixelsState.pixels,A.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(l.CENTER),this._pInst.image(A,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:l.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:l.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(A){return this.retainedMode.geometry[A]!==void 0}},{key:"viewport",value:function(A,B){this._viewport=[0,0,A,B],this.GL.viewport(0,0,A,B)}},{key:"resize",value:function(ie,J){i.default.Renderer.prototype.resize.call(this,ie,J),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ie=this._pixelsState,W=(ie.pixels!==void 0&&ie._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),J=!1,ie=void 0;try{for(var ne,pe=this.framebuffers[Symbol.iterator]();!(W=(ne=pe.next()).done);W=!0)ne.value._canvasSizeChanged()}catch(ge){J=!0,ie=ge}finally{try{W||pe.return==null||pe.return()}finally{if(J)throw ie}}}},{key:"clear",value:function(){var A=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,W=(arguments.length<=2?void 0:arguments[2])||0,J=(arguments.length<=3?void 0:arguments[3])||0,ie=this.activeFramebuffer();ie&&ie.format===l.UNSIGNED_BYTE&&!ie.antialias&&J===0&&(J=1e-10),this.GL.clearColor(A*J,B*J,W*J,J),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(A,B,W,J,ie,ne){arguments.length===16?i.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([A,B,0,0,W,J,0,0,0,0,1,0,ie,ne,0,1])}},{key:"translate",value:function(A,B,W){return A instanceof i.default.Vector&&(W=A.z,B=A.y,A=A.x),this.uModelMatrix.translate([A,B,W]),this}},{key:"scale",value:function(A,B,W){return this.uModelMatrix.scale(A,B,W),this}},{key:"rotate",value:function(A,B){return B===void 0?this.rotateZ(A):(i.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(A){return this.rotate(A,1,0,0),this}},{key:"rotateY",value:function(A){return this.rotate(A,0,1,0),this}},{key:"rotateZ",value:function(A){return this.rotate(A,0,0,1),this}},{key:"push",value:function(){var A=i.default.Renderer.prototype.push.apply(this),B=A.properties;return B.uModelMatrix=this.uModelMatrix.copy(),B.uViewMatrix=this.uViewMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,B.textureMode=this.textureMode,A}},{key:"pop",value:function(){var A;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,W=new Array(B),J=0;J<B;J++)W[J]=arguments[J];(A=h(T(ae.prototype),"pop",this)).call.apply(A,[this].concat(W)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var A=this.drawTarget();A._isClipApplied!==this._stencilTestOn&&(A._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var A=this.userStrokeShader;return A&&A.isStrokeShader()?A:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(A){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(z)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",A),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var A=this.userFillShader;if(this._useNormalMaterial&&(!A||!A.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!A||!A.isLightShader())return this._getLightShader()}else if(this._tex){if(!A||!A.isTextureShader())return this._getLightShader()}else if(!A)return this._getImmediateModeShader();return A}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var A=this.userFillShader;if(this._enableLighting){if(!A||!A.isLightShader())return this._getLightShader()}else if(this._tex){if(!A||!A.isTextureShader())return this._getLightShader()}else if(!A)return this._getColorShader();return A}},{key:"_getImmediatePointShader",value:function(){var A=this.userPointShader;return A&&A.isPointShader()?A:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+G.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+G.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===l.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+G.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(A,B){var W="";return this.webglVersion===l.WEBGL2&&(W+=`#version 300 es
#define WEBGL2
`),A==="vert"?W+=`#define VERTEX_SHADER
`:A==="frag"&&(W+=`#define FRAGMENT_SHADER
`),B&&(W+="precision ".concat(B,` float;
`)),W}},{key:"_getEmptyTexture",value:function(){var A;return this._emptyTexture||((A=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,A)),this._emptyTexture}},{key:"getTexture",value:function(A){A instanceof i.default.Framebuffer&&(A=A.color);var B=this.textures.get(A);return B||(B=new i.default.Texture(this,A),this.textures.set(A,B),B)}},{key:"getDiffusedTexture",value:function(A){var B,W,J=this;return this.diffusedTextures.get(A)!=null?this.diffusedTextures.get(A):(B=Math.floor(A.height/A.width*200),W=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(G.imageLightVert,G.imageLightDiffusedFrag)),W.draw(function(){J._pInst.shader(J.diffusedShader),J.diffusedShader.setUniform("environmentMap",A),J._pInst.noStroke(),J._pInst.rectMode(l.CENTER),J._pInst.noLights(),J._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(A,W),W)}},{key:"getSpecularTexture",value:function(A){var B=this;if(this.specularTextures.get(A)!=null)return this.specularTextures.get(A);for(var W,J=[],ie=this._pInst.createFramebuffer({width:512,height:512,density:1}),ne=Math.log(512)/Math.log(2),pe=(this.specularShader||(this.specularShader=this._pInst.createShader(G.imageLightVert,G.imageLightSpecularFrag)),512);1<=pe;pe/=2)(function(ge){ie.resize(ge,ge);var he=1-Math.log(ge)/Math.log(2)/ne;ie.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",A),B.specularShader.setUniform("roughness",he),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane(ge,ge)}),J.push(ie.get().drawingContext.getImageData(0,0,ge,ge))})(pe);return ie.remove(),W=new o.MipmapTexture(this,J,{}),this.specularTextures.set(A,W),W}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(A){return new i.default.Framebuffer(this,A)}},{key:"_setStrokeUniforms",value:function(A){A.bindShader(),A.setUniform("uUseLineColor",this._useLineColor),A.setUniform("uMaterialColor",this.curStrokeColor),A.setUniform("uStrokeWeight",this.curStrokeWeight),A.setUniform("uStrokeCap",F[this.curStrokeCap]),A.setUniform("uStrokeJoin",D[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(A){var B=this,W=(A.bindShader(),this.mixedSpecularColor=c(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(J,ie){return B.curFillColor[ie]*B._useMetalness+J*(1-B._useMetalness)})),A.setUniform("uUseVertexColor",this._useVertexColor),A.setUniform("uMaterialColor",this.curFillColor),A.setUniform("isTexture",!!this._tex),this._tex&&A.setUniform("uSampler",this._tex),A.setUniform("uTint",this._tint),A.setUniform("uHasSetAmbient",this._hasSetAmbient),A.setUniform("uAmbientMatColor",this.curAmbientColor),A.setUniform("uSpecularMatColor",this.mixedSpecularColor),A.setUniform("uEmissiveMatColor",this.curEmissiveColor),A.setUniform("uSpecular",this._useSpecularMaterial),A.setUniform("uEmissive",this._useEmissiveMaterial),A.setUniform("uShininess",this._useShininess),A.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(A),A.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),W=(A.setUniform("uPointLightCount",W),A.setUniform("uPointLightLocation",this.pointLightPositions),A.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),A.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),W=(A.setUniform("uDirectionalLightCount",W),A.setUniform("uLightingDirection",this.directionalLightDirections),A.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),A.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),W=(this.mixedAmbientLight=c(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(J){return J-=B._useMetalness,Math.max(0,J)})),A.setUniform("uAmbientLightCount",W),A.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);A.setUniform("uSpotLightCount",W),A.setUniform("uSpotLightAngle",this.spotLightAngle),A.setUniform("uSpotLightConc",this.spotLightConc),A.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),A.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),A.setUniform("uSpotLightLocation",this.spotLightPositions),A.setUniform("uSpotLightDirection",this.spotLightDirections),A.setUniform("uConstantAttenuation",this.constantAttenuation),A.setUniform("uLinearAttenuation",this.linearAttenuation),A.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),A.bindTextures()}},{key:"_setImageLightUniforms",value:function(A){var B;A.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),A.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),A.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(A){A.bindShader(),A.setUniform("uMaterialColor",this.curStrokeColor),A.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(A,B,W,J,ie){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,A),W!==void 0&&((A=W)instanceof i.default.DataArray?A=W.dataArray():A instanceof(J||Float32Array)||(A=new(J||Float32Array)(A)),this.GL.bufferData(B,A,ie||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(A,B){return A.length===B.length&&A.every(function(W,J){return W===B[J]})}},{key:"_isTypedArray",value:function(A){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return A instanceof B})}},{key:"_flatten",value:function(A){return A.flat()}},{key:"_vToNArray",value:function(A){return A.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(A){var B=A*A,W=1-A,J=W*W;return[J*W,3*J*A,3*W*B,B*A]}},{key:"_quadraticCoefficients",value:function(A){var B=1-A;return[B*B,2*B*A,A*A]}},{key:"_bezierToCatmull",value:function(A){return[A[1],A[1]+(A[2]-A[0])/this._curveTightness,A[2]-(A[3]-A[1])/this._curveTightness,A[2]]}},{key:"_initTessy",value:function(){var A=new v.default.GluTesselator;return A.gluTessCallback(v.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,W){var J=!0,ie=!1,ne=void 0;try{for(var pe,ge=B[Symbol.iterator]();!(J=(pe=ge.next()).done);J=!0){var he=pe.value;W.push(he)}}catch(be){ie=!0,ne=be}finally{try{J||ge.return==null||ge.return()}finally{if(ie)throw ne}}}),A.gluTessCallback(v.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==v.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),A.gluTessCallback(v.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),A.gluTessCallback(v.default.gluEnum.GLU_TESS_COMBINE,function(B,W,J){for(var ie=new Array(i.default.RendererGL.prototype.tessyVertexSize).fill(0),ne=0;ne<J.length;ne++)for(var pe=0;pe<ie.length;pe++)J[ne]!==0&&W[ne]&&(ie[pe]+=W[ne][pe]*J[ne]);return ie}),A.gluTessCallback(v.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),A.gluTessProperty(v.default.gluEnum.GLU_TESS_WINDING_RULE,v.default.windingRule.GLU_TESS_WINDING_NONZERO),A}},{key:"_triangulate",value:function(A){var B=A[0]?A[0][2]:void 0,W=!0,J=!0,he=!1,_e=void 0;try{for(var ie,ne=A[Symbol.iterator]();!(J=(ie=ne.next()).done);J=!0)for(var pe=ie.value,ge=0;ge<pe.length;ge+=i.default.RendererGL.prototype.tessyVertexSize)if(pe[ge+2]!==B){W=!1;break}}catch(ke){he=!0,_e=ke}finally{try{J||ne.return==null||ne.return()}finally{if(he)throw _e}}W?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var he=[],be=(this._tessy.gluTessBeginPolygon(he),!0),_e=!1,le=void 0;try{for(var de,xe=A[Symbol.iterator]();!(be=(de=xe.next()).done);be=!0){var Ae=de.value;this._tessy.gluTessBeginContour();for(var Se=0;Se<Ae.length;Se+=i.default.RendererGL.prototype.tessyVertexSize){var Te=Ae.slice(Se,Se+i.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(ke){_e=!0,le=ke}finally{try{be||xe.return==null||xe.return()}finally{if(_e)throw le}}return this._tessy.gluTessEndPolygon(),he}}])&&y(Y.prototype,Z),ae}(i.default.Renderer),i.default.prototype._assert3d=function(Z){if(!this._renderer.isP3D)throw new Error("".concat(Z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype.tessyVertexSize=12,P=i.default.RendererGL,w.default=P},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,j,w){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(l,b){return function(v){if(Array.isArray(v))return v}(l)||function(v,o){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]"){var a=[],u=!0,c=!1,y=void 0;try{for(var h,d=v[Symbol.iterator]();!(u=(h=d.next()).done)&&(a.push(h.value),!o||a.length!==o);u=!0);}catch(x){c=!0,y=x}finally{try{u||d.return==null||d.return()}finally{if(c)throw y}}return a}}(l,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(l,b){for(var v=0;v<b.length;v++){var o=b[v];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}f.default.Shader=function(){function l(o,a,u){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},y=this,h=l;if(!(y instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=o,this._vertSrc=a,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:c.uniforms||{},declarations:c.declarations,helpers:c.helpers||{},vertex:c.vertex||{},fragment:c.fragment||{},modified:{vertex:c.modified&&c.modified.vertex||{},fragment:c.modified&&c.modified.fragment||{}}}}var b,v;return b=l,(v=[{key:"shaderSrc",value:function(_,a){var u,c,y,h,d,_=p(_.split("void main"),2),x=_[0],_=_[1],T="";for(u in this.hooks.uniforms)T+="uniform ".concat(u,`;
`);for(c in this.hooks.declarations&&(T+=this.hooks.declarations+`
`),this.hooks[a].declarations&&(T+=this.hooks[a].declarations+`
`),this.hooks.helpers)T+="".concat(c).concat(this.hooks.helpers[c],`
`);for(y in this.hooks[a])y!=="declarations"&&(h=(d=p(y.split(" "),2))[0],d=d[1],this.hooks.modified[a][y]&&(T+="#define AUGMENTED_HOOK_"+d+`
`),T+=h+" HOOK_"+d+this.hooks[a][y]+`
`);return x+T+"void main"+_}},{key:"version",value:function(){var o=/#version (.+)$/.exec(this.vertSrc());return o?o[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var o in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[o]?"[MODIFIED] ":"")+o+this.hooks.vertex[o]);for(var a in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[a]?"[MODIFIED] ":"")+a+this.hooks.fragment[a]);for(var u in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(u+this.hooks.helpers[u])}},{key:"modify",value:function(o){f.default._validateParameters("p5.Shader.modify",arguments);var a,u={vertex:{},fragment:{},helpers:{}};for(a in o)a!=="declarations"&&a!=="uniforms"&&(a==="vertexDeclarations"?u.vertex.declarations=(u.vertex.declarations||"")+`
`+o[a]:a==="fragmentDeclarations"?u.fragment.declarations=(u.fragment.declarations||"")+`
`+o[a]:this.hooks.vertex[a]?u.vertex[a]=o[a]:this.hooks.fragment[a]?u.fragment[a]=o[a]:u.helpers[a]=o[a]);var c,y,h=Object.assign({},this.hooks.modified.vertex),d=Object.assign({},this.hooks.modified.fragment);for(c in u.vertex||{})c!=="declarations"&&(h[c]=!0);for(y in u.fragment||{})y!=="declarations"&&(d[y]=!0);return new f.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(o.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,o.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,u.fragment||{}),vertex:Object.assign({},this.hooks.vertex,u.vertex||{}),helpers:Object.assign({},this.hooks.helpers,u.helpers||{}),modified:{vertex:h,fragment:d}})}},{key:"init",value:function(){if(this._glProgram===0){var o,a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this.vertSrc()),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return o=a.getShaderInfoLog(this._vertShader),console.error(o),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this.fragSrc()),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return o=a.getShaderInfoLog(this._fragShader),console.error(o),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||f.default._friendlyError("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var o in this.hooks.uniforms){var a=p(o.split(" "),2)[1],o=this.hooks.uniforms[o],u=void 0;(u=o instanceof Function?o():o)!=null&&this.setUniform(a,u)}}},{key:"copyToContext",value:function(o){var a=new f.default.Shader(o._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(o),a}},{key:"ensureCompiledOnContext",value:function(o){if(this._glProgram!==0&&this._renderer!==o._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=o._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var o=this._renderer.GL,a=o.getProgramParameter(this._glProgram,o.ACTIVE_ATTRIBUTES),u=0;u<a;++u){var c=o.getActiveAttrib(this._glProgram,u),y=c.name,h=o.getAttribLocation(this._glProgram,y),d={};d.name=y,d.location=h,d.index=u,d.type=c.type,d.size=c.size,this.attributes[y]=d}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var o=this._renderer.GL,a=o.getProgramParameter(this._glProgram,o.ACTIVE_UNIFORMS),u=0,c=0;c<a;++c){var y=o.getActiveUniform(this._glProgram,c),h={},d=(h.location=o.getUniformLocation(this._glProgram,y.name),h.size=y.size,y.name);1<y.size&&(d=d.substring(0,d.indexOf("[0]"))),h.name=d,h.type=y.type,h._cachedData=void 0,h.type===o.SAMPLER_2D&&(h.samplerIndex=u,u++,this.samplers.push(h)),h.isArray=1<y.size||h.type===o.FLOAT_MAT3||h.type===o.FLOAT_MAT4||h.type===o.FLOAT_VEC2||h.type===o.FLOAT_VEC3||h.type===o.FLOAT_VEC4||h.type===o.INT_VEC2||h.type===o.INT_VEC4||h.type===o.INT_VEC3,this.uniforms[d]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var o=this._renderer.GL,a=!0,u=!1,c=void 0;try{for(var y,h=this.samplers[Symbol.iterator]();!(a=(y=h.next()).done);a=!0){var d=y.value,x=d.texture;x===void 0&&(x=this._renderer._getEmptyTexture()),o.activeTexture(o.TEXTURE0+d.samplerIndex),x.bindTexture(),x.update(),o.uniform1i(d.location,d.samplerIndex)}}catch(_){u=!0,c=_}finally{try{a||h.return==null||h.return()}finally{if(u)throw c}}}},{key:"updateTextures",value:function(){var o=!0,a=!1,u=void 0;try{for(var c,y=this.samplers[Symbol.iterator]();!(o=(c=y.next()).done);o=!0){var h=c.value.texture;h&&h.update()}}catch(d){a=!0,u=d}finally{try{o||y.return==null||y.return()}finally{if(a)throw u}}}},{key:"unbindTextures",value:function(){var o=!0,a=!1,u=void 0;try{for(var c,y=this.samplers[Symbol.iterator]();!(o=(c=y.next()).done);o=!0){var h=c.value;this.setUniform(h.name,this._renderer._getEmptyTexture())}}catch(d){a=!0,u=d}finally{try{o||y.return==null||y.return()}finally{if(a)throw u}}}},{key:"_setMatrixUniforms",value:function(){var o=this._renderer.uModelMatrix,a=this._renderer.uViewMatrix,u=this._renderer.uPMatrix,c=o.copy().mult(a),y=(this._renderer.uMVMatrix=c).copy();y.mult(u),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",u.mat4),this.setUniform("uModelMatrix",o.mat4),this.setUniform("uModelViewMatrix",c.mat4),this.setUniform("uModelViewProjectionMatrix",y.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var o=this._renderer.GL;return this._renderer._curShader!==this&&(o.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(o,a){var u=this.uniforms[o];if(u){var c=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,a))return;u._cachedData=a.slice(0)}else{if(u._cachedData&&u._cachedData===a)return;Array.isArray(a)?u._cachedData=a.slice(0):u._cachedData=a}var y=u.location;switch(this.useProgram(),u.type){case c.BOOL:a===!0?c.uniform1i(y,1):c.uniform1i(y,0);break;case c.INT:1<u.size?a.length&&c.uniform1iv(y,a):c.uniform1i(y,a);break;case c.FLOAT:1<u.size?a.length&&c.uniform1fv(y,a):c.uniform1f(y,a);break;case c.FLOAT_MAT3:c.uniformMatrix3fv(y,!1,a);break;case c.FLOAT_MAT4:c.uniformMatrix4fv(y,!1,a);break;case c.FLOAT_VEC2:1<u.size?a.length&&c.uniform2fv(y,a):c.uniform2f(y,a[0],a[1]);break;case c.FLOAT_VEC3:1<u.size?a.length&&c.uniform3fv(y,a):c.uniform3f(y,a[0],a[1],a[2]);break;case c.FLOAT_VEC4:1<u.size?a.length&&c.uniform4fv(y,a):c.uniform4f(y,a[0],a[1],a[2],a[3]);break;case c.INT_VEC2:1<u.size?a.length&&c.uniform2iv(y,a):c.uniform2i(y,a[0],a[1]);break;case c.INT_VEC3:1<u.size?a.length&&c.uniform3iv(y,a):c.uniform3i(y,a[0],a[1],a[2]);break;case c.INT_VEC4:1<u.size?a.length&&c.uniform4iv(y,a):c.uniform4i(y,a[0],a[1],a[2],a[3]);break;case c.SAMPLER_2D:if(typeof a=="number"){if(a<c.TEXTURE0||a>c.TEXTURE31||a!==Math.ceil(a))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;c.activeTexture(a),c.uniform1i(y,a)}else c.activeTexture(c.TEXTURE0+u.samplerIndex),u.texture=a instanceof f.default.Texture?a:this._renderer.getTexture(a),c.uniform1i(y,u.samplerIndex),u.texture.src.gifProperties&&u.texture.src._animateGif(this._renderer._pInst);break;case c.SAMPLER_CUBE:case c.SAMPLER_3D:case c.SAMPLER_2D_SHADOW:case c.SAMPLER_2D_ARRAY:case c.SAMPLER_2D_ARRAY_SHADOW:case c.SAMPLER_CUBE_SHADOW:case c.INT_SAMPLER_2D:case c.INT_SAMPLER_3D:case c.INT_SAMPLER_CUBE:case c.INT_SAMPLER_2D_ARRAY:case c.UNSIGNED_INT_SAMPLER_2D:case c.UNSIGNED_INT_SAMPLER_3D:case c.UNSIGNED_INT_SAMPLER_CUBE:case c.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof a=="number"&&(a<c.TEXTURE0||a>c.TEXTURE31||a!==Math.ceil(a)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(c.activeTexture(a),c.uniform1i(y,a)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(o){return o!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(o,a,u,c,y,h){var d;return o&&(o=o.location)!==-1&&(d=this._renderer.GL,this._renderer.registerEnabled.has(o)||(d.enableVertexAttribArray(o),this._renderer.registerEnabled.add(o)),this._renderer.GL.vertexAttribPointer(o,a,u||d.FLOAT,c||!1,y||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var o=this,a=!0,u=!1,c=void 0;try{for(var y,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(y=h.next()).done);a=!0)(function(){var d=y.value;Object.keys(o.attributes).some(function(x){return o.attributes[x].location===d})||(o._renderer.GL.disableVertexAttribArray(d),o._renderer.registerEnabled.delete(d))})()}catch(d){u=!0,c=d}finally{try{a||h.return==null||h.return()}finally{if(u)throw c}}}}])&&i(b.prototype,v),l}(),t=f.default.Shader,w.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,j,w){function f(x){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function p(x){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.checkWebGLCapabilities=d,w.default=w.MipmapTexture=void 0;var i=(h=t("../core/main"))&&h.__esModule?h:{default:h},l=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var _=b();if(_&&_.has(x))return _.get(x);var T,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in x){var O;Object.prototype.hasOwnProperty.call(x,T)&&((O=M?Object.getOwnPropertyDescriptor(x,T):null)&&(O.get||O.set)?Object.defineProperty(k,T,O):k[T]=x[T])}return k.default=x,_&&_.set(x,k),k}(t("../core/constants"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}function v(x,_){return(v=Object.setPrototypeOf||function(T,k){return T.__proto__=k,T})(x,_)}function o(x){return function(){var _,T=a(x),T=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=a(this).constructor,Reflect.construct(T,arguments,_)):T.apply(this,arguments),this);if(!_||p(_)!=="object"&&typeof _!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function a(x){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(x)}function u(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function c(x,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}function y(x,_,T){_&&c(x.prototype,_)}i.default.Texture=function(){function x(L,T,O){u(this,x),this._renderer=L;var M=this._renderer.GL,O=(O=O||{},this.src=T,this.glTex=void 0,this.glTarget=M.TEXTURE_2D,this.glFormat=O.format||M.RGBA,this.mipmaps=!1,this.glMinFilter=O.minFilter||M.LINEAR,this.glMagFilter=O.magFilter||M.LINEAR,this.glWrapS=O.wrapS||M.CLAMP_TO_EDGE,this.glWrapT=O.wrapT||M.CLAMP_TO_EDGE,this.glDataType=O.dataType||M.UNSIGNED_BYTE,d(L)),L=(this.glFormat!==M.HALF_FLOAT||O.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=M.FLOAT),this.glFormat!==M.HALF_FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||O.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.glFormat!==M.FLOAT||O.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=M.UNSIGNED_BYTE),this.glFormat!==M.FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||O.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.isSrcMediaElement=i.default.MediaElement!==void 0&&T instanceof i.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=i.default.Element!==void 0&&T instanceof i.default.Element&&!(T instanceof i.default.Graphics)&&!(T instanceof i.default.Renderer),this.isSrcP5Image=T instanceof i.default.Image,this.isSrcP5Graphics=T instanceof i.default.Graphics,this.isSrcP5Renderer=T instanceof i.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof i.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=L.width,this.height=L.height,this.init(L),this}return y(x,[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),_=this.src.canvas||this.src.elt):this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var T,k=this._renderer.GL;this.isFramebufferTexture||(this.glTex=k.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,this.glMagFilter),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),k.texImage2D(this.glTarget,0,k.RGBA,1,1,0,this.glFormat,this.glDataType,T)):k.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,T,k,M=this.src;return M.width!==0&&M.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),T=!1,k=this._renderer.GL,_.width!==this.width||_.height!==this.height?(T=!0,this.width=_.width||M.width,this.height=_.height||M.height,this.isSrcP5Image?M.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&M.setModified(!0)):this.isSrcP5Image?M.isModified()&&M.setModified(!(T=!0)):this.isSrcMediaElement?M.isModified()?M.setModified(!(T=!0)):M.loadedmetadata&&this._videoPrevUpdateTime!==M.time()&&(this._videoPrevUpdateTime=M.time(),T=!0):this.isImageData?M._dirty&&(T=!(M._dirty=!1)):T=!0,T&&(this.bindTexture(),k.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,T){var k=this._renderer.GL;this.glMinFilter=this.glFilter(_),this.glMagFilter=this.glFilter(T),this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.glMinFilter),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(_){var T=this._renderer.GL;return _===l.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(_,T){function k(F){return(F&F-1)==0}var M=this._renderer.GL,L=this._getTextureDataFromSource(),L=L.naturalWidth&&L.naturalHeight?(O=L.naturalWidth,L.naturalHeight):(O=this.width,this.height),O=k(O),L=k(L);_===l.REPEAT?this._renderer.webglVersion===l.WEBGL2||O&&L?this.glWrapS=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):_===l.MIRROR?this._renderer.webglVersion===l.WEBGL2||O&&L?this.glWrapS=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):this.glWrapS=M.CLAMP_TO_EDGE,T===l.REPEAT?this._renderer.webglVersion===l.WEBGL2||O&&L?this.glWrapT=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):T===l.MIRROR?this._renderer.webglVersion===l.WEBGL2||O&&L?this.glWrapT=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):this.glWrapT=M.CLAMP_TO_EDGE,this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,this.glWrapS),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),x}();var h=function(x){var _=k;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&v(_,x);var T=o(k);function k(M,O,L){return u(this,k),O=(M=T.call(this,M,O,L))._renderer.GL,M.glMinFilter===O.LINEAR&&(M.glMinFilter=O.LINEAR_MIPMAP_LINEAR),M}return y(k,[{key:"glFilter",value:function(M){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(M){var O=this._renderer.GL;this.glTex=O.createTexture(),this.bindTexture();for(var L=0;L<M.length;L++)O.texImage2D(this.glTarget,L,this.glFormat,this.glFormat,this.glDataType,M[L]);this.glMinFilter=O.LINEAR_MIPMAP_LINEAR,O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),k}(i.default.Texture);function d(M){var _=M.GL,M=M.webglVersion,T=M===l.WEBGL2?_.getExtension("EXT_color_buffer_float")&&_.getExtension("EXT_float_blend"):_.getExtension("OES_texture_float"),k=T&&_.getExtension("OES_texture_float_linear"),M=M===l.WEBGL2?_.getExtension("EXT_color_buffer_float"):_.getExtension("OES_texture_half_float");return{float:T,floatLinear:k,halfFloat:M,halfFloatLinear:M&&_.getExtension("OES_texture_half_float_linear")}}w.MipmapTexture=h,t=i.default.Texture,w.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,j,w){function f(x){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function p(x){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var i,l=(i=t("../core/main"))&&i.__esModule?i:{default:i},b=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var _=v();if(_&&_.has(x))return _.get(x);var T,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in x){var O;Object.prototype.hasOwnProperty.call(x,T)&&((O=M?Object.getOwnPropertyDescriptor(x,T):null)&&(O.get||O.set)?Object.defineProperty(k,T,O):k[T]=x[T])}return k.default=x,_&&_.set(x,k),k}(t("../core/constants"));function v(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,v=function(){return x},x)}function o(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function a(x,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}function u(x,_,T){_&&a(x.prototype,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),l.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},l.default.RendererGL.prototype.textWidth=function(x){return this._isOpenType()?this._textFont._textWidth(x,this._textSize):0};var c=function(){function x(_,T){o(this,x),this.width=_,this.height=T,this.infos=[]}return u(x,[{key:"findImage",value:function(_){var T,k,M=this.width*this.height;if(M<_)throw new Error("font is too complex to render in 3D");for(var O=this.infos.length-1;0<=O;--O){var L=this.infos[O];if(L.index+_<M){k=(T=L).imageData;break}}if(!T){try{k=new ImageData(this.width,this.height)}catch{var F=document.getElementsByTagName("canvas")[0],D=!F,V=(F||((F=document.createElement("canvas")).style.display="none",document.body.appendChild(F)),F.getContext("2d"));V&&(k=V.createImageData(this.width,this.height)),D&&document.body.removeChild(F)}this.infos.push(T={index:0,imageData:k})}return V=T.index,T.index+=_,k._dirty=!0,{imageData:k,index:V}}}]),x}();function y(L,_,T,k,M){var O=L.imageData.data,L=4*L.index++;O[L++]=_,O[L++]=T,O[L++]=k,O[+L]=M}var h=Math.sqrt(3),d=function(){function x(_){o(this,x),this.font=_,this.strokeImageInfos=new c(64,64),this.colDimImageInfos=new c(64,64),this.rowDimImageInfos=new c(64,64),this.colCellImageInfos=new c(64,64),this.rowCellImageInfos=new c(64,64),this.glyphInfos={}}return u(x,[{key:"getGlyphInfo",value:function(_){var T=this.glyphInfos[_.index];if(!T){var k=_.getBoundingBox(),M=k.x1,O=k.y1,L=k.x2-M,F=k.y2-O,D=_.path.commands;if(L==0||F==0||!D.length)return this.glyphInfos[_.index]={};for(var V=[],P=[],G=[],z=8;0<=z;--z)G.push([]);for(z=8;0<=z;--z)P.push([]);var q,Q,K,Z,Y=function(){function it(ut,dt,ht,Ce){o(this,it),this.p0=ut,this.c0=dt,this.c1=ht,this.p1=Ce}return u(it,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return l.default.Vector.sub(l.default.Vector.sub(this.p1,this.p0),l.default.Vector.mult(l.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Qe){var dt=l.default.Vector.lerp(this.p0,this.c0,Qe),Ce=l.default.Vector.lerp(this.c0,this.c1,Qe),ht=l.default.Vector.lerp(dt,Ce,Qe),Ce=(this.c1=l.default.Vector.lerp(this.c1,this.p1,Qe),this.c0=l.default.Vector.lerp(Ce,this.c1,Qe),l.default.Vector.lerp(ht,this.c0,Qe)),Qe=new it(this.p0,dt,ht,Ce);return this.p0=Ce,Qe}},{key:"splitInflections",value:function(){var ut=l.default.Vector.sub(this.c0,this.p0),dt=l.default.Vector.sub(l.default.Vector.sub(this.c1,this.c0),ut),ht=l.default.Vector.sub(l.default.Vector.sub(l.default.Vector.sub(this.p1,this.c1),ut),l.default.Vector.mult(dt,2)),Ce=[],Qe=dt.x*ht.y-dt.y*ht.x;return Qe!==0&&0<=(ut=(ht=ut.x*ht.y-ut.y*ht.x)*ht-4*Qe*(ut.x*dt.y-ut.y*dt.x))&&(Qe<0&&(Qe=-Qe,ht=-ht),ut=(-ht+(dt=Math.sqrt(ut)))/(2*Qe),0<(ht=(-ht-dt)/(2*Qe))&&ht<1&&(Ce.push(this.split(ht)),ut=1-(1-ut)/(1-ht)),0<ut&&ut<1&&Ce.push(this.split(ut))),Ce.push(this),Ce}}]),it}(),ee=!0,ae=!1,A=void 0;try{for(var B,W=D[Symbol.iterator]();!(ee=(B=W.next()).done);ee=!0){var J=B.value,ie=(J.x-M)/L,ne=(J.y-O)/F;if(!Pe(q,Q,ie,ne)){switch(J.type){case"M":K=ie,Z=ne;break;case"L":Xe(q,Q,ie,ne);break;case"Q":var pe=(J.x1-M)/L,ge=(J.y1-O)/F;Te([q,ie,pe],[Q,ne,ge],{x:q,y:Q,cx:pe,cy:ge});break;case"Z":Pe(q,Q,K,Z)?V.push({x:q,y:Q}):(Xe(q,Q,K,Z),V.push({x:K,y:Z}));break;case"C":for(var he=function(ce,De,Ge,ht,Ce,Qe,Ie,oe){var ce=new Y(new l.default.Vector(ce,De),new l.default.Vector(Ge,ht),new l.default.Vector(Ce,Qe),new l.default.Vector(Ie,oe)).splitInflections(),re=[],fe=30/h,Me=!0,De=!1,Ge=void 0;try{for(var rt,at=ce[Symbol.iterator]();!(Me=(rt=at.next()).done);Me=!0){for(var lt=rt.value,ft=[],Rt=void 0;!(.125<=(Rt=fe/lt.quadError()));){var jt=Math.pow(Rt,.3333333333333333),gt=lt.split(jt),kt=lt.split(1-jt/(1-jt));re.push(gt),ft.push(lt),lt=kt}Rt<1&&re.push(lt.split(.5)),re.push(lt),Array.prototype.push.apply(re,ft.reverse())}}catch(Mt){De=!0,Ge=Mt}finally{try{Me||at.return==null||at.return()}finally{if(De)throw Ge}}return re}(q,Q,(J.x1-M)/L,(J.y1-O)/F,(J.x2-M)/L,(J.y2-O)/F,ie,ne),be=0;be<he.length;be++){var _e=he[be].toQuadratic();Te([_e.x,_e.x1,_e.cx],[_e.y,_e.y1,_e.cy],_e)}break;default:throw new Error("unknown command type: ".concat(J.type))}q=ie,Q=ne}}}catch(it){ae=!0,A=it}finally{try{ee||W.return==null||W.return()}finally{if(ae)throw A}}for(var le=V.length,de=this.strokeImageInfos.findImage(le),xe=de.index,Ae=0;Ae<le;++Ae){var Se=V[Ae];y(de,ke(Se.x),ke(Se.y),ke(Se.cx),ke(Se.cy))}(T=this.glyphInfos[_.index]={glyph:_,uGlyphRect:[k.x1,-k.y1,k.x2,-k.y2],strokeImageInfo:de,strokes:V,colInfo:mt(G,this.colDimImageInfos,this.colCellImageInfos),rowInfo:mt(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function Te(it,ut,dt){var ht=V.length;function Ce(re,fe,Me){for(var De=re.length;0<De--;){var Ge=re[De];Ge<fe&&(fe=Ge),Me<Ge&&(Me=Ge)}return{min:fe,max:Me}}V.push(dt);for(var dt=Ce(it,1,0),it=Math.max(Math.floor(9*dt.min-.5),0),Qe=Math.min(Math.ceil(9*dt.max+.5),9),Ie=it;Ie<Qe;++Ie)G[Ie].push(ht);for(var dt=Ce(ut,1,0),it=Math.max(Math.floor(9*dt.min-.5),0),oe=Math.min(Math.ceil(9*dt.max+.5),9),ce=it;ce<oe;++ce)P[ce].push(ht)}function ke(it){return(it=(dt=255)*it)<(ut=0)?ut:dt<it?dt:it;var ut,dt}function Xe(it,ut,dt,ht){Te([it,dt],[ut,ht],{x:it,y:ut,cx:(it+dt)/2,cy:(ut+ht)/2})}function Pe(it,ut,dt,ht){return Math.abs(dt-it)<1e-5&&Math.abs(ht-ut)<1e-5}function mt(it,ut,dt){for(var ht=it.length,Ce=ut.findImage(ht),ut=Ce.index,Qe=0,Ie=0;Ie<ht;++Ie)Qe+=it[Ie].length;for(var oe=dt.findImage(Qe),ce=0;ce<ht;++ce){var re=it[ce],fe=re.length,Me=oe.index;y(Ce,Me>>7,127&Me,fe>>7,127&fe);for(var De=0;De<fe;++De){var Ge=re[De]+xe;y(oe,Ge>>7,127&Ge,0,0)}}return{cellImageInfo:oe,dimOffset:ut,dimImageInfo:Ce}}}}]),x}();l.default.RendererGL.prototype._renderText=function(x,_,T,k,M){if(this._textFont&&typeof this._textFont!="string"){if(!(M<=k)&&this._doFill){if(this._isOpenType()){x.push();var M=this._doStroke,O=this.drawMode,L=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),F=(F=this._textFont._fontInfo)||(this._textFont._fontInfo=new d(L)),T=this._textFont._handleAlignment(this,_,T,k),k=this._textSize/L.unitsPerEm,D=(this.translate(T.x,T.y,0),this.scale(k,k,1),this.GL),T=!this._defaultFontShader,V=this._getFontShader(),P=(V.init(),V.bindShader(),T&&(V.setUniform("uGridImageSize",[64,64]),V.setUniform("uCellsImageSize",[64,64]),V.setUniform("uStrokeImageSize",[64,64]),V.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),G=(P||((k=this._textGeom=new l.default.Geometry(1,1,function(){for(var be=0;be<=1;be++)for(var _e=0;_e<=1;_e++)this.vertices.push(new l.default.Vector(_e,be,0)),this.uvs.push(_e,be)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",k)),!0),T=!1,k=void 0;try{for(var z,q=this.retainedMode.buffers.text[Symbol.iterator]();!(G=(z=q.next()).done);G=!0)z.value._prepareBuffer(P,V)}catch(be){T=!0,k=be}finally{try{G||q.return==null||q.return()}finally{if(T)throw k}}this._bindBuffer(P.indexBuffer,D.ELEMENT_ARRAY_BUFFER),V.setUniform("uMaterialColor",this.curFillColor),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Q=0,K=null,Z=L.stringToGlyphs(_),Y=!0,ee=!1,ae=void 0;try{for(var A,B=Z[Symbol.iterator]();!(Y=(A=B.next()).done);Y=!0){var W,J,ie=A.value,ne=(K&&(Q+=L.getKerningValue(K,ie)),F.getGlyphInfo(ie));ne.uGlyphRect&&(W=ne.rowInfo,J=ne.colInfo,V.setUniform("uSamplerStrokes",ne.strokeImageInfo.imageData),V.setUniform("uSamplerRowStrokes",W.cellImageInfo.imageData),V.setUniform("uSamplerRows",W.dimImageInfo.imageData),V.setUniform("uSamplerColStrokes",J.cellImageInfo.imageData),V.setUniform("uSamplerCols",J.dimImageInfo.imageData),V.setUniform("uGridOffset",ne.uGridOffset),V.setUniform("uGlyphRect",ne.uGlyphRect),V.setUniform("uGlyphOffset",Q),V.bindTextures(),D.drawElements(D.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Q+=ie.advanceWidth,K=ie}}catch(be){ee=!0,ae=be}finally{try{Y||B.return==null||B.return()}finally{if(ee)throw ae}}}finally{V.unbindShader(),this._doStroke=M,this.drawMode=O,D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),x.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return x}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(qf)),qf.exports}var G1=V1();const z1=k1(G1),up="15.0.4",Dv=(R,r,m)=>({endTime:r,insertTime:m,type:"exponentialRampToValue",value:R}),Rv=(R,r,m)=>({endTime:r,insertTime:m,type:"linearRampToValue",value:R}),Xf=(R,r)=>({startTime:r,type:"setValue",value:R}),o0=(R,r,m)=>({duration:m,startTime:r,type:"setValueCurve",values:R}),a0=(R,r,{startTime:m,target:t,timeConstant:j})=>t+(r-t)*Math.exp((m-R)/j),Ga=R=>R.type==="exponentialRampToValue",ph=R=>R.type==="linearRampToValue",lo=R=>Ga(R)||ph(R),cp=R=>R.type==="setValue",ji=R=>R.type==="setValueCurve",mh=(R,r,m,t)=>{const j=R[r];return j===void 0?t:lo(j)||cp(j)?j.value:ji(j)?j.values[j.values.length-1]:a0(m,mh(R,r-1,j.startTime,t),j)},Lv=(R,r,m,t,j)=>m===void 0?[t.insertTime,j]:lo(m)?[m.endTime,m.value]:cp(m)?[m.startTime,m.value]:ji(m)?[m.startTime+m.duration,m.values[m.values.length-1]]:[m.startTime,mh(R,r-1,m.startTime,j)],Yf=R=>R.type==="cancelAndHold",Zf=R=>R.type==="cancelScheduledValues",ao=R=>Yf(R)||Zf(R)?R.cancelTime:Ga(R)||ph(R)?R.endTime:R.startTime,Nv=(R,r,m,{endTime:t,value:j})=>m===j?j:0<m&&0<j||m<0&&j<0?m*(j/m)**((R-r)/(t-r)):0,Pv=(R,r,m,{endTime:t,value:j})=>m+(R-r)/(t-r)*(j-m),q1=(R,r)=>{const m=Math.floor(r),t=Math.ceil(r);return m===t?R[m]:(1-(r-m))*R[m]+(1-(t-r))*R[t]},H1=(R,{duration:r,startTime:m,values:t})=>{const j=(R-m)/r*(t.length-1);return q1(t,j)},uh=R=>R.type==="setTarget";class W1{constructor(r){this._automationEvents=[],this._currenTime=0,this._defaultValue=r}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(r){const m=ao(r);if(Yf(r)||Zf(r)){const t=this._automationEvents.findIndex(w=>Zf(r)&&ji(w)?w.startTime+w.duration>=m:ao(w)>=m),j=this._automationEvents[t];if(t!==-1&&(this._automationEvents=this._automationEvents.slice(0,t)),Yf(r)){const w=this._automationEvents[this._automationEvents.length-1];if(j!==void 0&&lo(j)){if(w!==void 0&&uh(w))throw new Error("The internal list is malformed.");const f=w===void 0?j.insertTime:ji(w)?w.startTime+w.duration:ao(w),p=w===void 0?this._defaultValue:ji(w)?w.values[w.values.length-1]:w.value,i=Ga(j)?Nv(m,f,p,j):Pv(m,f,p,j),l=Ga(j)?Dv(i,m,this._currenTime):Rv(i,m,this._currenTime);this._automationEvents.push(l)}if(w!==void 0&&uh(w)&&this._automationEvents.push(Xf(this.getValue(m),m)),w!==void 0&&ji(w)&&w.startTime+w.duration>m){const f=m-w.startTime,p=(w.values.length-1)/w.duration,i=Math.max(2,1+Math.ceil(f*p)),l=f/(i-1)*p,b=w.values.slice(0,i);if(l<1)for(let v=1;v<i;v+=1){const o=l*v%1;b[v]=w.values[v-1]*(1-o)+w.values[v]*o}this._automationEvents[this._automationEvents.length-1]=o0(b,w.startTime,f)}}}else{const t=this._automationEvents.findIndex(f=>ao(f)>m),j=t===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[t-1];if(j!==void 0&&ji(j)&&ao(j)+j.duration>m)return!1;const w=Ga(r)?Dv(r.value,r.endTime,this._currenTime):ph(r)?Rv(r.value,m,this._currenTime):r;if(t===-1)this._automationEvents.push(w);else{if(ji(r)&&m+r.duration>ao(this._automationEvents[t]))return!1;this._automationEvents.splice(t,0,w)}}return!0}flush(r){const m=this._automationEvents.findIndex(t=>ao(t)>r);if(m>1){const t=this._automationEvents.slice(m-1),j=t[0];uh(j)&&t.unshift(Xf(mh(this._automationEvents,m-2,j.startTime,this._defaultValue),j.startTime)),this._automationEvents=t}}getValue(r){if(this._automationEvents.length===0)return this._defaultValue;const m=this._automationEvents.findIndex(f=>ao(f)>r),t=this._automationEvents[m],j=(m===-1?this._automationEvents.length:m)-1,w=this._automationEvents[j];if(w!==void 0&&uh(w)&&(t===void 0||!lo(t)||t.insertTime>r))return a0(r,mh(this._automationEvents,j-1,w.startTime,this._defaultValue),w);if(w!==void 0&&cp(w)&&(t===void 0||!lo(t)))return w.value;if(w!==void 0&&ji(w)&&(t===void 0||!lo(t)||w.startTime+w.duration>r))return r<w.startTime+w.duration?H1(r,w):w.values[w.values.length-1];if(w!==void 0&&lo(w)&&(t===void 0||!lo(t)))return w.value;if(t!==void 0&&Ga(t)){const[f,p]=Lv(this._automationEvents,j,w,t,this._defaultValue);return Nv(r,f,p,t)}if(t!==void 0&&ph(t)){const[f,p]=Lv(this._automationEvents,j,w,t,this._defaultValue);return Pv(r,f,p,t)}return this._defaultValue}}const X1=R=>({cancelTime:R,type:"cancelAndHold"}),Y1=R=>({cancelTime:R,type:"cancelScheduledValues"}),Z1=(R,r)=>({endTime:r,type:"exponentialRampToValue",value:R}),Q1=(R,r)=>({endTime:r,type:"linearRampToValue",value:R}),K1=(R,r,m)=>({startTime:r,target:R,timeConstant:m,type:"setTarget"}),J1=()=>new DOMException("","AbortError"),$1=R=>(r,m,[t,j,w],f)=>{R(r[j],[m,t,w],p=>p[0]===m&&p[1]===t,f)},e_=R=>(r,m,t)=>{const j=[];for(let w=0;w<t.numberOfInputs;w+=1)j.push(new Set);R.set(r,{activeInputs:j,outputs:new Set,passiveInputs:new WeakMap,renderer:m})},t_=R=>(r,m)=>{R.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:m})},qa=new WeakSet,l0=new WeakMap,hp=new WeakMap,u0=new WeakMap,dp=new WeakMap,Oh=new WeakMap,c0=new WeakMap,Qf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,h0={construct(){return h0}},r_=R=>{try{const r=new Proxy(R,h0);new r}catch{return!1}return!0},Iv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Fv=(R,r)=>{const m=[];let t=R.replace(/^[\s]+/,""),j=t.match(Iv);for(;j!==null;){const w=j[1].slice(1,-1),f=j[0].replace(/([\s]+)?;?$/,"").replace(w,new URL(w,r).toString());m.push(f),t=t.slice(j[0].length).replace(/^[\s]+/,""),j=t.match(Iv)}return[m.join(";"),t]},Uv=R=>{if(R!==void 0&&!Array.isArray(R))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Bv=R=>{if(!r_(R))throw new TypeError("The given value for processorCtor should be a constructor.");if(R.prototype===null||typeof R.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},n_=(R,r,m,t,j,w,f,p,i,l,b,v,o)=>{let a=0;return(u,c,y={credentials:"omit"})=>{const h=b.get(u);if(h!==void 0&&h.has(c))return Promise.resolve();const d=l.get(u);if(d!==void 0){const T=d.get(c);if(T!==void 0)return T}const x=w(u),_=x.audioWorklet===void 0?j(c).then(([T,k])=>{const[M,O]=Fv(T,k),L=`${M};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${O}
})})(window,'_AWGS')`;return m(L)}).then(()=>{const T=o._AWGS.pop();if(T===void 0)throw new SyntaxError;t(x.currentTime,x.sampleRate,()=>T(class{},void 0,(k,M)=>{if(k.trim()==="")throw r();const O=Kf.get(x);if(O!==void 0){if(O.has(k))throw r();Bv(M),Uv(M.parameterDescriptors),O.set(k,M)}else Bv(M),Uv(M.parameterDescriptors),Kf.set(x,new Map([[k,M]]))},x.sampleRate,void 0,void 0))}):Promise.all([j(c),Promise.resolve(R(v,v))]).then(([[T,k],M])=>{const O=a+1;a=O;const[L,F]=Fv(T,k),G=`${L};((AudioWorkletProcessor,registerProcessor)=>{${F}
})(${M?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${M?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${M?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${O}',class extends AudioWorkletProcessor{process(){return !1}})`,z=new Blob([G],{type:"application/javascript; charset=utf-8"}),q=URL.createObjectURL(z);return x.audioWorklet.addModule(q,y).then(()=>{if(p(x))return x;const Q=f(x);return Q.audioWorklet.addModule(q,y).then(()=>Q)}).then(Q=>{if(i===null)throw new SyntaxError;try{new i(Q,`__sac${O}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(q))});return d===void 0?l.set(u,new Map([[c,_]])):d.set(c,_),_.then(()=>{const T=b.get(u);T===void 0?b.set(u,new Set([c])):T.add(c)}).finally(()=>{const T=l.get(u);T!==void 0&&T.delete(c)}),_}},Is=(R,r)=>{const m=R.get(r);if(m===void 0)throw new Error("A value with the given key could not be found.");return m},Ah=(R,r)=>{const m=Array.from(R).filter(r);if(m.length>1)throw Error("More than one element was found.");if(m.length===0)throw Error("No element was found.");const[t]=m;return R.delete(t),t},d0=(R,r,m,t)=>{const j=Is(R,r),w=Ah(j,f=>f[0]===m&&f[1]===t);return j.size===0&&R.delete(r),w},Su=R=>Is(c0,R),Ha=R=>{if(qa.has(R))throw new Error("The AudioNode is already stored.");qa.add(R),Su(R).forEach(r=>r(!0))},f0=R=>"port"in R,ju=R=>{if(!qa.has(R))throw new Error("The AudioNode is not stored.");qa.delete(R),Su(R).forEach(r=>r(!1))},$f=(R,r)=>{!f0(R)&&r.every(m=>m.size===0)&&ju(R)},s_=(R,r,m,t,j,w,f,p,i,l,b,v,o)=>{const a=new WeakMap;return(u,c,y,h,d)=>{const{activeInputs:x,passiveInputs:_}=w(c),{outputs:T}=w(u),k=p(u),M=O=>{const L=i(c),F=i(u);if(O){const D=d0(_,u,y,h);R(x,u,D,!1),!d&&!v(u)&&m(F,L,y,h),o(c)&&Ha(c)}else{const D=t(x,u,y,h);r(_,h,D,!1),!d&&!v(u)&&j(F,L,y,h);const V=f(c);if(V===0)b(c)&&$f(c,x);else{const P=a.get(c);P!==void 0&&clearTimeout(P),a.set(c,setTimeout(()=>{b(c)&&$f(c,x)},V*1e3))}}};return l(T,[c,y,h],O=>O[0]===c&&O[1]===y&&O[2]===h,!0)?(k.add(M),b(u)?R(x,u,[y,h,M],!0):r(_,h,[u,y,M],!0),!0):!1}},i_=R=>(r,m,[t,j,w],f)=>{const p=r.get(t);p===void 0?r.set(t,new Set([[j,m,w]])):R(p,[j,m,w],i=>i[0]===j&&i[1]===m,f)},o_=R=>(r,m)=>{const t=R(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});m.connect(t).connect(r.destination);const j=()=>{m.removeEventListener("ended",j),m.disconnect(t),t.disconnect()};m.addEventListener("ended",j)},a_=R=>(r,m)=>{R(r).add(m)},l_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},u_=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=j(p),b={...l_,...i},v=t(l,b),o=w(l)?r():null;super(p,!1,v,o),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(p){this._nativeAnalyserNode.fftSize=p}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(p){const i=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=p,!(p>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=i,m()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(p){const i=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=p,!(this._nativeAnalyserNode.maxDecibels>p))throw this._nativeAnalyserNode.minDecibels=i,m()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(p){this._nativeAnalyserNode.smoothingTimeConstant=p}getByteFrequencyData(p){this._nativeAnalyserNode.getByteFrequencyData(p)}getByteTimeDomainData(p){this._nativeAnalyserNode.getByteTimeDomainData(p)}getFloatFrequencyData(p){this._nativeAnalyserNode.getFloatFrequencyData(p)}getFloatTimeDomainData(p){this._nativeAnalyserNode.getFloatTimeDomainData(p)}},Rn=(R,r)=>R.context===r,c_=(R,r,m)=>()=>{const t=new WeakMap,j=async(w,f)=>{let p=r(w);if(!Rn(p,f)){const l={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,fftSize:p.fftSize,maxDecibels:p.maxDecibels,minDecibels:p.minDecibels,smoothingTimeConstant:p.smoothingTimeConstant};p=R(f,l)}return t.set(f,p),await m(w,f,p),p};return{render(w,f){const p=t.get(f);return p!==void 0?Promise.resolve(p):j(w,f)}}},yh=R=>{try{R.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ei=()=>new DOMException("","IndexSizeError"),fp=R=>{R.getChannelData=(r=>m=>{try{return r.call(R,m)}catch(t){throw t.code===12?ei():t}})(R.getChannelData)},h_={numberOfChannels:1},d_=(R,r,m,t,j,w,f,p)=>{let i=null;return class p0{constructor(b){if(j===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:o,sampleRate:a}={...h_,...b};i===null&&(i=new j(1,1,44100));const u=t!==null&&r(w,w)?new t({length:v,numberOfChannels:o,sampleRate:a}):i.createBuffer(o,v,a);if(u.numberOfChannels===0)throw m();return typeof u.copyFromChannel!="function"?(f(u),fp(u)):r(yh,()=>yh(u))||p(u),R.add(u),u}static[Symbol.hasInstance](b){return b!==null&&typeof b=="object"&&Object.getPrototypeOf(b)===p0.prototype||R.has(b)}}},os=-34028234663852886e22,Fn=34028234663852886e22,Ti=R=>qa.has(R),f_={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},p_=(R,r,m,t,j,w,f,p)=>class extends R{constructor(l,b){const v=w(l),o={...f_,...b},a=j(v,o),u=f(v),c=u?r():null;super(l,!1,a,c),this._audioBufferSourceNodeRenderer=c,this._isBufferNullified=!1,this._isBufferSet=o.buffer!==null,this._nativeAudioBufferSourceNode=a,this._onended=null,this._playbackRate=m(this,u,a.playbackRate,Fn,os)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw t();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const b=typeof l=="function"?p(this,l):null;this._nativeAudioBufferSourceNode.onended=b;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===b?l:v}get playbackRate(){return this._playbackRate}start(l=0,b=0,v){if(this._nativeAudioBufferSourceNode.start(l,b,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[l,b]:[l,b,v]),this.context.state!=="closed"){Ha(this);const o=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",o),Ti(this)&&ju(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",o)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},m_=(R,r,m,t,j)=>()=>{const w=new WeakMap;let f=null,p=null;const i=async(l,b)=>{let v=m(l);const o=Rn(v,b);if(!o){const a={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=r(b,a),f!==null&&v.start(...f),p!==null&&v.stop(p)}return w.set(b,v),o?await R(b,l.playbackRate,v.playbackRate):await t(b,l.playbackRate,v.playbackRate),await j(l,b,v),v};return{set start(l){f=l},set stop(l){p=l},render(l,b){const v=w.get(b);return v!==void 0?Promise.resolve(v):i(l,b)}}},y_=R=>"playbackRate"in R,g_=R=>"frequency"in R&&"gain"in R,v_=R=>"offset"in R,b_=R=>!("frequency"in R)&&"gain"in R,__=R=>"detune"in R&&"frequency"in R&&!("gain"in R),x_=R=>"pan"in R,Bn=R=>Is(l0,R),Tu=R=>Is(u0,R),ep=(R,r)=>{const{activeInputs:m}=Bn(R);m.forEach(j=>j.forEach(([w])=>{r.includes(R)||ep(w,[...r,R])}));const t=y_(R)?[R.playbackRate]:f0(R)?Array.from(R.parameters.values()):g_(R)?[R.Q,R.detune,R.frequency,R.gain]:v_(R)?[R.offset]:b_(R)?[R.gain]:__(R)?[R.detune,R.frequency]:x_(R)?[R.pan]:[];for(const j of t){const w=Tu(j);w!==void 0&&w.activeInputs.forEach(([f])=>ep(f,r))}Ti(R)&&ju(R)},m0=R=>{ep(R.destination,[])},w_=R=>R===void 0||typeof R=="number"||typeof R=="string"&&(R==="balanced"||R==="interactive"||R==="playback"),S_=(R,r,m,t,j,w,f,p,i)=>class extends R{constructor(b={}){if(i===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new i(b)}catch(u){throw u.code===12&&u.message==="sampleRate is not in range"?m():u}if(v===null)throw t();if(!w_(b.latencyHint))throw new TypeError(`The provided value '${b.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(b.sampleRate!==void 0&&v.sampleRate!==b.sampleRate)throw m();super(v,2);const{latencyHint:o}=b,{sampleRate:a}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:o==="balanced"?512/a:o==="interactive"||o===void 0?256/a:o==="playback"?1024/a:Math.max(2,Math.min(128,Math.round(o*a/128)))*128/a,this._nativeAudioContext=v,i.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const u=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",u)};v.addEventListener("statechange",u)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),m0(this)}))}createMediaElementSource(b){return new j(this,{mediaElement:b})}createMediaStreamDestination(){return new w(this)}createMediaStreamSource(b){return new f(this,{mediaStream:b})}createMediaStreamTrackSource(b){return new p(this,{mediaStreamTrack:b})}resume(){return this._state==="suspended"?new Promise((b,v)=>{const o=()=>{this._nativeAudioContext.removeEventListener("statechange",o),this._nativeAudioContext.state==="running"?b():this.resume().then(b,v)};this._nativeAudioContext.addEventListener("statechange",o)}):this._nativeAudioContext.resume().catch(b=>{throw b===void 0||b.code===15?r():b})}suspend(){return this._nativeAudioContext.suspend().catch(b=>{throw b===void 0?r():b})}},j_=(R,r,m,t,j,w,f,p)=>class extends R{constructor(l,b){const v=w(l),o=f(v),a=j(v,b,o),u=o?r(p):null;super(l,!1,a,u),this._isNodeOfNativeOfflineAudioContext=o,this._nativeAudioDestinationNode=a}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw t();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw m();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw t();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},T_=R=>{const r=new WeakMap,m=async(t,j)=>{const w=j.destination;return r.set(j,w),await R(t,j,w),w};return{render(t,j){const w=r.get(j);return w!==void 0?Promise.resolve(w):m(t,j)}}},E_=(R,r,m,t,j,w,f,p)=>(i,l)=>{const b=l.listener,v=()=>{const T=new Float32Array(1),k=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),M=f(l);let O=!1,L=[0,0,-1,0,1,0],F=[0,0,0];const D=()=>{if(O)return;O=!0;const z=t(l,256,9,0);z.onaudioprocess=({inputBuffer:q})=>{const Q=[w(q,T,0),w(q,T,1),w(q,T,2),w(q,T,3),w(q,T,4),w(q,T,5)];Q.some((Z,Y)=>Z!==L[Y])&&(b.setOrientation(...Q),L=Q);const K=[w(q,T,6),w(q,T,7),w(q,T,8)];K.some((Z,Y)=>Z!==F[Y])&&(b.setPosition(...K),F=K)},k.connect(z)},V=z=>q=>{q!==L[z]&&(L[z]=q,b.setOrientation(...L))},P=z=>q=>{q!==F[z]&&(F[z]=q,b.setPosition(...F))},G=(z,q,Q)=>{const K=m(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:q});K.connect(k,0,z),K.start(),Object.defineProperty(K.offset,"defaultValue",{get(){return q}});const Z=R({context:i},M,K.offset,Fn,os);return p(Z,"value",Y=>()=>Y.call(Z),Y=>ee=>{try{Y.call(Z,ee)}catch(ae){if(ae.code!==9)throw ae}D(),M&&Q(ee)}),Z.cancelAndHoldAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.cancelAndHoldAtTime),Z.cancelScheduledValues=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.cancelScheduledValues),Z.exponentialRampToValueAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.exponentialRampToValueAtTime),Z.linearRampToValueAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.linearRampToValueAtTime),Z.setTargetAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.setTargetAtTime),Z.setValueAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.setValueAtTime),Z.setValueCurveAtTime=(Y=>M?()=>{throw j()}:(...ee)=>{const ae=Y.apply(Z,ee);return D(),ae})(Z.setValueCurveAtTime),Z};return{forwardX:G(0,0,V(0)),forwardY:G(1,0,V(1)),forwardZ:G(2,-1,V(2)),positionX:G(6,0,P(0)),positionY:G(7,0,P(1)),positionZ:G(8,0,P(2)),upX:G(3,0,V(3)),upY:G(4,1,V(4)),upZ:G(5,0,V(5))}},{forwardX:o,forwardY:a,forwardZ:u,positionX:c,positionY:y,positionZ:h,upX:d,upY:x,upZ:_}=b.forwardX===void 0?v():b;return{get forwardX(){return o},get forwardY(){return a},get forwardZ(){return u},get positionX(){return c},get positionY(){return y},get positionZ(){return h},get upX(){return d},get upY(){return x},get upZ(){return _}}},gh=R=>"context"in R,Eu=R=>gh(R[0]),ea=(R,r,m,t)=>{for(const j of R)if(m(j)){if(t)return!1;throw Error("The set contains at least one similar element.")}return R.add(r),!0},Vv=(R,r,[m,t],j)=>{ea(R,[r,m,t],w=>w[0]===r&&w[1]===m,j)},Gv=(R,[r,m,t],j)=>{const w=R.get(r);w===void 0?R.set(r,new Set([[m,t]])):ea(w,[m,t],f=>f[0]===m,j)},Ja=R=>"inputs"in R,vh=(R,r,m,t)=>{if(Ja(r)){const j=r.inputs[t];return R.connect(j,m,0),[j,m,0]}return R.connect(r,m,t),[r,m,t]},y0=(R,r,m)=>{for(const t of R)if(t[0]===r&&t[1]===m)return R.delete(t),t;return null},M_=(R,r,m)=>Ah(R,t=>t[0]===r&&t[1]===m),g0=(R,r)=>{if(!Su(R).delete(r))throw new Error("Missing the expected event listener.")},v0=(R,r,m)=>{const t=Is(R,r),j=Ah(t,w=>w[0]===m);return t.size===0&&R.delete(r),j},bh=(R,r,m,t)=>{Ja(r)?R.disconnect(r.inputs[t],m,0):R.disconnect(r,m,t)},jr=R=>Is(hp,R),yu=R=>Is(dp,R),Jo=R=>Qf.has(R),dh=R=>!qa.has(R),zv=(R,r)=>new Promise(m=>{if(r!==null)m(!0);else{const t=R.createScriptProcessor(256,1,1),j=R.createGain(),w=R.createBuffer(1,2,44100),f=w.getChannelData(0);f[0]=1,f[1]=1;const p=R.createBufferSource();p.buffer=w,p.loop=!0,p.connect(t).connect(R.destination),p.connect(j),p.disconnect(j),t.onaudioprocess=i=>{const l=i.inputBuffer.getChannelData(0);Array.prototype.some.call(l,b=>b===1)?m(!0):m(!1),p.stop(),t.onaudioprocess=null,p.disconnect(t),t.disconnect(R.destination)},p.start()}}),Hf=(R,r)=>{const m=new Map;for(const t of R)for(const j of t){const w=m.get(j);m.set(j,w===void 0?1:w+1)}m.forEach((t,j)=>r(j,t))},_h=R=>"context"in R,O_=R=>{const r=new Map;R.connect=(m=>(t,j=0,w=0)=>{const f=_h(t)?m(t,j,w):m(t,j),p=r.get(t);return p===void 0?r.set(t,[{input:w,output:j}]):p.every(i=>i.input!==w||i.output!==j)&&p.push({input:w,output:j}),f})(R.connect.bind(R)),R.disconnect=(m=>(t,j,w)=>{if(m.apply(R),t===void 0)r.clear();else if(typeof t=="number")for(const[f,p]of r){const i=p.filter(l=>l.output!==t);i.length===0?r.delete(f):r.set(f,i)}else if(r.has(t))if(j===void 0)r.delete(t);else{const f=r.get(t);if(f!==void 0){const p=f.filter(i=>i.output!==j&&(i.input!==w||w===void 0));p.length===0?r.delete(t):r.set(t,p)}}for(const[f,p]of r)p.forEach(i=>{_h(f)?R.connect(f,i.output,i.input):R.connect(f,i.output)})})(R.disconnect)},A_=(R,r,m,t)=>{const{activeInputs:j,passiveInputs:w}=Tu(r),{outputs:f}=Bn(R),p=Su(R),i=l=>{const b=jr(R),v=yu(r);if(l){const o=v0(w,R,m);Vv(j,R,o,!1),!t&&!Jo(R)&&b.connect(v,m)}else{const o=M_(j,R,m);Gv(w,o,!1),!t&&!Jo(R)&&b.disconnect(v,m)}};return ea(f,[r,m],l=>l[0]===r&&l[1]===m,!0)?(p.add(i),Ti(R)?Vv(j,R,[m,i],!0):Gv(w,[R,m,i],!0),!0):!1},k_=(R,r,m,t)=>{const{activeInputs:j,passiveInputs:w}=Bn(r),f=y0(j[t],R,m);return f===null?[d0(w,R,m,t)[2],!1]:[f[2],!0]},C_=(R,r,m)=>{const{activeInputs:t,passiveInputs:j}=Tu(r),w=y0(t,R,m);return w===null?[v0(j,R,m)[1],!1]:[w[2],!0]},pp=(R,r,m,t,j)=>{const[w,f]=k_(R,m,t,j);if(w!==null&&(g0(R,w),f&&!r&&!Jo(R)&&bh(jr(R),jr(m),t,j)),Ti(m)){const{activeInputs:p}=Bn(m);$f(m,p)}},mp=(R,r,m,t)=>{const[j,w]=C_(R,m,t);j!==null&&(g0(R,j),w&&!r&&!Jo(R)&&jr(R).disconnect(yu(m),t))},D_=(R,r)=>{const m=Bn(R),t=[];for(const j of m.outputs)Eu(j)?pp(R,r,...j):mp(R,r,...j),t.push(j[0]);return m.outputs.clear(),t},R_=(R,r,m)=>{const t=Bn(R),j=[];for(const w of t.outputs)w[1]===m&&(Eu(w)?pp(R,r,...w):mp(R,r,...w),j.push(w[0]),t.outputs.delete(w));return j},L_=(R,r,m,t,j)=>{const w=Bn(R);return Array.from(w.outputs).filter(f=>f[0]===m&&(t===void 0||f[1]===t)&&(j===void 0||f[2]===j)).map(f=>(Eu(f)?pp(R,r,...f):mp(R,r,...f),w.outputs.delete(f),f[0]))},N_=(R,r,m,t,j,w,f,p,i,l,b,v,o,a,u,c)=>class extends l{constructor(h,d,x,_){super(x),this._context=h,this._nativeAudioNode=x;const T=b(h);v(T)&&m(zv,()=>zv(T,c))!==!0&&O_(x),hp.set(this,x),c0.set(this,new Set),h.state!=="closed"&&d&&Ha(this),R(this,_,x)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(h){this._nativeAudioNode.channelCount=h}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(h){this._nativeAudioNode.channelCountMode=h}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(h){this._nativeAudioNode.channelInterpretation=h}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(h,d=0,x=0){if(d<0||d>=this._nativeAudioNode.numberOfOutputs)throw j();const _=b(this._context),T=u(_);if(o(h)||a(h))throw w();if(gh(h)){const O=jr(h);try{const F=vh(this._nativeAudioNode,O,d,x),D=dh(this);(T||D)&&this._nativeAudioNode.disconnect(...F),this.context.state!=="closed"&&!D&&dh(h)&&Ha(h)}catch(F){throw F.code===12?w():F}if(r(this,h,d,x,T)){const F=i([this],h);Hf(F,t(T))}return h}const k=yu(h);if(k.name==="playbackRate"&&k.maxValue===1024)throw f();try{this._nativeAudioNode.connect(k,d),(T||dh(this))&&this._nativeAudioNode.disconnect(k,d)}catch(O){throw O.code===12?w():O}if(A_(this,h,d,T)){const O=i([this],h);Hf(O,t(T))}}disconnect(h,d,x){let _;const T=b(this._context),k=u(T);if(h===void 0)_=D_(this,k);else if(typeof h=="number"){if(h<0||h>=this.numberOfOutputs)throw j();_=R_(this,k,h)}else{if(d!==void 0&&(d<0||d>=this.numberOfOutputs)||gh(h)&&x!==void 0&&(x<0||x>=h.numberOfInputs))throw j();if(_=L_(this,k,h,d,x),_.length===0)throw w()}for(const M of _){const O=i([this],M);Hf(O,p)}}},P_=(R,r,m,t,j,w,f,p,i,l,b,v,o)=>(a,u,c,y=null,h=null)=>{const d=c.value,x=new W1(d),_=u?t(x):null,T={get defaultValue(){return d},get maxValue(){return y===null?c.maxValue:y},get minValue(){return h===null?c.minValue:h},get value(){return c.value},set value(k){c.value=k,T.setValueAtTime(k,a.context.currentTime)},cancelAndHoldAtTime(k){if(typeof c.cancelAndHoldAtTime=="function")_===null&&x.flush(a.context.currentTime),x.add(j(k)),c.cancelAndHoldAtTime(k);else{const M=Array.from(x).pop();_===null&&x.flush(a.context.currentTime),x.add(j(k));const O=Array.from(x).pop();c.cancelScheduledValues(k),M!==O&&O!==void 0&&(O.type==="exponentialRampToValue"?c.exponentialRampToValueAtTime(O.value,O.endTime):O.type==="linearRampToValue"?c.linearRampToValueAtTime(O.value,O.endTime):O.type==="setValue"?c.setValueAtTime(O.value,O.startTime):O.type==="setValueCurve"&&c.setValueCurveAtTime(O.values,O.startTime,O.duration))}return T},cancelScheduledValues(k){return _===null&&x.flush(a.context.currentTime),x.add(w(k)),c.cancelScheduledValues(k),T},exponentialRampToValueAtTime(k,M){if(k===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;const O=a.context.currentTime;return _===null&&x.flush(O),Array.from(x).length===0&&(x.add(l(d,O)),c.setValueAtTime(d,O)),x.add(f(k,M)),c.exponentialRampToValueAtTime(k,M),T},linearRampToValueAtTime(k,M){const O=a.context.currentTime;return _===null&&x.flush(O),Array.from(x).length===0&&(x.add(l(d,O)),c.setValueAtTime(d,O)),x.add(p(k,M)),c.linearRampToValueAtTime(k,M),T},setTargetAtTime(k,M,O){return _===null&&x.flush(a.context.currentTime),x.add(i(k,M,O)),c.setTargetAtTime(k,M,O),T},setValueAtTime(k,M){return _===null&&x.flush(a.context.currentTime),x.add(l(k,M)),c.setValueAtTime(k,M),T},setValueCurveAtTime(k,M,O){const L=k instanceof Float32Array?k:new Float32Array(k);if(v!==null&&v.name==="webkitAudioContext"){const F=M+O,D=a.context.sampleRate,V=Math.ceil(M*D),P=Math.floor(F*D),G=P-V,z=new Float32Array(G);for(let Q=0;Q<G;Q+=1){const K=(L.length-1)/O*((V+Q)/D-M),Z=Math.floor(K),Y=Math.ceil(K);z[Q]=Z===Y?L[Z]:(1-(K-Z))*L[Z]+(1-(Y-K))*L[Y]}_===null&&x.flush(a.context.currentTime),x.add(b(z,M,O)),c.setValueCurveAtTime(z,M,O);const q=P/D;q<F&&o(T,z[z.length-1],q),o(T,L[L.length-1],F)}else _===null&&x.flush(a.context.currentTime),x.add(b(L,M,O)),c.setValueCurveAtTime(L,M,O);return T}};return m.set(T,c),r.set(T,a),R(T,_),T},I_=R=>({replay(r){for(const m of R)if(m.type==="exponentialRampToValue"){const{endTime:t,value:j}=m;r.exponentialRampToValueAtTime(j,t)}else if(m.type==="linearRampToValue"){const{endTime:t,value:j}=m;r.linearRampToValueAtTime(j,t)}else if(m.type==="setTarget"){const{startTime:t,target:j,timeConstant:w}=m;r.setTargetAtTime(j,t,w)}else if(m.type==="setValue"){const{startTime:t,value:j}=m;r.setValueAtTime(j,t)}else if(m.type==="setValueCurve"){const{duration:t,startTime:j,values:w}=m;r.setValueCurveAtTime(w,j,t)}else throw new Error("Can't apply an unknown automation.")}});class b0{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,m=null){return this._map.forEach((t,j)=>r.call(m,t,j,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}const F_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},U_=(R,r,m,t,j,w,f,p,i,l,b,v,o,a)=>class extends r{constructor(c,y,h){var d;const x=p(c),_=i(x),T=b({...F_,...h});o(T);const k=Kf.get(x),M=k==null?void 0:k.get(y),O=_||x.state!=="closed"?x:(d=f(x))!==null&&d!==void 0?d:x,L=j(O,_?null:c.baseLatency,l,y,M,T),F=_?t(y,T,M):null;super(c,!0,L,F);const D=[];L.parameters.forEach((P,G)=>{const z=m(this,_,P);D.push([G,z])}),this._nativeAudioWorkletNode=L,this._onprocessorerror=null,this._parameters=new b0(D),_&&R(x,this);const{activeInputs:V}=w(this);v(L,V)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(c){const y=typeof c=="function"?a(this,c):null;this._nativeAudioWorkletNode.onprocessorerror=y;const h=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=h!==null&&h===y?c:h}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function xh(R,r,m,t,j){if(typeof R.copyFromChannel=="function")r[m].byteLength===0&&(r[m]=new Float32Array(128)),R.copyFromChannel(r[m],t,j);else{const w=R.getChannelData(t);if(r[m].byteLength===0)r[m]=w.slice(j,j+128);else{const f=new Float32Array(w.buffer,j*Float32Array.BYTES_PER_ELEMENT,128);r[m].set(f)}}}const _0=(R,r,m,t,j)=>{typeof R.copyToChannel=="function"?r[m].byteLength!==0&&R.copyToChannel(r[m],t,j):r[m].byteLength!==0&&R.getChannelData(t).set(r[m],j)},wh=(R,r)=>{const m=[];for(let t=0;t<R;t+=1){const j=[],w=typeof r=="number"?r:r[t];for(let f=0;f<w;f+=1)j.push(new Float32Array(128));m.push(j)}return m},B_=(R,r)=>{const m=Is(Jf,R),t=jr(r);return Is(m,t)},V_=async(R,r,m,t,j,w,f)=>{const p=r===null?Math.ceil(R.context.length/128)*128:r.length,i=t.channelCount*t.numberOfInputs,l=j.reduce((y,h)=>y+h,0),b=l===0?null:m.createBuffer(l,p,m.sampleRate);if(w===void 0)throw new Error("Missing the processor constructor.");const v=Bn(R),o=await B_(m,R),a=wh(t.numberOfInputs,t.channelCount),u=wh(t.numberOfOutputs,j),c=Array.from(R.parameters.keys()).reduce((y,h)=>({...y,[h]:new Float32Array(128)}),{});for(let y=0;y<p;y+=128){if(t.numberOfInputs>0&&r!==null)for(let h=0;h<t.numberOfInputs;h+=1)for(let d=0;d<t.channelCount;d+=1)xh(r,a[h],d,d,y);w.parameterDescriptors!==void 0&&r!==null&&w.parameterDescriptors.forEach(({name:h},d)=>{xh(r,c,h,i+d,y)});for(let h=0;h<t.numberOfInputs;h+=1)for(let d=0;d<j[h];d+=1)u[h][d].byteLength===0&&(u[h][d]=new Float32Array(128));try{const h=a.map((x,_)=>v.activeInputs[_].size===0?[]:x),d=f(y/m.sampleRate,m.sampleRate,()=>o.process(h,u,c));if(b!==null)for(let x=0,_=0;x<t.numberOfOutputs;x+=1){for(let T=0;T<j[x];T+=1)_0(b,u[x],T,_+T,y);_+=j[x]}if(!d)break}catch(h){R.dispatchEvent(new ErrorEvent("processorerror",{colno:h.colno,filename:h.filename,lineno:h.lineno,message:h.message}));break}}return b},G_=(R,r,m,t,j,w,f,p,i,l,b,v,o,a,u,c)=>(y,h,d)=>{const x=new WeakMap;let _=null;const T=async(k,M)=>{let O=b(k),L=null;const F=Rn(O,M),D=Array.isArray(h.outputChannelCount)?h.outputChannelCount:Array.from(h.outputChannelCount);if(v===null){const V=D.reduce((q,Q)=>q+Q,0),P=j(M,{channelCount:Math.max(1,V),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,V)}),G=[];for(let q=0;q<k.numberOfOutputs;q+=1)G.push(t(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:D[q]}));const z=f(M,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});z.connect=r.bind(null,G),z.disconnect=i.bind(null,G),L=[P,G,z]}else F||(O=new v(M,y));if(x.set(M,L===null?O:L[2]),L!==null){if(_===null){if(d===void 0)throw new Error("Missing the processor constructor.");if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=k.channelCount*k.numberOfInputs,K=d.parameterDescriptors===void 0?0:d.parameterDescriptors.length,Z=Q+K;_=V_(k,Z===0?null:await(async()=>{const ee=new o(Z,Math.ceil(k.context.length/128)*128,M.sampleRate),ae=[],A=[];for(let J=0;J<h.numberOfInputs;J+=1)ae.push(f(ee,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1})),A.push(j(ee,{channelCount:h.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:h.channelCount}));const B=await Promise.all(Array.from(k.parameters.values()).map(async J=>{const ie=w(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J.value});return await a(ee,J,ie.offset),ie})),W=t(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Q+K)});for(let J=0;J<h.numberOfInputs;J+=1){ae[J].connect(A[J]);for(let ie=0;ie<h.channelCount;ie+=1)A[J].connect(W,ie,J*h.channelCount+ie)}for(const[J,ie]of B.entries())ie.connect(W,0,Q+J),ie.start(0);return W.connect(ee.destination),await Promise.all(ae.map(J=>u(k,ee,J))),c(ee)})(),M,h,D,d,l)}const V=await _,P=m(M,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[G,z,q]=L;V!==null&&(P.buffer=V,P.start(0)),P.connect(G);for(let Q=0,K=0;Q<k.numberOfOutputs;Q+=1){const Z=z[Q];for(let Y=0;Y<D[Q];Y+=1)G.connect(Z,K+Y,Y);K+=D[Q]}return q}if(F)for(const[V,P]of k.parameters.entries())await R(M,P,O.parameters.get(V));else for(const[V,P]of k.parameters.entries())await a(M,P,O.parameters.get(V));return await u(k,M,O),O};return{render(k,M){p(M,k);const O=x.get(M);return O!==void 0?Promise.resolve(O):T(k,M)}}},z_=(R,r,m,t,j,w,f,p,i,l,b,v,o,a,u,c,y,h,d,x)=>class extends u{constructor(T,k){super(T,k),this._nativeContext=T,this._audioWorklet=R===void 0?void 0:{addModule:(M,O)=>R(this,M,O)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new j(this)}createBuffer(T,k,M){return new m({length:k,numberOfChannels:T,sampleRate:M})}createBufferSource(){return new t(this)}createChannelMerger(T=6){return new w(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new f(this,{numberOfOutputs:T})}createConstantSource(){return new p(this)}createConvolver(){return new i(this)}createDelay(T=1){return new b(this,{maxDelayTime:T})}createDynamicsCompressor(){return new v(this)}createGain(){return new o(this)}createIIRFilter(T,k){return new a(this,{feedback:k,feedforward:T})}createOscillator(){return new c(this)}createPanner(){return new y(this)}createPeriodicWave(T,k,M={disableNormalization:!1}){return new h(this,{...M,imag:k,real:T})}createStereoPanner(){return new d(this)}createWaveShaper(){return new x(this)}decodeAudioData(T,k,M){return l(this._nativeContext,T).then(O=>(typeof k=="function"&&k(O),O),O=>{throw typeof M=="function"&&M(O),O})}},q_={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},H_=(R,r,m,t,j,w,f,p)=>class extends R{constructor(l,b){const v=w(l),o={...q_,...b},a=j(v,o),u=f(v),c=u?m():null;super(l,!1,a,c),this._Q=r(this,u,a.Q,Fn,os),this._detune=r(this,u,a.detune,1200*Math.log2(Fn),-1200*Math.log2(Fn)),this._frequency=r(this,u,a.frequency,l.sampleRate/2,0),this._gain=r(this,u,a.gain,40*Math.log10(Fn),os),this._nativeBiquadFilterNode=a,p(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,b,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,b,v)}catch(o){throw o.code===11?t():o}if(l.length!==b.length||b.length!==v.length)throw t()}},W_=(R,r,m,t,j)=>()=>{const w=new WeakMap,f=async(p,i)=>{let l=m(p);const b=Rn(l,i);if(!b){const v={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=r(i,v)}return w.set(i,l),b?(await R(i,p.Q,l.Q),await R(i,p.detune,l.detune),await R(i,p.frequency,l.frequency),await R(i,p.gain,l.gain)):(await t(i,p.Q,l.Q),await t(i,p.detune,l.detune),await t(i,p.frequency,l.frequency),await t(i,p.gain,l.gain)),await j(p,i,l),l};return{render(p,i){const l=w.get(i);return l!==void 0?Promise.resolve(l):f(p,i)}}},X_=(R,r)=>(m,t)=>{const j=r.get(m);if(j!==void 0)return j;const w=R.get(m);if(w!==void 0)return w;try{const f=t();return f instanceof Promise?(R.set(m,f),f.catch(()=>!1).then(p=>(R.delete(m),r.set(m,p),p))):(r.set(m,f),f)}catch{return r.set(m,!1),!1}},Y_={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Z_=(R,r,m,t,j)=>class extends R{constructor(f,p){const i=t(f),l={...Y_,...p},b=m(i,l),v=j(i)?r():null;super(f,!1,b,v)}},Q_=(R,r,m)=>()=>{const t=new WeakMap,j=async(w,f)=>{let p=r(w);if(!Rn(p,f)){const l={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,numberOfInputs:p.numberOfInputs};p=R(f,l)}return t.set(f,p),await m(w,f,p),p};return{render(w,f){const p=t.get(f);return p!==void 0?Promise.resolve(p):j(w,f)}}},K_={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},J_=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=t(p),b=w({...K_,...i}),v=m(l,b),o=j(l)?r():null;super(p,!1,v,o)}},$_=(R,r,m)=>()=>{const t=new WeakMap,j=async(w,f)=>{let p=r(w);if(!Rn(p,f)){const l={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,numberOfOutputs:p.numberOfOutputs};p=R(f,l)}return t.set(f,p),await m(w,f,p),p};return{render(w,f){const p=t.get(f);return p!==void 0?Promise.resolve(p):j(w,f)}}},ex=R=>(r,m,t)=>R(m,r,t),tx=R=>(r,m,t=0,j=0)=>{const w=r[t];if(w===void 0)throw R();return _h(m)?w.connect(m,0,j):w.connect(m,0)},rx=R=>(r,m)=>{const t=R(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),j=r.createBuffer(1,2,44100);return t.buffer=j,t.loop=!0,t.connect(m),t.start(),()=>{t.stop(),t.disconnect(m)}},nx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},sx=(R,r,m,t,j,w,f)=>class extends R{constructor(i,l){const b=j(i),v={...nx,...l},o=t(b,v),a=w(b),u=a?m():null;super(i,!1,o,u),this._constantSourceNodeRenderer=u,this._nativeConstantSourceNode=o,this._offset=r(this,a,o.offset,Fn,os),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(i){const l=typeof i=="function"?f(this,i):null;this._nativeConstantSourceNode.onended=l;const b=this._nativeConstantSourceNode.onended;this._onended=b!==null&&b===l?i:b}start(i=0){if(this._nativeConstantSourceNode.start(i),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=i),this.context.state!=="closed"){Ha(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),Ti(this)&&ju(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(i=0){this._nativeConstantSourceNode.stop(i),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=i)}},ix=(R,r,m,t,j)=>()=>{const w=new WeakMap;let f=null,p=null;const i=async(l,b)=>{let v=m(l);const o=Rn(v,b);if(!o){const a={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=r(b,a),f!==null&&v.start(f),p!==null&&v.stop(p)}return w.set(b,v),o?await R(b,l.offset,v.offset):await t(b,l.offset,v.offset),await j(l,b,v),v};return{set start(l){f=l},set stop(l){p=l},render(l,b){const v=w.get(b);return v!==void 0?Promise.resolve(v):i(l,b)}}},ox=R=>r=>(R[0]=r,R[0]),ax={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},lx=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=t(p),b={...ax,...i},v=m(l,b),a=j(l)?r():null;super(p,!1,v,a),this._isBufferNullified=!1,this._nativeConvolverNode=v,b.buffer!==null&&w(this,b.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(p){if(this._nativeConvolverNode.buffer=p,p===null&&this._nativeConvolverNode.buffer!==null){const i=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=i.createBuffer(1,1,i.sampleRate),this._isBufferNullified=!0,w(this,0)}else this._isBufferNullified=!1,w(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(p){this._nativeConvolverNode.normalize=p}},ux=(R,r,m)=>()=>{const t=new WeakMap,j=async(w,f)=>{let p=r(w);if(!Rn(p,f)){const l={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,disableNormalization:!p.normalize};p=R(f,l)}return t.set(f,p),Ja(p)?await m(w,f,p.inputs[0]):await m(w,f,p),p};return{render(w,f){const p=t.get(f);return p!==void 0?Promise.resolve(p):j(w,f)}}},cx=(R,r)=>(m,t,j)=>{if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new r(m,t,j)}catch(w){throw w.name==="SyntaxError"?R():w}},hx=()=>new DOMException("","DataCloneError"),qv=R=>{const{port1:r,port2:m}=new MessageChannel;return new Promise(t=>{const j=()=>{m.onmessage=null,r.close(),m.close(),t()};m.onmessage=()=>j();try{r.postMessage(R,[R])}catch{}finally{j()}})},dx=(R,r,m,t,j,w,f,p,i,l,b)=>(v,o)=>{const a=f(v)?v:w(v);if(j.has(o)){const u=m();return Promise.reject(u)}try{j.add(o)}catch{}return r(i,()=>i(a))?a.decodeAudioData(o).then(u=>(qv(o).catch(()=>{}),r(p,()=>p(u))||b(u),R.add(u),u)):new Promise((u,c)=>{const y=async()=>{try{await qv(o)}catch{}},h=d=>{c(d),y()};try{a.decodeAudioData(o,d=>{typeof d.copyFromChannel!="function"&&(l(d),fp(d)),R.add(d),y().then(()=>u(d))},d=>{h(d===null?t():d)})}catch(d){h(d)}})},fx=(R,r,m,t,j,w,f,p)=>(i,l)=>{const b=r.get(i);if(b===void 0)throw new Error("Missing the expected cycle count.");const v=w(i.context),o=p(v);if(b===l){if(r.delete(i),!o&&f(i)){const a=t(i),{outputs:u}=m(i);for(const c of u)if(Eu(c)){const y=t(c[0]);R(a,y,c[1],c[2])}else{const y=j(c[0]);a.connect(y,c[1])}}}else r.set(i,b-l)},px={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},mx=(R,r,m,t,j,w,f)=>class extends R{constructor(i,l){const b=j(i),v={...px,...l},o=t(b,v),a=w(b),u=a?m(v.maxDelayTime):null;super(i,!1,o,u),this._delayTime=r(this,a,o.delayTime),f(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},yx=(R,r,m,t,j)=>w=>{const f=new WeakMap,p=async(i,l)=>{let b=m(i);const v=Rn(b,l);if(!v){const o={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,delayTime:b.delayTime.value,maxDelayTime:w};b=r(l,o)}return f.set(l,b),v?await R(l,i.delayTime,b.delayTime):await t(l,i.delayTime,b.delayTime),await j(i,l,b),b};return{render(i,l){const b=f.get(l);return b!==void 0?Promise.resolve(b):p(i,l)}}},gx=R=>(r,m,t,j)=>R(r[j],w=>w[0]===m&&w[1]===t),vx=R=>(r,m)=>{R(r).delete(m)},bx=R=>"delayTime"in R,_x=(R,r,m)=>function t(j,w){const f=gh(w)?w:m(R,w);if(bx(f))return[];if(j[0]===f)return[j];if(j.includes(f))return[];const{outputs:p}=r(f);return Array.from(p).map(i=>t([...j,f],i[0])).reduce((i,l)=>i.concat(l),[])},ch=(R,r,m)=>{const t=r[m];if(t===void 0)throw R();return t},xx=R=>(r,m=void 0,t=void 0,j=0)=>m===void 0?r.forEach(w=>w.disconnect()):typeof m=="number"?ch(R,r,m).disconnect():_h(m)?t===void 0?r.forEach(w=>w.disconnect(m)):j===void 0?ch(R,r,t).disconnect(m,0):ch(R,r,t).disconnect(m,0,j):t===void 0?r.forEach(w=>w.disconnect(m)):ch(R,r,t).disconnect(m,0),wx={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Sx=(R,r,m,t,j,w,f,p)=>class extends R{constructor(l,b){const v=w(l),o={...wx,...b},a=t(v,o),u=f(v),c=u?m():null;super(l,!1,a,c),this._attack=r(this,u,a.attack),this._knee=r(this,u,a.knee),this._nativeDynamicsCompressorNode=a,this._ratio=r(this,u,a.ratio),this._release=r(this,u,a.release),this._threshold=r(this,u,a.threshold),p(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const b=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=b,j()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const b=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=b,j()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},jx=(R,r,m,t,j)=>()=>{const w=new WeakMap,f=async(p,i)=>{let l=m(p);const b=Rn(l,i);if(!b){const v={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=r(i,v)}return w.set(i,l),b?(await R(i,p.attack,l.attack),await R(i,p.knee,l.knee),await R(i,p.ratio,l.ratio),await R(i,p.release,l.release),await R(i,p.threshold,l.threshold)):(await t(i,p.attack,l.attack),await t(i,p.knee,l.knee),await t(i,p.ratio,l.ratio),await t(i,p.release,l.release),await t(i,p.threshold,l.threshold)),await j(p,i,l),l};return{render(p,i){const l=w.get(i);return l!==void 0?Promise.resolve(l):f(p,i)}}},Tx=()=>new DOMException("","EncodingError"),Ex=R=>r=>new Promise((m,t)=>{if(R===null){t(new SyntaxError);return}const j=R.document.head;if(j===null)t(new SyntaxError);else{const w=R.document.createElement("script"),f=new Blob([r],{type:"application/javascript"}),p=URL.createObjectURL(f),i=R.onerror,l=()=>{R.onerror=i,URL.revokeObjectURL(p)};R.onerror=(b,v,o,a,u)=>{if(v===p||v===R.location.href&&o===1&&a===1)return l(),t(u),!1;if(i!==null)return i(b,v,o,a,u)},w.onerror=()=>{l(),t(new SyntaxError)},w.onload=()=>{l(),m()},w.src=p,w.type="module",j.appendChild(w)}}),Mx=R=>class{constructor(m){this._nativeEventTarget=m,this._listeners=new WeakMap}addEventListener(m,t,j){if(t!==null){let w=this._listeners.get(t);w===void 0&&(w=R(this,t),typeof t=="function"&&this._listeners.set(t,w)),this._nativeEventTarget.addEventListener(m,w,j)}}dispatchEvent(m){return this._nativeEventTarget.dispatchEvent(m)}removeEventListener(m,t,j){const w=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(m,w===void 0?null:w,j)}},Ox=R=>(r,m,t)=>{Object.defineProperties(R,{currentFrame:{configurable:!0,get(){return Math.round(r*m)}},currentTime:{configurable:!0,get(){return r}}});try{return t()}finally{R!==null&&(delete R.currentFrame,delete R.currentTime)}},Ax=R=>async r=>{try{const m=await fetch(r);if(m.ok)return[await m.text(),m.url]}catch{}throw R()},kx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Cx=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=j(p),b={...kx,...i},v=t(l,b),o=w(l),a=o?m():null;super(p,!1,v,a),this._gain=r(this,o,v.gain,Fn,os)}get gain(){return this._gain}},Dx=(R,r,m,t,j)=>()=>{const w=new WeakMap,f=async(p,i)=>{let l=m(p);const b=Rn(l,i);if(!b){const v={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=r(i,v)}return w.set(i,l),b?await R(i,p.gain,l.gain):await t(i,p.gain,l.gain),await j(p,i,l),l};return{render(p,i){const l=w.get(i);return l!==void 0?Promise.resolve(l):f(p,i)}}},Rx=(R,r)=>m=>r(R,m),Lx=R=>r=>{const m=R(r);if(m.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return m.renderer},Nx=R=>r=>{var m;return(m=R.get(r))!==null&&m!==void 0?m:0},Px=R=>r=>{const m=R(r);if(m.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return m.renderer},Ix=R=>r=>R.get(r),mn=()=>new DOMException("","InvalidStateError"),Fx=R=>r=>{const m=R.get(r);if(m===void 0)throw mn();return m},Ux=(R,r)=>m=>{let t=R.get(m);if(t!==void 0)return t;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return t=new r(1,1,44100),R.set(m,t),t},Bx=R=>r=>{const m=R.get(r);if(m===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return m},kh=()=>new DOMException("","InvalidAccessError"),Vx=R=>{R.getFrequencyResponse=(r=>(m,t,j)=>{if(m.length!==t.length||t.length!==j.length)throw kh();return r.call(R,m,t,j)})(R.getFrequencyResponse)},Gx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},zx=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=t(p),b=j(l),v={...Gx,...i},o=r(l,b?null:p.baseLatency,v),a=b?m(v.feedback,v.feedforward):null;super(p,!1,o,a),Vx(o),this._nativeIIRFilterNode=o,w(this,1)}getFrequencyResponse(p,i,l){return this._nativeIIRFilterNode.getFrequencyResponse(p,i,l)}},x0=(R,r,m,t,j,w,f,p,i,l,b)=>{const v=l.length;let o=p;for(let a=0;a<v;a+=1){let u=m[0]*l[a];for(let c=1;c<j;c+=1){const y=o-c&i-1;u+=m[c]*w[y],u-=R[c]*f[y]}for(let c=j;c<t;c+=1)u+=m[c]*w[o-c&i-1];for(let c=j;c<r;c+=1)u-=R[c]*f[o-c&i-1];w[o]=l[a],f[o]=u,o=o+1&i-1,b[a]=u}return o},qx=(R,r,m,t)=>{const j=m instanceof Float64Array?m:new Float64Array(m),w=t instanceof Float64Array?t:new Float64Array(t),f=j.length,p=w.length,i=Math.min(f,p);if(j[0]!==1){for(let u=0;u<f;u+=1)w[u]/=j[0];for(let u=1;u<p;u+=1)j[u]/=j[0]}const l=32,b=new Float32Array(l),v=new Float32Array(l),o=r.createBuffer(R.numberOfChannels,R.length,R.sampleRate),a=R.numberOfChannels;for(let u=0;u<a;u+=1){const c=R.getChannelData(u),y=o.getChannelData(u);b.fill(0),v.fill(0),x0(j,f,w,p,i,b,v,0,l,c,y)}return o},Hx=(R,r,m,t,j)=>(w,f)=>{const p=new WeakMap;let i=null;const l=async(b,v)=>{let o=null,a=r(b);const u=Rn(a,v);if(v.createIIRFilter===void 0?o=R(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):u||(a=v.createIIRFilter(f,w)),p.set(v,o===null?a:o),o!==null){if(i===null){if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const y=new m(b.context.destination.channelCount,b.context.length,v.sampleRate);i=(async()=>{await t(b,y,y.destination);const h=await j(y);return qx(h,v,w,f)})()}const c=await i;return o.buffer=c,o.start(0),o}return await t(b,v,a),a};return{render(b,v){const o=p.get(v);return o!==void 0?Promise.resolve(o):l(b,v)}}},Wx=(R,r,m,t,j,w)=>f=>(p,i)=>{const l=R.get(p);if(l===void 0){if(!f&&w(p)){const b=t(p),{outputs:v}=m(p);for(const o of v)if(Eu(o)){const a=t(o[0]);r(b,a,o[1],o[2])}else{const a=j(o[0]);b.disconnect(a,o[1])}}R.set(p,i)}else R.set(p,l+i)},Xx=(R,r)=>m=>{const t=R.get(m);return r(t)||r(m)},Yx=(R,r)=>m=>R.has(m)||r(m),Zx=(R,r)=>m=>R.has(m)||r(m),Qx=(R,r)=>m=>{const t=R.get(m);return r(t)||r(m)},Kx=R=>r=>R!==null&&r instanceof R,Jx=R=>r=>R!==null&&typeof R.AudioNode=="function"&&r instanceof R.AudioNode,$x=R=>r=>R!==null&&typeof R.AudioParam=="function"&&r instanceof R.AudioParam,ew=(R,r)=>m=>R(m)||r(m),tw=R=>r=>R!==null&&r instanceof R,rw=R=>R!==null&&R.isSecureContext,nw=async(R,r,m,t,j,w,f,p,i,l,b,v,o,a,u,c)=>R(r,r)&&R(m,m)&&R(j,j)&&R(w,w)&&R(p,p)&&R(i,i)&&R(l,l)&&R(b,b)&&R(v,v)&&R(o,o)&&R(a,a)?(await Promise.all([R(t,t),R(f,f),R(u,u),R(c,c)])).every(h=>h):!1,sw=(R,r,m,t)=>class extends R{constructor(w,f){const p=m(w),i=r(p,f);if(t(p))throw TypeError();super(w,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},iw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ow=(R,r,m,t)=>class extends R{constructor(w,f){const p=m(w);if(t(p))throw new TypeError;const i={...iw,...f},l=r(p,i);super(w,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},aw=(R,r,m,t)=>class extends R{constructor(w,f){const p=m(w),i=r(p,f);if(t(p))throw new TypeError;super(w,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},lw=(R,r,m)=>class extends R{constructor(j,w){const f=m(j),p=r(f,w);super(j,!0,p,null)}},uw=(R,r,m,t,j,w)=>class extends m{constructor(p,i){super(p),this._nativeContext=p,Oh.set(this,p),t(p)&&j.set(p,new Set),this._destination=new R(this,i),this._listener=r(this,p),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(p){const i=typeof p=="function"?w(this,p):null;this._nativeContext.onstatechange=i;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===i?p:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},gu=R=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const m=R.decodeAudioData(r.buffer,()=>{});return m===void 0?!1:(m.catch(()=>{}),!0)}catch{}return!1},cw=(R,r)=>(m,t,j)=>{const w=new Set;return m.connect=(f=>(p,i=0,l=0)=>{const b=w.size===0;if(r(p))return f.call(m,p,i,l),R(w,[p,i,l],v=>v[0]===p&&v[1]===i&&v[2]===l,!0),b&&t(),p;f.call(m,p,i),R(w,[p,i],v=>v[0]===p&&v[1]===i,!0),b&&t()})(m.connect),m.disconnect=(f=>(p,i,l)=>{const b=w.size>0;if(p===void 0)f.apply(m),w.clear();else if(typeof p=="number"){f.call(m,p);for(const o of w)o[1]===p&&w.delete(o)}else{r(p)?f.call(m,p,i,l):f.call(m,p,i);for(const o of w)o[0]===p&&(i===void 0||o[1]===i)&&(l===void 0||o[2]===l)&&w.delete(o)}const v=w.size===0;b&&v&&j()})(m.disconnect),m},Mr=(R,r,m)=>{const t=r[m];t!==void 0&&t!==R[m]&&(R[m]=t)},ln=(R,r)=>{Mr(R,r,"channelCount"),Mr(R,r,"channelCountMode"),Mr(R,r,"channelInterpretation")},Hv=R=>typeof R.getFloatTimeDomainData=="function",hw=R=>{R.getFloatTimeDomainData=r=>{const m=new Uint8Array(r.length);R.getByteTimeDomainData(m);const t=Math.max(m.length,R.fftSize);for(let j=0;j<t;j+=1)r[j]=(m[j]-128)*.0078125;return r}},dw=(R,r)=>(m,t)=>{const j=m.createAnalyser();if(ln(j,t),!(t.maxDecibels>t.minDecibels))throw r();return Mr(j,t,"fftSize"),Mr(j,t,"maxDecibels"),Mr(j,t,"minDecibels"),Mr(j,t,"smoothingTimeConstant"),R(Hv,()=>Hv(j))||hw(j),j},fw=R=>R===null?null:R.hasOwnProperty("AudioBuffer")?R.AudioBuffer:null,Br=(R,r,m)=>{const t=r[m];t!==void 0&&t!==R[m].value&&(R[m].value=t)},pw=R=>{R.start=(r=>{let m=!1;return(t=0,j=0,w)=>{if(m)throw mn();r.call(R,t,j,w),m=!0}})(R.start)},yp=R=>{R.start=(r=>(m=0,t=0,j)=>{if(typeof j=="number"&&j<0||t<0||m<0)throw new RangeError("The parameters can't be negative.");r.call(R,m,t,j)})(R.start)},gp=R=>{R.stop=(r=>(m=0)=>{if(m<0)throw new RangeError("The parameter can't be negative.");r.call(R,m)})(R.stop)},mw=(R,r,m,t,j,w,f,p,i,l,b)=>(v,o)=>{const a=v.createBufferSource();return ln(a,o),Br(a,o,"playbackRate"),Mr(a,o,"buffer"),Mr(a,o,"loop"),Mr(a,o,"loopEnd"),Mr(a,o,"loopStart"),r(m,()=>m(v))||pw(a),r(t,()=>t(v))||i(a),r(j,()=>j(v))||l(a,v),r(w,()=>w(v))||yp(a),r(f,()=>f(v))||b(a,v),r(p,()=>p(v))||gp(a),R(v,a),a},yw=R=>R===null?null:R.hasOwnProperty("AudioContext")?R.AudioContext:R.hasOwnProperty("webkitAudioContext")?R.webkitAudioContext:null,gw=(R,r)=>(m,t,j)=>{const w=m.destination;if(w.channelCount!==t)try{w.channelCount=t}catch{}j&&w.channelCountMode!=="explicit"&&(w.channelCountMode="explicit"),w.maxChannelCount===0&&Object.defineProperty(w,"maxChannelCount",{value:t});const f=R(m,{channelCount:t,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});return r(f,"channelCount",p=>()=>p.call(f),p=>i=>{p.call(f,i);try{w.channelCount=i}catch(l){if(i>w.maxChannelCount)throw l}}),r(f,"channelCountMode",p=>()=>p.call(f),p=>i=>{p.call(f,i),w.channelCountMode=i}),r(f,"channelInterpretation",p=>()=>p.call(f),p=>i=>{p.call(f,i),w.channelInterpretation=i}),Object.defineProperty(f,"maxChannelCount",{get:()=>w.maxChannelCount}),f.connect(w),f},vw=R=>R===null?null:R.hasOwnProperty("AudioWorkletNode")?R.AudioWorkletNode:null,bw=R=>{const{port1:r}=new MessageChannel;try{r.postMessage(R)}finally{r.close()}},_w=(R,r,m,t,j)=>(w,f,p,i,l,b)=>{if(p!==null)try{const v=new p(w,i,b),o=new Map;let a=null;if(Object.defineProperties(v,{channelCount:{get:()=>b.channelCount,set:()=>{throw R()}},channelCountMode:{get:()=>"explicit",set:()=>{throw R()}},onprocessorerror:{get:()=>a,set:u=>{typeof a=="function"&&v.removeEventListener("processorerror",a),a=typeof u=="function"?u:null,typeof a=="function"&&v.addEventListener("processorerror",a)}}}),v.addEventListener=(u=>(...c)=>{if(c[0]==="processorerror"){const y=typeof c[1]=="function"?c[1]:typeof c[1]=="object"&&c[1]!==null&&typeof c[1].handleEvent=="function"?c[1].handleEvent:null;if(y!==null){const h=o.get(c[1]);h!==void 0?c[1]=h:(c[1]=d=>{d.type==="error"?(Object.defineProperties(d,{type:{value:"processorerror"}}),y(d)):y(new ErrorEvent(c[0],{...d}))},o.set(y,c[1]))}}return u.call(v,"error",c[1],c[2]),u.call(v,...c)})(v.addEventListener),v.removeEventListener=(u=>(...c)=>{if(c[0]==="processorerror"){const y=o.get(c[1]);y!==void 0&&(o.delete(c[1]),c[1]=y)}return u.call(v,"error",c[1],c[2]),u.call(v,c[0],c[1],c[2])})(v.removeEventListener),b.numberOfOutputs!==0){const u=m(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(u).connect(w.destination),j(v,()=>u.disconnect(),()=>u.connect(w.destination))}return v}catch(v){throw v.code===11?t():v}if(l===void 0)throw t();return bw(b),r(w,f,l,b)},w0=(R,r)=>R===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(R*r))))),xw=R=>new Promise((r,m)=>{const{port1:t,port2:j}=new MessageChannel;t.onmessage=({data:w})=>{t.close(),j.close(),r(w)},t.onmessageerror=({data:w})=>{t.close(),j.close(),m(w)},j.postMessage(R)}),ww=async(R,r)=>{const m=await xw(r);return new R(m)},Sw=(R,r,m,t)=>{let j=Jf.get(R);j===void 0&&(j=new WeakMap,Jf.set(R,j));const w=ww(m,t);return j.set(r,w),w},jw=(R,r,m,t,j,w,f,p,i,l,b,v,o)=>(a,u,c,y)=>{if(y.numberOfInputs===0&&y.numberOfOutputs===0)throw i();const h=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(h.some(de=>de<1))throw i();if(h.length!==y.numberOfOutputs)throw r();if(y.channelCountMode!=="explicit")throw i();const d=y.channelCount*y.numberOfInputs,x=h.reduce((de,xe)=>de+xe,0),_=c.parameterDescriptors===void 0?0:c.parameterDescriptors.length;if(d+_>6||x>6)throw i();const T=new MessageChannel,k=[],M=[];for(let de=0;de<y.numberOfInputs;de+=1)k.push(f(a,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),M.push(j(a,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const O=[];if(c.parameterDescriptors!==void 0)for(const{defaultValue:de,maxValue:xe,minValue:Ae,name:Se}of c.parameterDescriptors){const Te=w(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.parameterData[Se]!==void 0?y.parameterData[Se]:de===void 0?0:de});Object.defineProperties(Te.offset,{defaultValue:{get:()=>de===void 0?0:de},maxValue:{get:()=>xe===void 0?Fn:xe},minValue:{get:()=>Ae===void 0?os:Ae}}),O.push(Te)}const L=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,d+_)}),F=w0(u,a.sampleRate),D=p(a,F,d+_,Math.max(1,x)),V=j(a,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),P=[];for(let de=0;de<y.numberOfOutputs;de+=1)P.push(t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:h[de]}));for(let de=0;de<y.numberOfInputs;de+=1){k[de].connect(M[de]);for(let xe=0;xe<y.channelCount;xe+=1)M[de].connect(L,xe,de*y.channelCount+xe)}const G=new b0(c.parameterDescriptors===void 0?[]:c.parameterDescriptors.map(({name:de},xe)=>{const Ae=O[xe];return Ae.connect(L,0,d+xe),Ae.start(0),[de,Ae.offset]}));L.connect(D);let z=y.channelInterpretation,q=null;const Q=y.numberOfOutputs===0?[D]:P,K={get bufferSize(){return F},get channelCount(){return y.channelCount},set channelCount(de){throw m()},get channelCountMode(){return y.channelCountMode},set channelCountMode(de){throw m()},get channelInterpretation(){return z},set channelInterpretation(de){for(const xe of k)xe.channelInterpretation=de;z=de},get context(){return D.context},get inputs(){return k},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},get onprocessorerror(){return q},set onprocessorerror(de){typeof q=="function"&&K.removeEventListener("processorerror",q),q=typeof de=="function"?de:null,typeof q=="function"&&K.addEventListener("processorerror",q)},get parameters(){return G},get port(){return T.port2},addEventListener(...de){return D.addEventListener(de[0],de[1],de[2])},connect:R.bind(null,Q),disconnect:l.bind(null,Q),dispatchEvent(...de){return D.dispatchEvent(de[0])},removeEventListener(...de){return D.removeEventListener(de[0],de[1],de[2])}},Z=new Map;T.port1.addEventListener=(de=>(...xe)=>{if(xe[0]==="message"){const Ae=typeof xe[1]=="function"?xe[1]:typeof xe[1]=="object"&&xe[1]!==null&&typeof xe[1].handleEvent=="function"?xe[1].handleEvent:null;if(Ae!==null){const Se=Z.get(xe[1]);Se!==void 0?xe[1]=Se:(xe[1]=Te=>{b(a.currentTime,a.sampleRate,()=>Ae(Te))},Z.set(Ae,xe[1]))}}return de.call(T.port1,xe[0],xe[1],xe[2])})(T.port1.addEventListener),T.port1.removeEventListener=(de=>(...xe)=>{if(xe[0]==="message"){const Ae=Z.get(xe[1]);Ae!==void 0&&(Z.delete(xe[1]),xe[1]=Ae)}return de.call(T.port1,xe[0],xe[1],xe[2])})(T.port1.removeEventListener);let Y=null;Object.defineProperty(T.port1,"onmessage",{get:()=>Y,set:de=>{typeof Y=="function"&&T.port1.removeEventListener("message",Y),Y=typeof de=="function"?de:null,typeof Y=="function"&&(T.port1.addEventListener("message",Y),T.port1.start())}}),c.prototype.port=T.port1;let ee=null;Sw(a,K,c,y).then(de=>ee=de);const A=wh(y.numberOfInputs,y.channelCount),B=wh(y.numberOfOutputs,h),W=c.parameterDescriptors===void 0?[]:c.parameterDescriptors.reduce((de,{name:xe})=>({...de,[xe]:new Float32Array(128)}),{});let J=!0;const ie=()=>{y.numberOfOutputs>0&&D.disconnect(V);for(let de=0,xe=0;de<y.numberOfOutputs;de+=1){const Ae=P[de];for(let Se=0;Se<h[de];Se+=1)V.disconnect(Ae,xe+Se,Se);xe+=h[de]}},ne=new Map;D.onaudioprocess=({inputBuffer:de,outputBuffer:xe})=>{if(ee!==null){const Ae=v(K);for(let Se=0;Se<F;Se+=128){for(let Te=0;Te<y.numberOfInputs;Te+=1)for(let ke=0;ke<y.channelCount;ke+=1)xh(de,A[Te],ke,ke,Se);c.parameterDescriptors!==void 0&&c.parameterDescriptors.forEach(({name:Te},ke)=>{xh(de,W,Te,d+ke,Se)});for(let Te=0;Te<y.numberOfInputs;Te+=1)for(let ke=0;ke<h[Te];ke+=1)B[Te][ke].byteLength===0&&(B[Te][ke]=new Float32Array(128));try{const Te=A.map((Xe,Pe)=>{if(Ae[Pe].size>0)return ne.set(Pe,F/128),Xe;const it=ne.get(Pe);return it===void 0?[]:(Xe.every(ut=>ut.every(dt=>dt===0))&&(it===1?ne.delete(Pe):ne.set(Pe,it-1)),Xe)});J=b(a.currentTime+Se/a.sampleRate,a.sampleRate,()=>ee.process(Te,B,W));for(let Xe=0,Pe=0;Xe<y.numberOfOutputs;Xe+=1){for(let mt=0;mt<h[Xe];mt+=1)_0(xe,B[Xe],mt,Pe+mt,Se);Pe+=h[Xe]}}catch(Te){J=!1,K.dispatchEvent(new ErrorEvent("processorerror",{colno:Te.colno,filename:Te.filename,lineno:Te.lineno,message:Te.message}))}if(!J){for(let Te=0;Te<y.numberOfInputs;Te+=1){k[Te].disconnect(M[Te]);for(let ke=0;ke<y.channelCount;ke+=1)M[Se].disconnect(L,ke,Te*y.channelCount+ke)}if(c.parameterDescriptors!==void 0){const Te=c.parameterDescriptors.length;for(let ke=0;ke<Te;ke+=1){const Xe=O[ke];Xe.disconnect(L,0,d+ke),Xe.stop()}}L.disconnect(D),D.onaudioprocess=null,pe?ie():be();break}}}};let pe=!1;const ge=f(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),he=()=>D.connect(ge).connect(a.destination),be=()=>{D.disconnect(ge),ge.disconnect()},_e=()=>{if(J){be(),y.numberOfOutputs>0&&D.connect(V);for(let de=0,xe=0;de<y.numberOfOutputs;de+=1){const Ae=P[de];for(let Se=0;Se<h[de];Se+=1)V.connect(Ae,xe+Se,Se);xe+=h[de]}}pe=!0},le=()=>{J&&(he(),ie()),pe=!1};return he(),o(K,_e,le)},S0=(R,r)=>{const m=R.createBiquadFilter();return ln(m,r),Br(m,r,"Q"),Br(m,r,"detune"),Br(m,r,"frequency"),Br(m,r,"gain"),Mr(m,r,"type"),m},Tw=(R,r)=>(m,t)=>{const j=m.createChannelMerger(t.numberOfInputs);return R!==null&&R.name==="webkitAudioContext"&&r(m,j),ln(j,t),j},Ew=R=>{const r=R.numberOfOutputs;Object.defineProperty(R,"channelCount",{get:()=>r,set:m=>{if(m!==r)throw mn()}}),Object.defineProperty(R,"channelCountMode",{get:()=>"explicit",set:m=>{if(m!=="explicit")throw mn()}}),Object.defineProperty(R,"channelInterpretation",{get:()=>"discrete",set:m=>{if(m!=="discrete")throw mn()}})},Mu=(R,r)=>{const m=R.createChannelSplitter(r.numberOfOutputs);return ln(m,r),Ew(m),m},Mw=(R,r,m,t,j)=>(w,f)=>{if(w.createConstantSource===void 0)return m(w,f);const p=w.createConstantSource();return ln(p,f),Br(p,f,"offset"),r(t,()=>t(w))||yp(p),r(j,()=>j(w))||gp(p),R(w,p),p},$a=(R,r)=>(R.connect=r.connect.bind(r),R.disconnect=r.disconnect.bind(r),R),Ow=(R,r,m,t)=>(j,{offset:w,...f})=>{const p=j.createBuffer(1,2,44100),i=r(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=m(j,{...f,gain:w}),b=p.getChannelData(0);b[0]=1,b[1]=1,i.buffer=p,i.loop=!0;const v={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(u){l.channelCount=u},get channelCountMode(){return l.channelCountMode},set channelCountMode(u){l.channelCountMode=u},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(u){l.channelInterpretation=u},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return i.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return i.onended},set onended(u){i.onended=u},addEventListener(...u){return i.addEventListener(u[0],u[1],u[2])},dispatchEvent(...u){return i.dispatchEvent(u[0])},removeEventListener(...u){return i.removeEventListener(u[0],u[1],u[2])},start(u=0){i.start.call(i,u)},stop(u=0){i.stop.call(i,u)}},o=()=>i.connect(l),a=()=>i.disconnect(l);return R(j,i),t($a(v,l),o,a)},Aw=(R,r)=>(m,t)=>{const j=m.createConvolver();if(ln(j,t),t.disableNormalization===j.normalize&&(j.normalize=!t.disableNormalization),Mr(j,t,"buffer"),t.channelCount>2||(r(j,"channelCount",w=>()=>w.call(j),w=>f=>{if(f>2)throw R();return w.call(j,f)}),t.channelCountMode==="max"))throw R();return r(j,"channelCountMode",w=>()=>w.call(j),w=>f=>{if(f==="max")throw R();return w.call(j,f)}),j},j0=(R,r)=>{const m=R.createDelay(r.maxDelayTime);return ln(m,r),Br(m,r,"delayTime"),m},kw=R=>(r,m)=>{const t=r.createDynamicsCompressor();if(ln(t,m),m.channelCount>2||m.channelCountMode==="max")throw R();return Br(t,m,"attack"),Br(t,m,"knee"),Br(t,m,"ratio"),Br(t,m,"release"),Br(t,m,"threshold"),t},Jn=(R,r)=>{const m=R.createGain();return ln(m,r),Br(m,r,"gain"),m},Cw=R=>(r,m,t)=>{if(r.createIIRFilter===void 0)return R(r,m,t);const j=r.createIIRFilter(t.feedforward,t.feedback);return ln(j,t),j};function Dw(R,r){const m=r[0]*r[0]+r[1]*r[1];return[(R[0]*r[0]+R[1]*r[1])/m,(R[1]*r[0]-R[0]*r[1])/m]}function Rw(R,r){return[R[0]*r[0]-R[1]*r[1],R[0]*r[1]+R[1]*r[0]]}function Wv(R,r){let m=[0,0];for(let t=R.length-1;t>=0;t-=1)m=Rw(m,r),m[0]+=R[t];return m}const Lw=(R,r,m,t)=>(j,w,{channelCount:f,channelCountMode:p,channelInterpretation:i,feedback:l,feedforward:b})=>{const v=w0(w,j.sampleRate),o=l instanceof Float64Array?l:new Float64Array(l),a=b instanceof Float64Array?b:new Float64Array(b),u=o.length,c=a.length,y=Math.min(u,c);if(u===0||u>20)throw t();if(o[0]===0)throw r();if(c===0||c>20)throw t();if(a[0]===0)throw r();if(o[0]!==1){for(let O=0;O<c;O+=1)a[O]/=o[0];for(let O=1;O<u;O+=1)o[O]/=o[0]}const h=m(j,v,f,f);h.channelCount=f,h.channelCountMode=p,h.channelInterpretation=i;const d=32,x=[],_=[],T=[];for(let O=0;O<f;O+=1){x.push(0);const L=new Float32Array(d),F=new Float32Array(d);L.fill(0),F.fill(0),_.push(L),T.push(F)}h.onaudioprocess=O=>{const L=O.inputBuffer,F=O.outputBuffer,D=L.numberOfChannels;for(let V=0;V<D;V+=1){const P=L.getChannelData(V),G=F.getChannelData(V);x[V]=x0(o,u,a,c,y,_[V],T[V],x[V],d,P,G)}};const k=j.sampleRate/2;return $a({get bufferSize(){return v},get channelCount(){return h.channelCount},set channelCount(O){h.channelCount=O},get channelCountMode(){return h.channelCountMode},set channelCountMode(O){h.channelCountMode=O},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(O){h.channelInterpretation=O},get context(){return h.context},get inputs(){return[h]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},addEventListener(...O){return h.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return h.dispatchEvent(O[0])},getFrequencyResponse(O,L,F){if(O.length!==L.length||L.length!==F.length)throw R();const D=O.length;for(let V=0;V<D;V+=1){const P=-Math.PI*(O[V]/k),G=[Math.cos(P),Math.sin(P)],z=Wv(a,G),q=Wv(o,G),Q=Dw(z,q);L[V]=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),F[V]=Math.atan2(Q[1],Q[0])}},removeEventListener(...O){return h.removeEventListener(O[0],O[1],O[2])}},h)},Nw=(R,r)=>R.createMediaElementSource(r.mediaElement),Pw=(R,r)=>{const m=R.createMediaStreamDestination();return ln(m,r),m.numberOfOutputs===1&&Object.defineProperty(m,"numberOfOutputs",{get:()=>0}),m},Iw=(R,{mediaStream:r})=>{const m=r.getAudioTracks();m.sort((w,f)=>w.id<f.id?-1:w.id>f.id?1:0);const t=m.slice(0,1),j=R.createMediaStreamSource(new MediaStream(t));return Object.defineProperty(j,"mediaStream",{value:r}),j},Fw=(R,r)=>(m,{mediaStreamTrack:t})=>{if(typeof m.createMediaStreamTrackSource=="function")return m.createMediaStreamTrackSource(t);const j=new MediaStream([t]),w=m.createMediaStreamSource(j);if(t.kind!=="audio")throw R();if(r(m))throw new TypeError;return w},Uw=R=>R===null?null:R.hasOwnProperty("OfflineAudioContext")?R.OfflineAudioContext:R.hasOwnProperty("webkitOfflineAudioContext")?R.webkitOfflineAudioContext:null,Bw=(R,r,m,t,j,w)=>(f,p)=>{const i=f.createOscillator();return ln(i,p),Br(i,p,"detune"),Br(i,p,"frequency"),p.periodicWave!==void 0?i.setPeriodicWave(p.periodicWave):Mr(i,p,"type"),r(m,()=>m(f))||yp(i),r(t,()=>t(f))||w(i,f),r(j,()=>j(f))||gp(i),R(f,i),i},Vw=R=>(r,m)=>{const t=r.createPanner();return t.orientationX===void 0?R(r,m):(ln(t,m),Br(t,m,"orientationX"),Br(t,m,"orientationY"),Br(t,m,"orientationZ"),Br(t,m,"positionX"),Br(t,m,"positionY"),Br(t,m,"positionZ"),Mr(t,m,"coneInnerAngle"),Mr(t,m,"coneOuterAngle"),Mr(t,m,"coneOuterGain"),Mr(t,m,"distanceModel"),Mr(t,m,"maxDistance"),Mr(t,m,"panningModel"),Mr(t,m,"refDistance"),Mr(t,m,"rolloffFactor"),t)},Gw=(R,r,m,t,j,w,f,p,i,l)=>(b,{coneInnerAngle:v,coneOuterAngle:o,coneOuterGain:a,distanceModel:u,maxDistance:c,orientationX:y,orientationY:h,orientationZ:d,panningModel:x,positionX:_,positionY:T,positionZ:k,refDistance:M,rolloffFactor:O,...L})=>{const F=b.createPanner();if(L.channelCount>2||L.channelCountMode==="max")throw f();ln(F,L);const D={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},V=m(b,{...D,channelInterpretation:"speakers",numberOfInputs:6}),P=t(b,{...L,gain:1}),G=t(b,{...D,gain:1}),z=t(b,{...D,gain:0}),q=t(b,{...D,gain:0}),Q=t(b,{...D,gain:0}),K=t(b,{...D,gain:0}),Z=t(b,{...D,gain:0}),Y=j(b,256,6,1),ee=w(b,{...D,curve:new Float32Array([1,1]),oversample:"none"});let ae=[y,h,d],A=[_,T,k];const B=new Float32Array(1);Y.onaudioprocess=({inputBuffer:ne})=>{const pe=[i(ne,B,0),i(ne,B,1),i(ne,B,2)];pe.some((he,be)=>he!==ae[be])&&(F.setOrientation(...pe),ae=pe);const ge=[i(ne,B,3),i(ne,B,4),i(ne,B,5)];ge.some((he,be)=>he!==A[be])&&(F.setPosition(...ge),A=ge)},Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(ne){if(ne>2)throw f();P.channelCount=ne,F.channelCount=ne},get channelCountMode(){return F.channelCountMode},set channelCountMode(ne){if(ne==="max")throw f();P.channelCountMode=ne,F.channelCountMode=ne},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(ne){P.channelInterpretation=ne,F.channelInterpretation=ne},get coneInnerAngle(){return F.coneInnerAngle},set coneInnerAngle(ne){F.coneInnerAngle=ne},get coneOuterAngle(){return F.coneOuterAngle},set coneOuterAngle(ne){F.coneOuterAngle=ne},get coneOuterGain(){return F.coneOuterGain},set coneOuterGain(ne){if(ne<0||ne>1)throw r();F.coneOuterGain=ne},get context(){return F.context},get distanceModel(){return F.distanceModel},set distanceModel(ne){F.distanceModel=ne},get inputs(){return[P]},get maxDistance(){return F.maxDistance},set maxDistance(ne){if(ne<0)throw new RangeError;F.maxDistance=ne},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get orientationX(){return G.gain},get orientationY(){return z.gain},get orientationZ(){return q.gain},get panningModel(){return F.panningModel},set panningModel(ne){F.panningModel=ne},get positionX(){return Q.gain},get positionY(){return K.gain},get positionZ(){return Z.gain},get refDistance(){return F.refDistance},set refDistance(ne){if(ne<0)throw new RangeError;F.refDistance=ne},get rolloffFactor(){return F.rolloffFactor},set rolloffFactor(ne){if(ne<0)throw new RangeError;F.rolloffFactor=ne},addEventListener(...ne){return P.addEventListener(ne[0],ne[1],ne[2])},dispatchEvent(...ne){return P.dispatchEvent(ne[0])},removeEventListener(...ne){return P.removeEventListener(ne[0],ne[1],ne[2])}};v!==W.coneInnerAngle&&(W.coneInnerAngle=v),o!==W.coneOuterAngle&&(W.coneOuterAngle=o),a!==W.coneOuterGain&&(W.coneOuterGain=a),u!==W.distanceModel&&(W.distanceModel=u),c!==W.maxDistance&&(W.maxDistance=c),y!==W.orientationX.value&&(W.orientationX.value=y),h!==W.orientationY.value&&(W.orientationY.value=h),d!==W.orientationZ.value&&(W.orientationZ.value=d),x!==W.panningModel&&(W.panningModel=x),_!==W.positionX.value&&(W.positionX.value=_),T!==W.positionY.value&&(W.positionY.value=T),k!==W.positionZ.value&&(W.positionZ.value=k),M!==W.refDistance&&(W.refDistance=M),O!==W.rolloffFactor&&(W.rolloffFactor=O),(ae[0]!==1||ae[1]!==0||ae[2]!==0)&&F.setOrientation(...ae),(A[0]!==0||A[1]!==0||A[2]!==0)&&F.setPosition(...A);const J=()=>{P.connect(F),R(P,ee,0,0),ee.connect(G).connect(V,0,0),ee.connect(z).connect(V,0,1),ee.connect(q).connect(V,0,2),ee.connect(Q).connect(V,0,3),ee.connect(K).connect(V,0,4),ee.connect(Z).connect(V,0,5),V.connect(Y).connect(b.destination)},ie=()=>{P.disconnect(F),p(P,ee,0,0),ee.disconnect(G),G.disconnect(V),ee.disconnect(z),z.disconnect(V),ee.disconnect(q),q.disconnect(V),ee.disconnect(Q),Q.disconnect(V),ee.disconnect(K),K.disconnect(V),ee.disconnect(Z),Z.disconnect(V),V.disconnect(Y),Y.disconnect(b.destination)};return l($a(W,F),J,ie)},zw=R=>(r,{disableNormalization:m,imag:t,real:j})=>{const w=t instanceof Float32Array?t:new Float32Array(t),f=j instanceof Float32Array?j:new Float32Array(j),p=r.createPeriodicWave(f,w,{disableNormalization:m});if(Array.from(t).length<2)throw R();return p},Ou=(R,r,m,t)=>R.createScriptProcessor(r,m,t),qw=(R,r)=>(m,t)=>{const j=t.channelCountMode;if(j==="clamped-max")throw r();if(m.createStereoPanner===void 0)return R(m,t);const w=m.createStereoPanner();return ln(w,t),Br(w,t,"pan"),Object.defineProperty(w,"channelCountMode",{get:()=>j,set:f=>{if(f!==j)throw r()}}),w},Hw=(R,r,m,t,j,w)=>{const p=new Float32Array([1,1]),i=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},b={...l,oversample:"none"},v=(u,c,y,h)=>{const d=new Float32Array(16385),x=new Float32Array(16385);for(let L=0;L<16385;L+=1){const F=L/16384*i;d[L]=Math.cos(F),x[L]=Math.sin(F)}const _=m(u,{...l,gain:0}),T=t(u,{...b,curve:d}),k=t(u,{...b,curve:p}),M=m(u,{...l,gain:0}),O=t(u,{...b,curve:x});return{connectGraph(){c.connect(_),c.connect(k.inputs===void 0?k:k.inputs[0]),c.connect(M),k.connect(y),y.connect(T.inputs===void 0?T:T.inputs[0]),y.connect(O.inputs===void 0?O:O.inputs[0]),T.connect(_.gain),O.connect(M.gain),_.connect(h,0,0),M.connect(h,0,1)},disconnectGraph(){c.disconnect(_),c.disconnect(k.inputs===void 0?k:k.inputs[0]),c.disconnect(M),k.disconnect(y),y.disconnect(T.inputs===void 0?T:T.inputs[0]),y.disconnect(O.inputs===void 0?O:O.inputs[0]),T.disconnect(_.gain),O.disconnect(M.gain),_.disconnect(h,0,0),M.disconnect(h,0,1)}}},o=(u,c,y,h)=>{const d=new Float32Array(16385),x=new Float32Array(16385),_=new Float32Array(16385),T=new Float32Array(16385),k=Math.floor(16385/2);for(let Q=0;Q<16385;Q+=1)if(Q>k){const K=(Q-k)/(16384-k)*i;d[Q]=Math.cos(K),x[Q]=Math.sin(K),_[Q]=0,T[Q]=1}else{const K=Q/(16384-k)*i;d[Q]=1,x[Q]=0,_[Q]=Math.cos(K),T[Q]=Math.sin(K)}const M=r(u,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),O=m(u,{...l,gain:0}),L=t(u,{...b,curve:d}),F=m(u,{...l,gain:0}),D=t(u,{...b,curve:x}),V=t(u,{...b,curve:p}),P=m(u,{...l,gain:0}),G=t(u,{...b,curve:_}),z=m(u,{...l,gain:0}),q=t(u,{...b,curve:T});return{connectGraph(){c.connect(M),c.connect(V.inputs===void 0?V:V.inputs[0]),M.connect(O,0),M.connect(F,0),M.connect(P,1),M.connect(z,1),V.connect(y),y.connect(L.inputs===void 0?L:L.inputs[0]),y.connect(D.inputs===void 0?D:D.inputs[0]),y.connect(G.inputs===void 0?G:G.inputs[0]),y.connect(q.inputs===void 0?q:q.inputs[0]),L.connect(O.gain),D.connect(F.gain),G.connect(P.gain),q.connect(z.gain),O.connect(h,0,0),P.connect(h,0,0),F.connect(h,0,1),z.connect(h,0,1)},disconnectGraph(){c.disconnect(M),c.disconnect(V.inputs===void 0?V:V.inputs[0]),M.disconnect(O,0),M.disconnect(F,0),M.disconnect(P,1),M.disconnect(z,1),V.disconnect(y),y.disconnect(L.inputs===void 0?L:L.inputs[0]),y.disconnect(D.inputs===void 0?D:D.inputs[0]),y.disconnect(G.inputs===void 0?G:G.inputs[0]),y.disconnect(q.inputs===void 0?q:q.inputs[0]),L.disconnect(O.gain),D.disconnect(F.gain),G.disconnect(P.gain),q.disconnect(z.gain),O.disconnect(h,0,0),P.disconnect(h,0,0),F.disconnect(h,0,1),z.disconnect(h,0,1)}}},a=(u,c,y,h,d)=>{if(c===1)return v(u,y,h,d);if(c===2)return o(u,y,h,d);throw j()};return(u,{channelCount:c,channelCountMode:y,pan:h,...d})=>{if(y==="max")throw j();const x=R(u,{...d,channelCount:1,channelCountMode:y,numberOfInputs:2}),_=m(u,{...d,channelCount:c,channelCountMode:y,gain:1}),T=m(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:h});let{connectGraph:k,disconnectGraph:M}=a(u,c,_,T,x);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const O={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(V){_.channelCount!==V&&(L&&M(),{connectGraph:k,disconnectGraph:M}=a(u,V,_,T,x),L&&k()),_.channelCount=V},get channelCountMode(){return _.channelCountMode},set channelCountMode(V){if(V==="clamped-max"||V==="max")throw j();_.channelCountMode=V},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(V){_.channelInterpretation=V},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get pan(){return T.gain},addEventListener(...V){return _.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return _.dispatchEvent(V[0])},removeEventListener(...V){return _.removeEventListener(V[0],V[1],V[2])}};let L=!1;const F=()=>{k(),L=!0},D=()=>{M(),L=!1};return w($a(O,x),F,D)}},Ww=(R,r,m,t,j,w,f)=>(p,i)=>{const l=p.createWaveShaper();if(w!==null&&w.name==="webkitAudioContext"&&p.createGain().gain.automationRate===void 0)return m(p,i);ln(l,i);const b=i.curve===null||i.curve instanceof Float32Array?i.curve:new Float32Array(i.curve);if(b!==null&&b.length<2)throw r();Mr(l,{curve:b},"curve"),Mr(l,i,"oversample");let v=null,o=!1;return f(l,"curve",c=>()=>c.call(l),c=>y=>(c.call(l,y),o&&(t(y)&&v===null?v=R(p,l):!t(y)&&v!==null&&(v(),v=null)),y)),j(l,()=>{o=!0,t(l.curve)&&(v=R(p,l))},()=>{o=!1,v!==null&&(v(),v=null)})},Xw=(R,r,m,t,j)=>(w,{curve:f,oversample:p,...i})=>{const l=w.createWaveShaper(),b=w.createWaveShaper();ln(l,i),ln(b,i);const v=m(w,{...i,gain:1}),o=m(w,{...i,gain:-1}),a=m(w,{...i,gain:1}),u=m(w,{...i,gain:-1});let c=null,y=!1,h=null;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(T){v.channelCount=T,o.channelCount=T,l.channelCount=T,a.channelCount=T,b.channelCount=T,u.channelCount=T},get channelCountMode(){return l.channelCountMode},set channelCountMode(T){v.channelCountMode=T,o.channelCountMode=T,l.channelCountMode=T,a.channelCountMode=T,b.channelCountMode=T,u.channelCountMode=T},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(T){v.channelInterpretation=T,o.channelInterpretation=T,l.channelInterpretation=T,a.channelInterpretation=T,b.channelInterpretation=T,u.channelInterpretation=T},get context(){return l.context},get curve(){return h},set curve(T){if(T!==null&&T.length<2)throw r();if(T===null)l.curve=T,b.curve=T;else{const k=T.length,M=new Float32Array(k+2-k%2),O=new Float32Array(k+2-k%2);M[0]=T[0],O[0]=-T[k-1];const L=Math.ceil((k+1)/2),F=(k+1)/2-1;for(let D=1;D<L;D+=1){const V=D/L*F,P=Math.floor(V),G=Math.ceil(V);M[D]=P===G?T[P]:(1-(V-P))*T[P]+(1-(G-V))*T[G],O[D]=P===G?-T[k-1-P]:-((1-(V-P))*T[k-1-P])-(1-(G-V))*T[k-1-G]}M[L]=k%2===1?T[L-1]:(T[L-2]+T[L-1])/2,l.curve=M,b.curve=O}h=T,y&&(t(h)&&c===null?c=R(w,v):c!==null&&(c(),c=null))},get inputs(){return[v]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(T){l.oversample=T,b.oversample=T},addEventListener(...T){return v.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return v.dispatchEvent(T[0])},removeEventListener(...T){return v.removeEventListener(T[0],T[1],T[2])}};f!==null&&(d.curve=f instanceof Float32Array?f:new Float32Array(f)),p!==d.oversample&&(d.oversample=p);const x=()=>{v.connect(l).connect(a),v.connect(o).connect(b).connect(u).connect(a),y=!0,t(h)&&(c=R(w,v))},_=()=>{v.disconnect(l),l.disconnect(a),v.disconnect(o),o.disconnect(b),b.disconnect(u),u.disconnect(a),y=!1,c!==null&&(c(),c=null)};return j($a(d,a),x,_)},qn=()=>new DOMException("","NotSupportedError"),Yw={numberOfChannels:1},Zw=(R,r,m,t,j)=>class extends R{constructor(f,p,i){let l;if(typeof f=="number"&&p!==void 0&&i!==void 0)l={length:p,numberOfChannels:f,sampleRate:i};else if(typeof f=="object")l=f;else throw new Error("The given parameters are not valid.");const{length:b,numberOfChannels:v,sampleRate:o}={...Yw,...l},a=t(v,b,o);r(gu,()=>gu(a))||a.addEventListener("statechange",(()=>{let u=0;const c=y=>{this._state==="running"&&(u>0?(a.removeEventListener("statechange",c),y.stopImmediatePropagation(),this._waitForThePromiseToSettle(y)):u+=1)};return c})()),super(a,v),this._length=b,this._nativeOfflineAudioContext=a,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(m()):(this._state="running",j(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,m0(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},Qw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Kw=(R,r,m,t,j,w,f)=>class extends R{constructor(i,l){const b=j(i),v={...Qw,...l},o=m(b,v),a=w(b),u=a?t():null,c=i.sampleRate/2;super(i,!1,o,u),this._detune=r(this,a,o.detune,153600,-153600),this._frequency=r(this,a,o.frequency,c,-c),this._nativeOscillatorNode=o,this._onended=null,this._oscillatorNodeRenderer=u,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(i){const l=typeof i=="function"?f(this,i):null;this._nativeOscillatorNode.onended=l;const b=this._nativeOscillatorNode.onended;this._onended=b!==null&&b===l?i:b}get type(){return this._nativeOscillatorNode.type}set type(i){this._nativeOscillatorNode.type=i,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(i){this._nativeOscillatorNode.setPeriodicWave(i),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=i)}start(i=0){if(this._nativeOscillatorNode.start(i),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=i),this.context.state!=="closed"){Ha(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),Ti(this)&&ju(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(i=0){this._nativeOscillatorNode.stop(i),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=i)}},Jw=(R,r,m,t,j)=>()=>{const w=new WeakMap;let f=null,p=null,i=null;const l=async(b,v)=>{let o=m(b);const a=Rn(o,v);if(!a){const u={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,detune:o.detune.value,frequency:o.frequency.value,periodicWave:f===null?void 0:f,type:o.type};o=r(v,u),p!==null&&o.start(p),i!==null&&o.stop(i)}return w.set(v,o),a?(await R(v,b.detune,o.detune),await R(v,b.frequency,o.frequency)):(await t(v,b.detune,o.detune),await t(v,b.frequency,o.frequency)),await j(b,v,o),o};return{set periodicWave(b){f=b},set start(b){p=b},set stop(b){i=b},render(b,v){const o=w.get(v);return o!==void 0?Promise.resolve(o):l(b,v)}}},$w={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},e2=(R,r,m,t,j,w,f)=>class extends R{constructor(i,l){const b=j(i),v={...$w,...l},o=m(b,v),a=w(b),u=a?t():null;super(i,!1,o,u),this._nativePannerNode=o,this._orientationX=r(this,a,o.orientationX,Fn,os),this._orientationY=r(this,a,o.orientationY,Fn,os),this._orientationZ=r(this,a,o.orientationZ,Fn,os),this._positionX=r(this,a,o.positionX,Fn,os),this._positionY=r(this,a,o.positionY,Fn,os),this._positionZ=r(this,a,o.positionZ,Fn,os),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(i){this._nativePannerNode.coneInnerAngle=i}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(i){this._nativePannerNode.coneOuterAngle=i}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(i){this._nativePannerNode.coneOuterGain=i}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(i){this._nativePannerNode.distanceModel=i}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(i){this._nativePannerNode.maxDistance=i}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(i){this._nativePannerNode.panningModel=i}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(i){this._nativePannerNode.refDistance=i}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(i){this._nativePannerNode.rolloffFactor=i}},t2=(R,r,m,t,j,w,f,p,i,l)=>()=>{const b=new WeakMap;let v=null;const o=async(a,u)=>{let c=null,y=w(a);const h={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation},d={...h,coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,panningModel:y.panningModel,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor},x=Rn(y,u);if("bufferSize"in y)c=t(u,{...h,gain:1});else if(!x){const _={...d,orientationX:y.orientationX.value,orientationY:y.orientationY.value,orientationZ:y.orientationZ.value,positionX:y.positionX.value,positionY:y.positionY.value,positionZ:y.positionZ.value};y=j(u,_)}if(b.set(u,c===null?y:c),c!==null){if(v===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const D=new f(6,a.context.length,u.sampleRate),V=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});V.connect(D.destination),v=(async()=>{const P=await Promise.all([a.orientationX,a.orientationY,a.orientationZ,a.positionX,a.positionY,a.positionZ].map(async(G,z)=>{const q=m(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z===0?1:0});return await p(D,G,q.offset),q}));for(let G=0;G<6;G+=1)P[G].connect(V,0,G),P[G].start(0);return l(D)})()}const _=await v,T=t(u,{...h,gain:1});await i(a,u,T);const k=[];for(let D=0;D<_.numberOfChannels;D+=1)k.push(_.getChannelData(D));let M=[k[0][0],k[1][0],k[2][0]],O=[k[3][0],k[4][0],k[5][0]],L=t(u,{...h,gain:1}),F=j(u,{...d,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:O[0],positionY:O[1],positionZ:O[2]});T.connect(L).connect(F.inputs[0]),F.connect(c);for(let D=128;D<_.length;D+=128){const V=[k[0][D],k[1][D],k[2][D]],P=[k[3][D],k[4][D],k[5][D]];if(V.some((G,z)=>G!==M[z])||P.some((G,z)=>G!==O[z])){M=V,O=P;const G=D/u.sampleRate;L.gain.setValueAtTime(0,G),L=t(u,{...h,gain:0}),F=j(u,{...d,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:O[0],positionY:O[1],positionZ:O[2]}),L.gain.setValueAtTime(1,G),T.connect(L).connect(F.inputs[0]),F.connect(c)}}return c}return x?(await R(u,a.orientationX,y.orientationX),await R(u,a.orientationY,y.orientationY),await R(u,a.orientationZ,y.orientationZ),await R(u,a.positionX,y.positionX),await R(u,a.positionY,y.positionY),await R(u,a.positionZ,y.positionZ)):(await p(u,a.orientationX,y.orientationX),await p(u,a.orientationY,y.orientationY),await p(u,a.orientationZ,y.orientationZ),await p(u,a.positionX,y.positionX),await p(u,a.positionY,y.positionY),await p(u,a.positionZ,y.positionZ)),Ja(y)?await i(a,u,y.inputs[0]):await i(a,u,y),y};return{render(a,u){const c=b.get(u);return c!==void 0?Promise.resolve(c):o(a,u)}}},r2={disableNormalization:!1},n2=(R,r,m,t)=>class T0{constructor(w,f){const p=r(w),i=t({...r2,...f}),l=R(p,i);return m.add(l),l}static[Symbol.hasInstance](w){return w!==null&&typeof w=="object"&&Object.getPrototypeOf(w)===T0.prototype||m.has(w)}},s2=(R,r)=>(m,t,j)=>(R(t).replay(j),r(t,m,j)),i2=(R,r,m)=>async(t,j,w)=>{const f=R(t);await Promise.all(f.activeInputs.map((p,i)=>Array.from(p).map(async([l,b])=>{const o=await r(l).render(l,j),a=t.context.destination;!m(l)&&(t!==a||!m(t))&&o.connect(w,b,i)})).reduce((p,i)=>[...p,...i],[]))},o2=(R,r,m)=>async(t,j,w)=>{const f=r(t);await Promise.all(Array.from(f.activeInputs).map(async([p,i])=>{const b=await R(p).render(p,j);m(p)||b.connect(w,i)}))},a2=(R,r,m,t)=>j=>R(gu,()=>gu(j))?Promise.resolve(R(t,t)).then(w=>{if(!w){const f=m(j,512,0,1);j.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>j.currentTime,f.connect(j.destination)}return j.startRendering()}):new Promise(w=>{const f=r(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});j.oncomplete=p=>{f.disconnect(),w(p.renderedBuffer)},f.connect(j.destination),j.startRendering()}),l2=R=>(r,m)=>{R.set(r,m)},u2=R=>(r,m)=>R.set(r,m),c2=(R,r,m,t,j,w,f,p)=>(i,l)=>m(i).render(i,l).then(()=>Promise.all(Array.from(t(l)).map(b=>m(b).render(b,l)))).then(()=>j(l)).then(b=>(typeof b.copyFromChannel!="function"?(f(b),fp(b)):r(w,()=>w(b))||p(b),R.add(b),b)),h2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},d2=(R,r,m,t,j,w)=>class extends R{constructor(p,i){const l=j(p),b={...h2,...i},v=m(l,b),o=w(l),a=o?t():null;super(p,!1,v,a),this._pan=r(this,o,v.pan)}get pan(){return this._pan}},f2=(R,r,m,t,j)=>()=>{const w=new WeakMap,f=async(p,i)=>{let l=m(p);const b=Rn(l,i);if(!b){const v={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=r(i,v)}return w.set(i,l),b?await R(i,p.pan,l.pan):await t(i,p.pan,l.pan),Ja(l)?await j(p,i,l.inputs[0]):await j(p,i,l),l};return{render(p,i){const l=w.get(i);return l!==void 0?Promise.resolve(l):f(p,i)}}},p2=R=>()=>{if(R===null)return!1;try{new R({length:1,sampleRate:44100})}catch{return!1}return!0},m2=R=>()=>{if(R===null)return!1;const m=new R(1,1,44100).createBuffer(1,1,44100);if(m.copyToChannel===void 0)return!0;const t=new Float32Array(2);try{m.copyFromChannel(t,0,0)}catch{return!1}return!0},y2=R=>()=>{if(R===null)return!1;if(R.prototype!==void 0&&R.prototype.close!==void 0)return!0;const r=new R,m=r.close!==void 0;try{r.close()}catch{}return m},g2=R=>()=>{if(R===null)return Promise.resolve(!1);const r=new R(1,1,44100);return new Promise(m=>{let t=!0;const j=f=>{t&&(t=!1,r.startRendering(),m(f instanceof TypeError))};let w;try{w=r.decodeAudioData(null,()=>{},j)}catch(f){j(f)}w!==void 0&&w.catch(j)})},v2=R=>()=>{if(R===null)return!1;let r;try{r=new R({latencyHint:"balanced"})}catch{return!1}return r.close(),!0},b2=R=>()=>{if(R===null)return!1;const m=new R(1,1,44100).createGain(),t=m.connect(m)===m;return m.disconnect(m),t},_2=(R,r)=>async()=>{if(R===null)return!0;if(r===null)return!1;const m=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),t=new MessageChannel,j=new r(1,128,44100),w=URL.createObjectURL(m);let f=!1;try{await j.audioWorklet.addModule(w);const p=new R(j,"a",{numberOfOutputs:0}),i=j.createOscillator();await new Promise(l=>{p.port.onmessage=()=>l(),p.port.postMessage(t.port2,[t.port2])}),p.port.onmessage=()=>f=!0,i.connect(p),i.start(0),await j.startRendering(),f=await new Promise(l=>{t.port1.onmessage=({data:b})=>l(b===1),t.port1.postMessage(0)})}catch{}finally{t.port1.close(),URL.revokeObjectURL(w)}return f},x2=(R,r)=>async()=>{if(R===null)return!0;if(r===null)return!1;const m=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),t=new r(1,128,44100),j=URL.createObjectURL(m);let w=!1,f=!1;try{await t.audioWorklet.addModule(j);const p=new R(t,"a",{numberOfOutputs:0}),i=t.createOscillator();p.port.onmessage=()=>w=!0,p.onprocessorerror=()=>f=!0,i.connect(p),i.start(0),await t.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(j)}return w&&!f},w2=R=>()=>{if(R===null)return!1;const m=new R(1,1,44100).createChannelMerger();if(m.channelCountMode==="max")return!0;try{m.channelCount=2}catch{return!0}return!1},S2=R=>()=>{if(R===null)return!1;const r=new R(1,1,44100);return r.createConstantSource===void 0?!0:r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY},j2=R=>()=>{if(R===null)return!1;const r=new R(1,1,44100),m=r.createConvolver();m.buffer=r.createBuffer(1,1,r.sampleRate);try{m.buffer=r.createBuffer(1,1,r.sampleRate)}catch{return!1}return!0},T2=R=>()=>{if(R===null)return!1;const m=new R(1,1,44100).createConvolver();try{m.channelCount=1}catch{return!1}return!0},E2=R=>()=>R!==null&&R.hasOwnProperty("isSecureContext"),M2=R=>()=>{if(R===null)return!1;const r=new R;try{return r.createMediaStreamSource(new MediaStream),!1}catch{return!0}finally{r.close()}},O2=(R,r)=>()=>{if(r===null)return Promise.resolve(!1);const m=new r(1,1,44100),t=R(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(j=>{m.oncomplete=()=>{t.disconnect(),j(m.currentTime!==0)},m.startRendering()})},A2=R=>()=>{if(R===null)return Promise.resolve(!1);const r=new R(1,1,44100);if(r.createStereoPanner===void 0||r.createConstantSource===void 0)return Promise.resolve(!0);const m=r.createConstantSource(),t=r.createStereoPanner();return m.channelCount=1,m.offset.value=1,t.channelCount=1,m.start(),m.connect(t).connect(r.destination),r.startRendering().then(j=>j.getChannelData(0)[0]!==1)},k2=()=>new DOMException("","UnknownError"),C2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},D2=(R,r,m,t,j,w,f)=>class extends R{constructor(i,l){const b=j(i),v={...C2,...l},o=m(b,v),u=w(b)?t():null;super(i,!0,o,u),this._isCurveNullified=!1,this._nativeWaveShaperNode=o,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(i){if(i===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(i.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=i}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(i){this._nativeWaveShaperNode.oversample=i}},R2=(R,r,m)=>()=>{const t=new WeakMap,j=async(w,f)=>{let p=r(w);if(!Rn(p,f)){const l={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,curve:p.curve,oversample:p.oversample};p=R(f,l)}return t.set(f,p),Ja(p)?await m(w,f,p.inputs[0]):await m(w,f,p),p};return{render(w,f){const p=t.get(f);return p!==void 0?Promise.resolve(p):j(w,f)}}},L2=()=>typeof window>"u"?null:window,N2=(R,r)=>m=>{m.copyFromChannel=(t,j,w=0)=>{const f=R(w),p=R(j);if(p>=m.numberOfChannels)throw r();const i=m.length,l=m.getChannelData(p),b=t.length;for(let v=f<0?-f:0;v+f<i&&v<b;v+=1)t[v]=l[v+f]},m.copyToChannel=(t,j,w=0)=>{const f=R(w),p=R(j);if(p>=m.numberOfChannels)throw r();const i=m.length,l=m.getChannelData(p),b=t.length;for(let v=f<0?-f:0;v+f<i&&v<b;v+=1)l[v+f]=t[v]}},P2=R=>r=>{r.copyFromChannel=(m=>(t,j,w=0)=>{const f=R(w),p=R(j);if(f<r.length)return m.call(r,t,p,f)})(r.copyFromChannel),r.copyToChannel=(m=>(t,j,w=0)=>{const f=R(w),p=R(j);if(f<r.length)return m.call(r,t,p,f)})(r.copyToChannel)},I2=R=>(r,m)=>{const t=m.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=t),R(r,"buffer",j=>()=>{const w=j.call(r);return w===t?null:w},j=>w=>j.call(r,w===null?t:w))},F2=(R,r)=>(m,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw R()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw R()}});const j=m.createBufferSource();r(t,()=>{const p=t.numberOfInputs;for(let i=0;i<p;i+=1)j.connect(t,0,i)},()=>j.disconnect(t))},E0=(R,r,m)=>R.copyFromChannel===void 0?R.getChannelData(m)[0]:(R.copyFromChannel(r,m),r[0]),M0=R=>{if(R===null)return!1;const r=R.length;return r%2!==0?R[Math.floor(r/2)]!==0:R[r/2-1]+R[r/2]!==0},Au=(R,r,m,t)=>{let j=R;for(;!j.hasOwnProperty(r);)j=Object.getPrototypeOf(j);const{get:w,set:f}=Object.getOwnPropertyDescriptor(j,r);Object.defineProperty(R,r,{get:m(w),set:t(f)})},U2=R=>({...R,outputChannelCount:R.outputChannelCount!==void 0?R.outputChannelCount:R.numberOfInputs===1&&R.numberOfOutputs===1?[R.channelCount]:Array.from({length:R.numberOfOutputs},()=>1)}),B2=R=>({...R,channelCount:R.numberOfOutputs}),V2=R=>{const{imag:r,real:m}=R;return r===void 0?m===void 0?{...R,imag:[0,0],real:[0,0]}:{...R,imag:Array.from(m,()=>0),real:m}:m===void 0?{...R,imag:r,real:Array.from(r,()=>0)}:{...R,imag:r,real:m}},O0=(R,r,m)=>{try{R.setValueAtTime(r,m)}catch(t){if(t.code!==9)throw t;O0(R,r,m+1e-7)}},G2=R=>{const r=R.createBufferSource();r.start();try{r.start()}catch{return!0}return!1},z2=R=>{const r=R.createBufferSource(),m=R.createBuffer(1,1,44100);r.buffer=m;try{r.start(0,1)}catch{return!1}return!0},q2=R=>{const r=R.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0},vp=R=>{const r=R.createOscillator();try{r.start(-1)}catch(m){return m instanceof RangeError}return!1},A0=R=>{const r=R.createBuffer(1,1,44100),m=R.createBufferSource();m.buffer=r,m.start(),m.stop();try{return m.stop(),!0}catch{return!1}},bp=R=>{const r=R.createOscillator();try{r.stop(-1)}catch(m){return m instanceof RangeError}return!1},H2=R=>{const{port1:r,port2:m}=new MessageChannel;try{r.postMessage(R)}finally{r.close(),m.close()}},W2=()=>{try{new DOMException}catch{return!1}return!0},X2=()=>new Promise(R=>{const r=new ArrayBuffer(0),{port1:m,port2:t}=new MessageChannel;m.onmessage=({data:j})=>R(j!==null),t.postMessage(r,[r])}),Y2=R=>{R.start=(r=>(m=0,t=0,j)=>{const w=R.buffer,f=w===null?t:Math.min(w.duration,t);w!==null&&f>w.duration-.5/R.context.sampleRate?r.call(R,m,0,0):r.call(R,m,f,j)})(R.start)},k0=(R,r)=>{const m=r.createGain();R.connect(m);const t=(j=>()=>{j.call(R,m),R.removeEventListener("ended",t)})(R.disconnect);R.addEventListener("ended",t),$a(R,m),R.stop=(j=>{let w=!1;return(f=0)=>{if(w)try{j.call(R,f)}catch{m.gain.setValueAtTime(0,f)}else j.call(R,f),w=!0}})(R.stop)},el=(R,r)=>m=>{const t={value:R};return Object.defineProperties(m,{currentTarget:t,target:t}),typeof r=="function"?r.call(R,m):r.handleEvent.call(R,m)},Z2=$1(ea),Q2=i_(ea),K2=gx(Ah),C0=new WeakMap,J2=Nx(C0),ks=X_(new Map,new WeakMap),Fs=L2(),D0=dw(ks,ei),_p=Lx(Bn),Mn=i2(Bn,_p,Jo),$2=c_(D0,jr,Mn),wr=Fx(Oh),pn=Uw(Fs),pr=tw(pn),R0=new WeakMap,L0=Mx(el),co=yw(Fs),xp=Kx(co),wp=Jx(Fs),N0=$x(Fs),Wa=vw(Fs),Wr=N_(e_(l0),s_(Z2,Q2,vh,K2,bh,Bn,J2,Su,jr,ea,Ti,Jo,dh),ks,Wx(Qf,bh,Bn,jr,yu,Ti),ei,kh,qn,fx(vh,Qf,Bn,jr,yu,wr,Ti,pr),_x(R0,Bn,Is),L0,wr,xp,wp,N0,pr,Wa),eS=u_(Wr,$2,ei,D0,wr,pr),Sp=new WeakSet,Xv=fw(Fs),P0=ox(new Uint32Array(1)),jp=N2(P0,ei),Tp=P2(P0),I0=d_(Sp,ks,qn,Xv,pn,p2(Xv),jp,Tp),Ch=o_(Jn),F0=o2(_p,Tu,Jo),ti=ex(F0),tl=mw(Ch,ks,G2,z2,q2,vp,A0,bp,Y2,I2(Au),k0),ri=s2(Px(Tu),F0),tS=m_(ti,tl,jr,ri,Mn),Bs=P_(t_(u0),R0,dp,I_,X1,Y1,Z1,Q1,K1,Xf,o0,co,O0),rS=p_(Wr,tS,Bs,mn,tl,wr,pr,el),nS=j_(Wr,T_,ei,mn,gw(Jn,Au),wr,pr,Mn),sS=W_(ti,S0,jr,ri,Mn),ta=u2(C0),iS=H_(Wr,Bs,sS,kh,S0,wr,pr,ta),yo=cw(ea,wp),oS=F2(mn,yo),go=Tw(co,oS),aS=Q_(go,jr,Mn),lS=Z_(Wr,aS,go,wr,pr),uS=$_(Mu,jr,Mn),cS=J_(Wr,uS,Mu,wr,pr,B2),hS=Ow(Ch,tl,Jn,yo),rl=Mw(Ch,ks,hS,vp,bp),dS=ix(ti,rl,jr,ri,Mn),fS=sx(Wr,Bs,dS,rl,wr,pr,el),U0=Aw(qn,Au),pS=ux(U0,jr,Mn),mS=lx(Wr,pS,U0,wr,pr,ta),yS=yx(ti,j0,jr,ri,Mn),gS=mx(Wr,Bs,yS,j0,wr,pr,ta),B0=kw(qn),vS=jx(ti,B0,jr,ri,Mn),bS=Sx(Wr,Bs,vS,B0,qn,wr,pr,ta),_S=Dx(ti,Jn,jr,ri,Mn),xS=Cx(Wr,Bs,_S,Jn,wr,pr),wS=Lw(kh,mn,Ou,qn),Dh=a2(ks,Jn,Ou,O2(Jn,pn)),SS=Hx(tl,jr,pn,Mn,Dh),jS=Cw(wS),TS=zx(Wr,jS,SS,wr,pr,ta),ES=E_(Bs,go,rl,Ou,qn,E0,pr,Au),V0=new WeakMap,MS=uw(nS,ES,L0,pr,V0,el),G0=Bw(Ch,ks,vp,A0,bp,k0),OS=Jw(ti,G0,jr,ri,Mn),AS=Kw(Wr,Bs,G0,OS,wr,pr,el),z0=rx(tl),kS=Xw(z0,mn,Jn,M0,yo),Rh=Ww(z0,mn,kS,M0,yo,co,Au),CS=Gw(vh,mn,go,Jn,Ou,Rh,qn,bh,E0,yo),q0=Vw(CS),DS=t2(ti,go,rl,Jn,q0,jr,pn,ri,Mn,Dh),RS=e2(Wr,Bs,q0,DS,wr,pr,ta),LS=zw(ei),NS=n2(LS,wr,new WeakSet,V2),PS=Hw(go,Mu,Jn,Rh,qn,yo),H0=qw(PS,qn),IS=f2(ti,H0,jr,ri,Mn),FS=d2(Wr,Bs,H0,IS,wr,pr),US=R2(Rh,jr,Mn),BS=D2(Wr,mn,Rh,US,wr,pr,ta),W0=rw(Fs),Ep=Ox(Fs),X0=new WeakMap,VS=Ux(X0,pn),GS=W0?n_(ks,qn,Ex(Fs),Ep,Ax(J1),wr,VS,pr,Wa,new WeakMap,new WeakMap,x2(Wa,pn),Fs):void 0,zS=ew(xp,pr),qS=dx(Sp,ks,hx,Tx,new WeakSet,wr,zS,yh,gu,jp,Tp),Y0=z_(GS,eS,I0,rS,iS,lS,cS,fS,mS,qS,gS,bS,xS,TS,MS,AS,RS,NS,FS,BS),HS=sw(Wr,Nw,wr,pr),WS=ow(Wr,Pw,wr,pr),XS=aw(Wr,Iw,wr,pr),YS=Fw(mn,pr),ZS=lw(Wr,YS,wr),QS=S_(Y0,mn,qn,k2,HS,WS,XS,ZS,co),Mp=Bx(V0),KS=a_(Mp),Z0=tx(ei),JS=vx(Mp),Q0=xx(ei),K0=new WeakMap,$S=Rx(K0,Is),ej=jw(Z0,ei,mn,go,Mu,rl,Jn,Ou,qn,Q0,Ep,$S,yo),tj=_w(mn,ej,Jn,qn,yo),rj=G_(ti,Z0,tl,go,Mu,rl,Jn,JS,Q0,Ep,jr,Wa,pn,ri,Mn,Dh),nj=Ix(X0),sj=l2(K0),Yv=W0?U_(KS,Wr,Bs,rj,tj,Bn,nj,wr,pr,Wa,U2,sj,H2,el):void 0,ij=cx(qn,pn),oj=c2(Sp,ks,_p,Mp,Dh,yh,jp,Tp),aj=Zw(Y0,ks,mn,ij,oj),lj=Xx(Oh,xp),uj=Yx(hp,wp),cj=Zx(dp,N0),hj=Qx(Oh,pr),dj=()=>nw(ks,m2(pn),y2(co),g2(pn),v2(co),b2(pn),_2(Wa,pn),w2(pn),S2(pn),j2(pn),T2(pn),W2,E2(Fs),M2(co),A2(pn),X2);function Kn(R){return R===void 0}function Ut(R){return R!==void 0}function J0(R){return typeof R=="function"}function ds(R){return typeof R=="number"}function Ei(R){return Object.prototype.toString.call(R)==="[object Object]"&&R.constructor===Object}function Op(R){return typeof R=="boolean"}function Tn(R){return Array.isArray(R)}function Us(R){return typeof R=="string"}function pu(R){return Us(R)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(R)}function wt(R,r){if(!R)throw new Error(r)}function wn(R,r,m=1/0){if(!(r<=R&&R<=m))throw new RangeError(`Value must be within [${r}, ${m}], got: ${R}`)}function Ap(R){!R.isOffline&&R.state!=="running"&&nl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let $0=!1,Zv=!1;function tp(R){$0=R}function eb(R){Kn(R)&&$0&&!Zv&&(Zv=!0,nl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let kp=console;function fj(R){kp=R}function tb(...R){kp.log(...R)}function nl(...R){kp.warn(...R)}const pj=Object.freeze(Object.defineProperty({__proto__:null,assert:wt,assertContextRunning:Ap,assertRange:wn,assertUsedScheduleTime:eb,enterScheduledCallback:tp,log:tb,setLogger:fj,warn:nl},Symbol.toStringTag,{value:"Module"}));function mj(R){return new QS(R)}function yj(R,r,m){return new aj(R,r,m)}const Un=typeof self=="object"?self:null,gj=Un&&(Un.hasOwnProperty("AudioContext")||Un.hasOwnProperty("webkitAudioContext"));function vj(R,r,m){return wt(Ut(Yv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(R instanceof(Un==null?void 0:Un.BaseAudioContext)?Un==null?void 0:Un.AudioWorkletNode:Yv)(R,r,m)}function Vs(R,r,m,t){var j=arguments.length,w=j<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,m):t,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(R,r,m,t);else for(var p=R.length-1;p>=0;p--)(f=R[p])&&(w=(j<3?f(w):j>3?f(r,m,w):f(r,m))||w);return j>3&&w&&Object.defineProperty(r,m,w),w}function vr(R,r,m,t){function j(w){return w instanceof m?w:new m(function(f){f(w)})}return new(m||(m=Promise))(function(w,f){function p(b){try{l(t.next(b))}catch(v){f(v)}}function i(b){try{l(t.throw(b))}catch(v){f(v)}}function l(b){b.done?w(b.value):j(b.value).then(p,i)}l((t=t.apply(R,r||[])).next())})}class bj{constructor(r,m,t,j){this._callback=r,this._type=m,this._minimumUpdateInterval=Math.max(128/(j||44100),.001),this.updateInterval=t,this._createClock()}_createWorker(){const r=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),m=URL.createObjectURL(r),t=new Worker(m);t.onmessage=this._callback.bind(this),this._worker=t}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(r){var m;this._updateInterval=Math.max(r,this._minimumUpdateInterval),this._type==="worker"&&((m=this._worker)===null||m===void 0||m.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(r){this._disposeClock(),this._type=r,this._createClock()}dispose(){this._disposeClock()}}function $o(R){return cj(R)}function ho(R){return uj(R)}function fh(R){return hj(R)}function Va(R){return lj(R)}function _j(R){return R instanceof I0}function xj(R,r){return R==="value"||$o(r)||ho(r)||_j(r)}function Ms(R,...r){if(!r.length)return R;const m=r.shift();if(Ei(R)&&Ei(m))for(const t in m)xj(t,m[t])?R[t]=m[t]:Ei(m[t])?(R[t]||Object.assign(R,{[t]:{}}),Ms(R[t],m[t])):Object.assign(R,{[t]:m[t]});return Ms(R,...r)}function wj(R,r){return R.length===r.length&&R.every((m,t)=>r[t]===m)}function $e(R,r,m=[],t){const j={},w=Array.from(r);if(Ei(w[0])&&t&&!Reflect.has(w[0],t)&&(Object.keys(w[0]).some(p=>Reflect.has(R,p))||(Ms(j,{[t]:w[0]}),m.splice(m.indexOf(t),1),w.shift())),w.length===1&&Ei(w[0]))Ms(j,w[0]);else for(let f=0;f<m.length;f++)Ut(w[f])&&(j[m[f]]=w[f]);return Ms(R,j)}function Sj(R){return R.constructor.getDefaults()}function Os(R,r){return Kn(R)?r:R}function Sn(R,r){return r.forEach(m=>{Reflect.has(R,m)&&delete R[m]}),R}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */let ki=class{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...r){(this.debug||Un&&this.toString()===Un.TONE_DEBUG_CLASS)&&tb(this,...r)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}};ki.version=up;const Cp=1e-6;function Xa(R,r){return R>r+Cp}function rp(R,r){return Xa(R,r)||Ps(R,r)}function Sh(R,r){return R+Cp<r}function Ps(R,r){return Math.abs(R-r)<Cp}function ra(R,r,m){return Math.max(Math.min(R,m),r)}class cs extends ki{constructor(){super(),this.name="Timeline",this._timeline=[];const r=$e(cs.getDefaults(),arguments,["memory"]);this.memory=r.memory,this.increasing=r.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(r){if(wt(Reflect.has(r,"time"),"Timeline: events must have a time attribute"),r.time=r.time.valueOf(),this.increasing&&this.length){const m=this._timeline[this.length-1];wt(rp(r.time,m.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(r)}else{const m=this._search(r.time);this._timeline.splice(m+1,0,r)}if(this.length>this.memory){const m=this.length-this.memory;this._timeline.splice(0,m)}return this}remove(r){const m=this._timeline.indexOf(r);return m!==-1&&this._timeline.splice(m,1),this}get(r,m="time"){const t=this._search(r,m);return t!==-1?this._timeline[t]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(r,m="time"){const t=this._search(r,m);return t+1<this._timeline.length?this._timeline[t+1]:null}getBefore(r){const m=this._timeline.length;if(m>0&&this._timeline[m-1].time<r)return this._timeline[m-1];const t=this._search(r);return t-1>=0?this._timeline[t-1]:null}cancel(r){if(this._timeline.length>1){let m=this._search(r);if(m>=0)if(Ps(this._timeline[m].time,r)){for(let t=m;t>=0&&Ps(this._timeline[t].time,r);t--)m=t;this._timeline=this._timeline.slice(0,m)}else this._timeline=this._timeline.slice(0,m+1);else this._timeline=[]}else this._timeline.length===1&&rp(this._timeline[0].time,r)&&(this._timeline=[]);return this}cancelBefore(r){const m=this._search(r);return m>=0&&(this._timeline=this._timeline.slice(m+1)),this}previousEvent(r){const m=this._timeline.indexOf(r);return m>0?this._timeline[m-1]:null}_search(r,m="time"){if(this._timeline.length===0)return-1;let t=0;const j=this._timeline.length;let w=j;if(j>0&&this._timeline[j-1][m]<=r)return j-1;for(;t<w;){let f=Math.floor(t+(w-t)/2);const p=this._timeline[f],i=this._timeline[f+1];if(Ps(p[m],r)){for(let l=f;l<this._timeline.length;l++){const b=this._timeline[l];if(Ps(b[m],r))f=l;else break}return f}else{if(Sh(p[m],r)&&Xa(i[m],r))return f;Xa(p[m],r)?w=f:t=f+1}}return-1}_iterate(r,m=0,t=this._timeline.length-1){this._timeline.slice(m,t+1).forEach(r)}forEach(r){return this._iterate(r),this}forEachBefore(r,m){const t=this._search(r);return t!==-1&&this._iterate(m,0,t),this}forEachAfter(r,m){const t=this._search(r);return this._iterate(m,t+1),this}forEachBetween(r,m,t){let j=this._search(r),w=this._search(m);return j!==-1&&w!==-1?(this._timeline[j].time!==r&&(j+=1),this._timeline[w].time===m&&(w-=1),this._iterate(t,j,w)):j===-1&&this._iterate(t,0,w),this}forEachFrom(r,m){let t=this._search(r);for(;t>=0&&this._timeline[t].time>=r;)t--;return this._iterate(m,t+1),this}forEachAtTime(r,m){const t=this._search(r);if(t!==-1&&Ps(this._timeline[t].time,r)){let j=t;for(let w=t;w>=0&&Ps(this._timeline[w].time,r);w--)j=w;this._iterate(w=>{m(w)},j,t)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const rb=[];function Lh(R){rb.push(R)}function jj(R){rb.forEach(r=>r(R))}const nb=[];function Nh(R){nb.push(R)}function Tj(R){nb.forEach(r=>r(R))}class sl extends ki{constructor(){super(...arguments),this.name="Emitter"}on(r,m){return r.split(/\W+/).forEach(j=>{Kn(this._events)&&(this._events={}),this._events.hasOwnProperty(j)||(this._events[j]=[]),this._events[j].push(m)}),this}once(r,m){const t=(...j)=>{m(...j),this.off(r,t)};return this.on(r,t),this}off(r,m){return r.split(/\W+/).forEach(j=>{if(Kn(this._events)&&(this._events={}),this._events.hasOwnProperty(j))if(Kn(m))this._events[j]=[];else{const w=this._events[j];for(let f=w.length-1;f>=0;f--)w[f]===m&&w.splice(f,1)}}),this}emit(r,...m){if(this._events&&this._events.hasOwnProperty(r)){const t=this._events[r].slice(0);for(let j=0,w=t.length;j<w;j++)t[j].apply(this,m)}return this}static mixin(r){["on","once","off","emit"].forEach(m=>{const t=Object.getOwnPropertyDescriptor(sl.prototype,m);Object.defineProperty(r.prototype,m,t)})}dispose(){return super.dispose(),this._events=void 0,this}}class Dp extends sl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class il extends Dp{constructor(){var r,m;super(),this.name="Context",this._constants=new Map,this._timeouts=new cs,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const t=$e(il.getDefaults(),arguments,["context"]);t.context?(this._context=t.context,this._latencyHint=((r=arguments[0])===null||r===void 0?void 0:r.latencyHint)||""):(this._context=mj({latencyHint:t.latencyHint}),this._latencyHint=t.latencyHint),this._ticker=new bj(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((m=arguments[0])===null||m===void 0)&&m.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(jj(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(r,m,t){return this._context.createBuffer(r,m,t)}createChannelMerger(r){return this._context.createChannelMerger(r)}createChannelSplitter(r){return this._context.createChannelSplitter(r)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(r){return this._context.createDelay(r)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(r,m){return this._context.createIIRFilter(r,m)}createPanner(){return this._context.createPanner()}createPeriodicWave(r,m,t){return this._context.createPeriodicWave(r,m,t)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(r){return wt(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(r)}createMediaElementSource(r){return wt(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(r)}createMediaStreamDestination(){return wt(Va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(r){return this._context.decodeAudioData(r)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(r){wt(!this._initialized,"The listener cannot be set after initialization."),this._listener=r}get transport(){return this.initialize(),this._transport}set transport(r){wt(!this._initialized,"The transport cannot be set after initialization."),this._transport=r}get draw(){return this.initialize(),this._draw}set draw(r){wt(!this._initialized,"Draw cannot be set after initialization."),this._draw=r}get destination(){return this.initialize(),this._destination}set destination(r){wt(!this._initialized,"The destination cannot be set after initialization."),this._destination=r}createAudioWorkletNode(r,m){return vj(this.rawContext,r,m)}addAudioWorkletModule(r){return vr(this,void 0,void 0,function*(){wt(Ut(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(r)),yield this._workletPromise})}workletsAreReady(){return vr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(r){this._ticker.updateInterval=r}get clockSource(){return this._ticker.type}set clockSource(r){this._ticker.type=r}get lookAhead(){return this._lookAhead}set lookAhead(r){this._lookAhead=r,this.updateInterval=r?r/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Va(this._context)?this._context.resume():Promise.resolve()}close(){return vr(this,void 0,void 0,function*(){Va(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Tj(this)})}getConstant(r){if(this._constants.has(r))return this._constants.get(r);{const m=this._context.createBuffer(1,128,this._context.sampleRate),t=m.getChannelData(0);for(let w=0;w<t.length;w++)t[w]=r;const j=this._context.createBufferSource();return j.channelCount=1,j.channelCountMode="explicit",j.buffer=m,j.loop=!0,j.start(0),this._constants.set(r,j),j}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(r=>this._constants[r].disconnect()),this.close(),this}_timeoutLoop(){const r=this.now();let m=this._timeouts.peek();for(;this._timeouts.length&&m&&m.time<=r;)m.callback(),this._timeouts.shift(),m=this._timeouts.peek()}setTimeout(r,m){this._timeoutIds++;const t=this.now();return this._timeouts.add({callback:r,id:this._timeoutIds,time:t+m}),this._timeoutIds}clearTimeout(r){return this._timeouts.forEach(m=>{m.id===r&&this._timeouts.remove(m)}),this}clearInterval(r){return this.clearTimeout(r)}setInterval(r,m){const t=++this._timeoutIds,j=()=>{const w=this.now();this._timeouts.add({callback:()=>{r(),j()},id:t,time:w+m})};return j(),t}}class Ej extends Dp{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(r,m,t){return{}}createChannelMerger(r){return{}}createChannelSplitter(r){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(r){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(r,m){return{}}createPanner(){return{}}createPeriodicWave(r,m,t){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(r){return{}}createMediaElementSource(r){return{}}createMediaStreamDestination(){return{}}decodeAudioData(r){return Promise.resolve({})}createAudioWorkletNode(r,m){return{}}get rawContext(){return{}}addAudioWorkletModule(r){return vr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(r,m){return 0}clearTimeout(r){return this}setInterval(r,m){return 0}clearInterval(r){return this}getConstant(r){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(r){}get destination(){return{}}set destination(r){}now(){return 0}immediate(){return 0}}function At(R,r){Tn(r)?r.forEach(m=>At(R,m)):Object.defineProperty(R,r,{enumerable:!0,writable:!1})}function ku(R,r){Tn(r)?r.forEach(m=>ku(R,m)):Object.defineProperty(R,r,{writable:!0})}const qt=()=>{};class Jt extends ki{constructor(){super(),this.name="ToneAudioBuffer",this.onload=qt;const r=$e(Jt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=r.reverse,this.onload=r.onload,Us(r.url)?this.load(r.url).catch(r.onerror):r.url&&this.set(r.url)}static getDefaults(){return{onerror:qt,onload:qt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Sr().sampleRate}set(r){return r instanceof Jt?r.loaded?this._buffer=r.get():r.onload=()=>{this.set(r),this.onload(this)}:this._buffer=r,this._reversed&&this._reverse(),this}get(){return this._buffer}load(r){return vr(this,void 0,void 0,function*(){const m=Jt.load(r).then(t=>{this.set(t),this.onload(this)});Jt.downloads.push(m);try{yield m}finally{const t=Jt.downloads.indexOf(m);Jt.downloads.splice(t,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(r){const m=Tn(r)&&r[0].length>0,t=m?r.length:1,j=m?r[0].length:r.length,w=Sr(),f=w.createBuffer(t,j,w.sampleRate),p=!m&&t===1?[r]:r;for(let i=0;i<t;i++)f.copyToChannel(p[i],i);return this._buffer=f,this}toMono(r){if(ds(r))this.fromArray(this.toArray(r));else{let m=new Float32Array(this.length);const t=this.numberOfChannels;for(let j=0;j<t;j++){const w=this.toArray(j);for(let f=0;f<w.length;f++)m[f]+=w[f]}m=m.map(j=>j/t),this.fromArray(m)}return this}toArray(r){if(ds(r))return this.getChannelData(r);if(this.numberOfChannels===1)return this.toArray(0);{const m=[];for(let t=0;t<this.numberOfChannels;t++)m[t]=this.getChannelData(t);return m}}getChannelData(r){return this._buffer?this._buffer.getChannelData(r):new Float32Array(0)}slice(r,m=this.duration){wt(this.loaded,"Buffer is not loaded");const t=Math.floor(r*this.sampleRate),j=Math.floor(m*this.sampleRate);wt(t<j,"The start time must be less than the end time");const w=j-t,f=Sr().createBuffer(this.numberOfChannels,w,this.sampleRate);for(let p=0;p<this.numberOfChannels;p++)f.copyToChannel(this.getChannelData(p).subarray(t,j),p);return new Jt(f)}_reverse(){if(this.loaded)for(let r=0;r<this.numberOfChannels;r++)this.getChannelData(r).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(r){this._reversed!==r&&(this._reversed=r,this._reverse())}static fromArray(r){return new Jt().fromArray(r)}static fromUrl(r){return vr(this,void 0,void 0,function*(){return yield new Jt().load(r)})}static load(r){return vr(this,void 0,void 0,function*(){const m=r.match(/\[([^\]\[]+\|.+)\]$/);if(m){const i=m[1].split("|");let l=i[0];for(const b of i)if(Jt.supportsType(b)){l=b;break}r=r.replace(m[0],l)}const t=Jt.baseUrl===""||Jt.baseUrl.endsWith("/")?Jt.baseUrl:Jt.baseUrl+"/",j=document.createElement("a");j.href=t+r,j.pathname=(j.pathname+j.hash).split("/").map(encodeURIComponent).join("/");const w=yield fetch(j.href);if(!w.ok)throw new Error(`could not load url: ${r}`);const f=yield w.arrayBuffer();return yield Sr().decodeAudioData(f)})}static supportsType(r){const m=r.split("."),t=m[m.length-1];return document.createElement("audio").canPlayType("audio/"+t)!==""}static loaded(){return vr(this,void 0,void 0,function*(){for(yield Promise.resolve();Jt.downloads.length;)yield Jt.downloads[0]})}}Jt.baseUrl="";Jt.downloads=[];class ol extends il{constructor(){super({clockSource:"offline",context:fh(arguments[0])?arguments[0]:yj(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:fh(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=fh(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(r){return vr(this,void 0,void 0,function*(){let m=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,m++;const t=Math.floor(this.sampleRate/128);r&&m%t===0&&(yield new Promise(j=>setTimeout(j,1)))}})}render(){return vr(this,arguments,void 0,function*(r=!0){yield this.workletsAreReady(),yield this._renderClock(r);const m=yield this._context.startRendering();return new Jt(m)})}close(){return Promise.resolve()}}const sb=new Ej;let Yo=sb;function Sr(){return Yo===sb&&gj&&jh(new il),Yo}function jh(R,r=!1){r&&Yo.dispose(),Va(R)?Yo=new il(R):fh(R)?Yo=new ol(R):Yo=R}function np(){return Yo.resume()}if(Un&&!Un.TONE_SILENCE_LOGGING){const r=` * Tone.js v${up} * `;console.log(`%c${r}`,"background: #000; color: #fff")}function Ya(R){return Math.pow(10,R/20)}function Cu(R){return 20*(Math.log(R)/Math.LN10)}function Za(R){return Math.pow(2,R/12)}let Ph=440;function Mj(){return Ph}function Oj(R){Ph=R}function uo(R){return Math.round(ib(R))}function ib(R){return 69+12*Math.log2(R/Ph)}function Rp(R){return Ph*Math.pow(2,(R-69)/12)}class Lp extends ki{constructor(r,m,t){super(),this.defaultUnits="s",this._val=m,this._units=t,this.context=r,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:r=>this._frequencyToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:r=>this._ticksToUnits(parseInt(r,10)),regexp:/^(\d+)i$/i},m:{method:r=>this._beatsToUnits(parseInt(r,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(r,m)=>{const t=parseInt(r,10),j=m==="."?1.5:1;return t===1?this._beatsToUnits(this._getTimeSignature())*j:this._beatsToUnits(4/t)*j},regexp:/^(\d+)n(\.?)$/i},number:{method:r=>this._expressions[this.defaultUnits].method.call(this,r),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:r=>this._secondsToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:r=>parseInt(r,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:r=>{const m=parseInt(r,10);return this._beatsToUnits(8/(Math.floor(m)*3))},regexp:/^(\d+)t$/i},tr:{method:(r,m,t)=>{let j=0;return r&&r!=="0"&&(j+=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),m&&m!=="0"&&(j+=this._beatsToUnits(parseFloat(m))),t&&t!=="0"&&(j+=this._beatsToUnits(parseFloat(t)/4)),j},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Lp&&this.fromType(this._val),Kn(this._val))return this._noArg();if(Us(this._val)&&Kn(this._units)){for(const r in this._expressions)if(this._expressions[r].regexp.test(this._val.trim())){this._units=r;break}}else if(Ei(this._val)){let r=0;for(const m in this._val)if(Ut(this._val[m])){const t=this._val[m],j=new this.constructor(this.context,m).valueOf()*t;r+=j}return r}if(Ut(this._units)){const r=this._expressions[this._units],m=this._val.toString().trim().match(r.regexp);return m?r.method.apply(this,m.slice(1)):r.method.call(this,this._val)}else return Us(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(r){return 1/r}_beatsToUnits(r){return 60/this._getBpm()*r}_secondsToUnits(r){return r}_ticksToUnits(r){return r*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(r){switch(this._units=void 0,this.defaultUnits){case"s":this._val=r.toSeconds();break;case"i":this._val=r.toTicks();break;case"hz":this._val=r.toFrequency();break;case"midi":this._val=r.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class ls extends Lp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:r=>this._now()+new this.constructor(this.context,r).valueOf(),regexp:/^\+(.+)/},quantize:{method:r=>{const m=new ls(this.context,r).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(m))},regexp:/^@(.+)/}})}quantize(r,m=1){const t=new this.constructor(this.context,r).valueOf(),j=this.valueOf(),p=Math.round(j/t)*t-j;return j+p*m}toNotation(){const r=this.toSeconds(),m=["1m"];for(let w=1;w<9;w++){const f=Math.pow(2,w);m.push(f+"n."),m.push(f+"n"),m.push(f+"t")}m.push("0");let t=m[0],j=new ls(this.context,m[0]).toSeconds();return m.forEach(w=>{const f=new ls(this.context,w).toSeconds();Math.abs(f-r)<Math.abs(j-r)&&(t=w,j=f)}),t}toBarsBeatsSixteenths(){const r=this._beatsToUnits(1);let m=this.valueOf()/r;m=parseFloat(m.toFixed(4));const t=Math.floor(m/this._getTimeSignature());let j=m%1*4;m=Math.floor(m)%this._getTimeSignature();const w=j.toString();return w.length>3&&(j=parseFloat(parseFloat(w).toFixed(3))),[t,m,j].join(":")}toTicks(){const r=this._beatsToUnits(1);return this.valueOf()/r*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return uo(this.toFrequency())}_now(){return this.context.now()}}function Aj(R,r){return new ls(Sr(),R,r)}class Vn extends ls{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Mj()}static set A4(r){Oj(r)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(r){return this.defaultUnits==="midi"?r:Vn.mtof(r)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(r,m){const j=kj[r.toLowerCase()]+(parseInt(m,10)+1)*12;return this.defaultUnits==="midi"?j:Vn.mtof(j)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(r,m,t){let j=1;return r&&r!=="0"&&(j*=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),m&&m!=="0"&&(j*=this._beatsToUnits(parseFloat(m))),t&&t!=="0"&&(j*=this._beatsToUnits(parseFloat(t)/4)),j}}})}transpose(r){return new Vn(this.context,this.valueOf()*Za(r))}harmonize(r){return r.map(m=>this.transpose(m))}toMidi(){return uo(this.valueOf())}toNote(){const r=this.toFrequency(),m=Math.log2(r/Vn.A4);let t=Math.round(12*m)+57;const j=Math.floor(t/12);return j<0&&(t+=-12*j),Cj[t%12]+j.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const r=this._beatsToUnits(1),m=this.valueOf()/r;return Math.floor(m*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(r){return r}_ticksToUnits(r){return 1/(r*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(r){return 1/super._beatsToUnits(r)}_secondsToUnits(r){return 1/r}static mtof(r){return Rp(r)}static ftom(r){return uo(r)}}const kj={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Cj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Dj(R,r){return new Vn(Sr(),R,r)}class $r extends ls{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Rj(R,r){return new $r(Sr(),R,r)}class yn extends ki{constructor(){super();const r=$e(yn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=r.context}static getDefaults(){return{context:Sr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(r){return eb(r),new ls(this.context,r).toSeconds()}toFrequency(r){return new Vn(this.context,r).toFrequency()}toTicks(r){return new $r(this.context,r).toTicks()}_getPartialProperties(r){const m=this.get();return Object.keys(m).forEach(t=>{Kn(r[t])&&delete m[t]}),m}get(){const r=Sj(this);return Object.keys(r).forEach(m=>{if(Reflect.has(this,m)){const t=this[m];Ut(t)&&Ut(t.value)&&Ut(t.setValueAtTime)?r[m]=t.value:t instanceof yn?r[m]=t._getPartialProperties(r[m]):Tn(t)||ds(t)||Us(t)||Op(t)?r[m]=t:delete r[m]}}),r}set(r){return Object.keys(r).forEach(m=>{Reflect.has(this,m)&&Ut(this[m])&&(this[m]&&Ut(this[m].value)&&Ut(this[m].setValueAtTime)?this[m].value!==r[m]&&(this[m].value=r[m]):this[m]instanceof yn?this[m].set(r[m]):this[m]=r[m])}),this}}class al extends cs{constructor(r="stopped"){super(),this.name="StateTimeline",this._initial=r,this.setStateAtTime(this._initial,0)}getValueAtTime(r){const m=this.get(r);return m!==null?m.state:this._initial}setStateAtTime(r,m,t){return wn(m,0),this.add(Object.assign({},t,{state:r,time:m})),this}getLastState(r,m){const t=this._search(m);for(let j=t;j>=0;j--){const w=this._timeline[j];if(w.state===r)return w}}getNextState(r,m){const t=this._search(m);if(t!==-1)for(let j=t;j<this._timeline.length;j++){const w=this._timeline[j];if(w.state===r)return w}}}class Pt extends yn{constructor(){const r=$e(Pt.getDefaults(),arguments,["param","units","convert"]);for(super(r),this.name="Param",this.overridden=!1,this._minOutput=1e-7,wt(Ut(r.param)&&($o(r.param)||r.param instanceof Pt),"param must be an AudioParam");!$o(r.param);)r.param=r.param._param;this._swappable=Ut(r.swappable)?r.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=r.param,this.input.connect(this._param)):this._param=this.input=r.param,this._events=new cs(1e3),this._initialValue=this._param.defaultValue,this.units=r.units,this.convert=r.convert,this._minValue=r.minValue,this._maxValue=r.maxValue,Ut(r.value)&&r.value!==this._toType(this._initialValue)&&this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(yn.getDefaults(),{convert:!0,units:"number"})}get value(){const r=this.now();return this.getValueAtTime(r)}set value(r){this.cancelScheduledValues(this.now()),this.setValueAtTime(r,this.now())}get minValue(){return Ut(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ut(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(r,m){return this.units===m}_assertRange(r){return Ut(this.maxValue)&&Ut(this.minValue)&&wn(r,this._fromType(this.minValue),this._fromType(this.maxValue)),r}_fromType(r){return this.convert&&!this.overridden?this._is(r,"time")?this.toSeconds(r):this._is(r,"decibels")?Ya(r):this._is(r,"frequency")?this.toFrequency(r):r:this.overridden?0:r}_toType(r){return this.convert&&this.units==="decibels"?Cu(r):r}setValueAtTime(r,m){const t=this.toSeconds(m),j=this._fromType(r);return wt(isFinite(j)&&isFinite(t),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(m)}`),this._assertRange(j),this.log(this.units,"setValueAtTime",r,t),this._events.add({time:t,type:"setValueAtTime",value:j}),this._param.setValueAtTime(j,t),this}getValueAtTime(r){const m=Math.max(this.toSeconds(r),0),t=this._events.getAfter(m),j=this._events.get(m);let w=this._initialValue;if(j===null)w=this._initialValue;else if(j.type==="setTargetAtTime"&&(t===null||t.type==="setValueAtTime")){const f=this._events.getBefore(j.time);let p;f===null?p=this._initialValue:p=f.value,j.type==="setTargetAtTime"&&(w=this._exponentialApproach(j.time,p,j.value,j.constant,m))}else if(t===null)w=j.value;else if(t.type==="linearRampToValueAtTime"||t.type==="exponentialRampToValueAtTime"){let f=j.value;if(j.type==="setTargetAtTime"){const p=this._events.getBefore(j.time);p===null?f=this._initialValue:f=p.value}t.type==="linearRampToValueAtTime"?w=this._linearInterpolate(j.time,f,t.time,t.value,m):w=this._exponentialInterpolate(j.time,f,t.time,t.value,m)}else w=j.value;return this._toType(w)}setRampPoint(r){r=this.toSeconds(r);let m=this.getValueAtTime(r);return this.cancelAndHoldAtTime(r),this._fromType(m)===0&&(m=this._toType(this._minOutput)),this.setValueAtTime(m,r),this}linearRampToValueAtTime(r,m){const t=this._fromType(r),j=this.toSeconds(m);return wt(isFinite(t)&&isFinite(j),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(m)}`),this._assertRange(t),this._events.add({time:j,type:"linearRampToValueAtTime",value:t}),this.log(this.units,"linearRampToValueAtTime",r,j),this._param.linearRampToValueAtTime(t,j),this}exponentialRampToValueAtTime(r,m){let t=this._fromType(r);t=Ps(t,0)?this._minOutput:t,this._assertRange(t);const j=this.toSeconds(m);return wt(isFinite(t)&&isFinite(j),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(m)}`),this._events.add({time:j,type:"exponentialRampToValueAtTime",value:t}),this.log(this.units,"exponentialRampToValueAtTime",r,j),this._param.exponentialRampToValueAtTime(t,j),this}exponentialRampTo(r,m,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialRampToValueAtTime(r,t+this.toSeconds(m)),this}linearRampTo(r,m,t){return t=this.toSeconds(t),this.setRampPoint(t),this.linearRampToValueAtTime(r,t+this.toSeconds(m)),this}targetRampTo(r,m,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialApproachValueAtTime(r,t,m),this}exponentialApproachValueAtTime(r,m,t){m=this.toSeconds(m),t=this.toSeconds(t);const j=Math.log(t+1)/Math.log(200);return this.setTargetAtTime(r,m,j),this.cancelAndHoldAtTime(m+t*.9),this.linearRampToValueAtTime(r,m+t),this}setTargetAtTime(r,m,t){const j=this._fromType(r);wt(isFinite(t)&&t>0,"timeConstant must be a number greater than 0");const w=this.toSeconds(m);return this._assertRange(j),wt(isFinite(j)&&isFinite(w),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(r)}, ${JSON.stringify(m)}`),this._events.add({constant:t,time:w,type:"setTargetAtTime",value:j}),this.log(this.units,"setTargetAtTime",r,w,t),this._param.setTargetAtTime(j,w,t),this}setValueCurveAtTime(r,m,t,j=1){t=this.toSeconds(t),m=this.toSeconds(m);const w=this._fromType(r[0])*j;this.setValueAtTime(this._toType(w),m);const f=t/(r.length-1);for(let p=1;p<r.length;p++){const i=this._fromType(r[p])*j;this.linearRampToValueAtTime(this._toType(i),m+p*f)}return this}cancelScheduledValues(r){const m=this.toSeconds(r);return wt(isFinite(m),`Invalid argument to cancelScheduledValues: ${JSON.stringify(r)}`),this._events.cancel(m),this._param.cancelScheduledValues(m),this.log(this.units,"cancelScheduledValues",m),this}cancelAndHoldAtTime(r){const m=this.toSeconds(r),t=this._fromType(this.getValueAtTime(m));wt(isFinite(m),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(r)}`),this.log(this.units,"cancelAndHoldAtTime",m,"value="+t);const j=this._events.get(m),w=this._events.getAfter(m);return j&&Ps(j.time,m)?w?(this._param.cancelScheduledValues(w.time),this._events.cancel(w.time)):(this._param.cancelAndHoldAtTime(m),this._events.cancel(m+this.sampleTime)):w&&(this._param.cancelScheduledValues(w.time),this._events.cancel(w.time),w.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(t),m):w.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(t),m)),this._events.add({time:m,type:"setValueAtTime",value:t}),this._param.setValueAtTime(t,m),this}rampTo(r,m=.1,t){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(r,m,t):this.linearRampTo(r,m,t),this}apply(r){const m=this.context.currentTime;r.setValueAtTime(this.getValueAtTime(m),m);const t=this._events.get(m);if(t&&t.type==="setTargetAtTime"){const j=this._events.getAfter(t.time),w=j?j.time:m+2,f=(w-m)/10;for(let p=m;p<w;p+=f)r.linearRampToValueAtTime(this.getValueAtTime(p),p)}return this._events.forEachAfter(this.context.currentTime,j=>{j.type==="cancelScheduledValues"?r.cancelScheduledValues(j.time):j.type==="setTargetAtTime"?r.setTargetAtTime(j.value,j.time,j.constant):r[j.type](j.value,j.time)}),this}setParam(r){wt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const m=this.input;return m.disconnect(this._param),this.apply(r),this._param=r,m.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(r,m,t,j,w){return t+(m-t)*Math.exp(-(w-r)/j)}_linearInterpolate(r,m,t,j,w){return m+(j-m)*((w-r)/(t-r))}_exponentialInterpolate(r,m,t,j,w){return m*Math.pow(j/m,(w-r)/(t-r))}}class ot extends yn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ut(this.input)?$o(this.input)||this.input instanceof Pt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ut(this.output)?this.output.numberOfOutputs:0}_isAudioNode(r){return Ut(r)&&(r instanceof ot||ho(r))}_getInternalNodes(){const r=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&r.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&r.push(this.output),r}_setChannelProperties(r){this._getInternalNodes().forEach(t=>{t.channelCount=r.channelCount,t.channelCountMode=r.channelCountMode,t.channelInterpretation=r.channelInterpretation})}_getChannelProperties(){const r=this._getInternalNodes();wt(r.length>0,"ToneAudioNode does not have any internal nodes");const m=r[0];return{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(r){const m=this._getChannelProperties();this._setChannelProperties(Object.assign(m,{channelCount:r}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(r){const m=this._getChannelProperties();this._setChannelProperties(Object.assign(m,{channelCountMode:r}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(r){const m=this._getChannelProperties();this._setChannelProperties(Object.assign(m,{channelInterpretation:r}))}connect(r,m=0,t=0){return zn(this,r,m,t),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return nl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(r,m=0,t=0){return Np(this,r,m,t),this}chain(...r){return fs(this,...r),this}fan(...r){return r.forEach(m=>this.connect(m)),this}dispose(){return super.dispose(),Ut(this.input)&&(this.input instanceof ot?this.input.dispose():ho(this.input)&&this.input.disconnect()),Ut(this.output)&&(this.output instanceof ot?this.output.dispose():ho(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function fs(...R){const r=R.shift();R.reduce((m,t)=>(m instanceof ot?m.connect(t):ho(m)&&zn(m,t),t),r)}function zn(R,r,m=0,t=0){for(wt(Ut(R),"Cannot connect from undefined node"),wt(Ut(r),"Cannot connect to undefined node"),(r instanceof ot||ho(r))&&wt(r.numberOfInputs>0,"Cannot connect to node with no inputs"),wt(R.numberOfOutputs>0,"Cannot connect from node with no outputs");r instanceof ot||r instanceof Pt;)Ut(r.input)&&(r=r.input);for(;R instanceof ot;)Ut(R.output)&&(R=R.output);$o(r)?R.connect(r,m):R.connect(r,m,t)}function Np(R,r,m=0,t=0){if(Ut(r))for(;r instanceof ot;)r=r.input;for(;!ho(R);)Ut(R.output)&&(R=R.output);$o(r)?R.disconnect(r,m):ho(r)?R.disconnect(r,m,t):R.disconnect()}function Lj(...R){const r=R.pop();Ut(r)&&R.forEach(m=>zn(m,r))}class xt extends ot{constructor(){const r=$e(xt.getDefaults(),arguments,["gain","units"]);super(r),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Pt({context:this.context,convert:r.convert,param:this._gainNode.gain,units:r.units,value:r.gain,minValue:r.minValue,maxValue:r.maxValue}),At(this,"gain")}static getDefaults(){return Object.assign(ot.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Qa extends ot{constructor(r){super(r),this.onended=qt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new xt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(m){const t=this.toSeconds(m);return this._startTime!==-1&&t>=this._startTime&&(this._stopTime===-1||t<=this._stopTime)?"started":"stopped"},this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut,this._curve=r.curve,this.onended=r.onended}static getDefaults(){return Object.assign(ot.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:qt})}_startGain(r,m=1){wt(this._startTime===-1,"Source cannot be started more than once");const t=this.toSeconds(this._fadeIn);return this._startTime=r+t,this._startTime=Math.max(this._startTime,this.context.currentTime),t>0?(this._gainNode.gain.setValueAtTime(0,r),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(m,r+t):this._gainNode.gain.exponentialApproachValueAtTime(m,r,t)):this._gainNode.gain.setValueAtTime(m,r),this}stop(r){return this.log("stop",r),this._stopGain(this.toSeconds(r)),this}_stopGain(r){wt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const m=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(r)+m,this._stopTime=Math.max(this._stopTime,this.now()),m>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,m,r):this._gainNode.gain.targetRampTo(0,m,r):(this._gainNode.gain.cancelAndHoldAtTime(r),this._gainNode.gain.setValueAtTime(0,r)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t=this._curve==="exponential"?m*2:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==qt&&(this.onended(this),this.onended=qt,!this.context.isOffline)){const r=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(r):setTimeout(r,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),wt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=qt,this}}class Ih extends Qa{constructor(){const r=$e(Ih.getDefaults(),arguments,["offset"]);super(r),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),zn(this._source,this._gainNode),this.offset=new Pt({context:this.context,convert:r.convert,param:this._source.offset,units:r.units,value:r.offset,minValue:r.minValue,maxValue:r.maxValue})}static getDefaults(){return Object.assign(Qa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(r){const m=this.toSeconds(r);return this.log("start",m),this._startGain(m),this._source.start(m),this}_stopSource(r){this._source.stop(r)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Dt extends ot{constructor(){const r=$e(Dt.getDefaults(),arguments,["value","units"]);super(r),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ih({context:this.context,convert:r.convert,offset:r.value,units:r.units,minValue:r.minValue,maxValue:r.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ot.getDefaults(),{convert:!0,units:"number",value:0})}connect(r,m=0,t=0){return Du(this,r,m,t),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(r,m){return this._param.setValueAtTime(r,m),this}getValueAtTime(r){return this._param.getValueAtTime(r)}setRampPoint(r){return this._param.setRampPoint(r),this}linearRampToValueAtTime(r,m){return this._param.linearRampToValueAtTime(r,m),this}exponentialRampToValueAtTime(r,m){return this._param.exponentialRampToValueAtTime(r,m),this}exponentialRampTo(r,m,t){return this._param.exponentialRampTo(r,m,t),this}linearRampTo(r,m,t){return this._param.linearRampTo(r,m,t),this}targetRampTo(r,m,t){return this._param.targetRampTo(r,m,t),this}exponentialApproachValueAtTime(r,m,t){return this._param.exponentialApproachValueAtTime(r,m,t),this}setTargetAtTime(r,m,t){return this._param.setTargetAtTime(r,m,t),this}setValueCurveAtTime(r,m,t,j){return this._param.setValueCurveAtTime(r,m,t,j),this}cancelScheduledValues(r){return this._param.cancelScheduledValues(r),this}cancelAndHoldAtTime(r){return this._param.cancelAndHoldAtTime(r),this}rampTo(r,m,t){return this._param.rampTo(r,m,t),this}get value(){return this._param.value}set value(r){this._param.value=r}get convert(){return this._param.convert}set convert(r){this._param.convert=r}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(r){this._param.overridden=r}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(r){return this._param.apply(r),this}}function Du(R,r,m,t){(r instanceof Pt||$o(r)||r instanceof Dt&&r.override)&&(r.cancelScheduledValues(0),r.setValueAtTime(0,0),r instanceof Dt&&(r.overridden=!0)),zn(R,r,m,t)}class Pp extends Pt{constructor(){const r=$e(Pp.getDefaults(),arguments,["value"]);super(r),this.name="TickParam",this._events=new cs(1/0),this._multiplier=1,this._multiplier=r.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(r.value)}),this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(r,m,t){m=this.toSeconds(m),this.setRampPoint(m);const j=this._fromType(r),w=this._events.get(m),f=Math.round(Math.max(1/t,1));for(let p=0;p<=f;p++){const i=t*p+m,l=this._exponentialApproach(w.time,w.value,j,t,i);this.linearRampToValueAtTime(this._toType(l),i)}return this}setValueAtTime(r,m){const t=this.toSeconds(m);super.setValueAtTime(r,m);const j=this._events.get(t),w=this._events.previousEvent(j),f=this._getTicksUntilEvent(w,t);return j.ticks=Math.max(f,0),this}linearRampToValueAtTime(r,m){const t=this.toSeconds(m);super.linearRampToValueAtTime(r,m);const j=this._events.get(t),w=this._events.previousEvent(j),f=this._getTicksUntilEvent(w,t);return j.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(r,m){m=this.toSeconds(m);const t=this._fromType(r),j=this._events.get(m),w=Math.round(Math.max((m-j.time)*10,1)),f=(m-j.time)/w;for(let p=0;p<=w;p++){const i=f*p+j.time,l=this._exponentialInterpolate(j.time,j.value,m,t,i);this.linearRampToValueAtTime(this._toType(l),i)}return this}_getTicksUntilEvent(r,m){if(r===null)r={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Kn(r.ticks)){const f=this._events.previousEvent(r);r.ticks=this._getTicksUntilEvent(f,r.time)}const t=this._fromType(this.getValueAtTime(r.time));let j=this._fromType(this.getValueAtTime(m));const w=this._events.get(m);return w&&w.time===m&&w.type==="setValueAtTime"&&(j=this._fromType(this.getValueAtTime(m-this.sampleTime))),.5*(m-r.time)*(t+j)+r.ticks}getTicksAtTime(r){const m=this.toSeconds(r),t=this._events.get(m);return Math.max(this._getTicksUntilEvent(t,m),0)}getDurationOfTicks(r,m){const t=this.toSeconds(m),j=this.getTicksAtTime(m);return this.getTimeOfTick(j+r)-t}getTimeOfTick(r){const m=this._events.get(r,"ticks"),t=this._events.getAfter(r,"ticks");if(m&&m.ticks===r)return m.time;if(m&&t&&t.type==="linearRampToValueAtTime"&&m.value!==t.value){const j=this._fromType(this.getValueAtTime(m.time)),f=(this._fromType(this.getValueAtTime(t.time))-j)/(t.time-m.time),p=Math.sqrt(Math.pow(j,2)-2*f*(m.ticks-r)),i=(-j+p)/f,l=(-j-p)/f;return(i>0?i:l)+m.time}else return m?m.value===0?1/0:m.time+(r-m.ticks)/m.value:r/this._initialValue}ticksToTime(r,m){return this.getDurationOfTicks(r,m)}timeToTicks(r,m){const t=this.toSeconds(m),j=this.toSeconds(r),w=this.getTicksAtTime(t);return this.getTicksAtTime(t+j)-w}_fromType(r){return this.units==="bpm"&&this.multiplier?1/(60/r/this.multiplier):super._fromType(r)}_toType(r){return this.units==="bpm"&&this.multiplier?r/this.multiplier*60:super._toType(r)}get multiplier(){return this._multiplier}set multiplier(r){const m=this.value;this._multiplier=r,this.cancelScheduledValues(0),this.setValueAtTime(m,0)}}class Ip extends Dt{constructor(){const r=$e(Ip.getDefaults(),arguments,["value"]);super(r),this.name="TickSignal",this.input=this._param=new Pp({context:this.context,convert:r.convert,multiplier:r.multiplier,param:this._constantSource.offset,units:r.units,value:r.value})}static getDefaults(){return Object.assign(Dt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(r,m){return this._param.ticksToTime(r,m)}timeToTicks(r,m){return this._param.timeToTicks(r,m)}getTimeOfTick(r){return this._param.getTimeOfTick(r)}getDurationOfTicks(r,m){return this._param.getDurationOfTicks(r,m)}getTicksAtTime(r){return this._param.getTicksAtTime(r)}get multiplier(){return this._param.multiplier}set multiplier(r){this._param.multiplier=r}dispose(){return super.dispose(),this._param.dispose(),this}}class Fp extends yn{constructor(){const r=$e(Fp.getDefaults(),arguments,["frequency"]);super(r),this.name="TickSource",this._state=new al,this._tickOffset=new cs,this._ticksAtTime=new cs,this._secondsAtTime=new cs,this.frequency=new Ip({context:this.context,units:r.units,value:r.frequency}),At(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},yn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(r,m){const t=this.toSeconds(r);return this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),Ut(m)&&this.setTicksAtTime(m,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}stop(r){const m=this.toSeconds(r);if(this._state.getValueAtTime(m)==="stopped"){const t=this._state.get(m);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(m),this._state.setStateAtTime("stopped",m),this.setTicksAtTime(0,m),this._ticksAtTime.cancel(m),this._secondsAtTime.cancel(m),this}pause(r){const m=this.toSeconds(r);return this._state.getValueAtTime(m)==="started"&&(this._state.setStateAtTime("paused",m),this._ticksAtTime.cancel(m),this._secondsAtTime.cancel(m)),this}cancel(r){return r=this.toSeconds(r),this._state.cancel(r),this._tickOffset.cancel(r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r),this}getTicksAtTime(r){const m=this.toSeconds(r),t=this._state.getLastState("stopped",m),j=this._ticksAtTime.get(m),w={state:"paused",time:m};this._state.add(w);let f=j||t,p=j?j.ticks:0,i=null;return this._state.forEachBetween(f.time,m+this.sampleTime,l=>{let b=f.time;const v=this._tickOffset.get(l.time);v&&v.time>=f.time&&(p=v.ticks,b=v.time),f.state==="started"&&l.state!=="started"&&(p+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(b),l.time!==w.time&&(i={state:l.state,time:l.time,ticks:p})),f=l}),this._state.remove(w),i&&this._ticksAtTime.add(i),p}get ticks(){return this.getTicksAtTime(this.now())}set ticks(r){this.setTicksAtTime(r,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(r){const m=this.now(),t=this.frequency.timeToTicks(r,m);this.setTicksAtTime(t,m)}getSecondsAtTime(r){r=this.toSeconds(r);const m=this._state.getLastState("stopped",r),t={state:"paused",time:r};this._state.add(t);const j=this._secondsAtTime.get(r);let w=j||m,f=j?j.seconds:0,p=null;return this._state.forEachBetween(w.time,r+this.sampleTime,i=>{let l=w.time;const b=this._tickOffset.get(i.time);b&&b.time>=w.time&&(f=b.seconds,l=b.time),w.state==="started"&&i.state!=="started"&&(f+=i.time-l,i.time!==t.time&&(p={state:i.state,time:i.time,seconds:f})),w=i}),this._state.remove(t),p&&this._secondsAtTime.add(p),f}setTicksAtTime(r,m){return m=this.toSeconds(m),this._tickOffset.cancel(m),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(r,m),ticks:r,time:m}),this._ticksAtTime.cancel(m),this._secondsAtTime.cancel(m),this}getStateAtTime(r){return r=this.toSeconds(r),this._state.getValueAtTime(r)}getTimeOfTick(r,m=this.now()){const t=this._tickOffset.get(m),j=this._state.get(m),w=Math.max(t.time,j.time),f=this.frequency.getTicksAtTime(w)+r-t.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(r,m,t){let j=this._state.get(r);this._state.forEachBetween(r,m,f=>{j&&j.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(j.time,r),f.time-this.sampleTime,t),j=f});let w=null;if(j&&j.state==="started"){const f=Math.max(j.time,r),p=this.frequency.getTicksAtTime(f),i=this.frequency.getTicksAtTime(j.time),l=p-i;let b=Math.ceil(l)-l;b=Ps(b,1)?0:b;let v=this.frequency.getTimeOfTick(p+b);for(;v<m;){try{t(v,Math.round(this.getTicksAtTime(v)))}catch(o){w=o;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(w)throw w;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ll extends yn{constructor(){const r=$e(ll.getDefaults(),arguments,["callback","frequency"]);super(r),this.name="Clock",this.callback=qt,this._lastUpdate=0,this._state=new al("stopped"),this._boundLoop=this._loop.bind(this),this.callback=r.callback,this._tickSource=new Fp({context:this.context,frequency:r.frequency,units:r.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,At(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(yn.getDefaults(),{callback:qt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(r,m){Ap(this.context);const t=this.toSeconds(r);return this.log("start",t),this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),this._tickSource.start(t,m),t<this._lastUpdate&&this.emit("start",t,m)),this}stop(r){const m=this.toSeconds(r);return this.log("stop",m),this._state.cancel(m),this._state.setStateAtTime("stopped",m),this._tickSource.stop(m),m<this._lastUpdate&&this.emit("stop",m),this}pause(r){const m=this.toSeconds(r);return this._state.getValueAtTime(m)==="started"&&(this._state.setStateAtTime("paused",m),this._tickSource.pause(m),m<this._lastUpdate&&this.emit("pause",m)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(r){this._tickSource.ticks=r}get seconds(){return this._tickSource.seconds}set seconds(r){this._tickSource.seconds=r}getSecondsAtTime(r){return this._tickSource.getSecondsAtTime(r)}setTicksAtTime(r,m){return this._tickSource.setTicksAtTime(r,m),this}getTimeOfTick(r,m=this.now()){return this._tickSource.getTimeOfTick(r,m)}getTicksAtTime(r){return this._tickSource.getTicksAtTime(r)}nextTickTime(r,m){const t=this.toSeconds(m),j=this.getTicksAtTime(t);return this._tickSource.getTimeOfTick(j+r,t)}_loop(){const r=this._lastUpdate,m=this.now();this._lastUpdate=m,this.log("loop",r,m),r!==m&&(this._state.forEachBetween(r,m,t=>{switch(t.state){case"started":const j=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,j);break;case"stopped":t.time!==0&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(r,m,(t,j)=>{this.callback(t,j)}))}getStateAtTime(r){const m=this.toSeconds(r);return this._state.getValueAtTime(m)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}sl.mixin(ll);class hs extends ot{constructor(){const r=$e(hs.getDefaults(),arguments,["delayTime","maxDelay"]);super(r),this.name="Delay";const m=this.toSeconds(r.maxDelay);this._maxDelay=Math.max(m,this.toSeconds(r.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(m),this.delayTime=new Pt({context:this.context,param:this._delayNode.delayTime,units:"time",value:r.delayTime,minValue:0,maxValue:this.maxDelay}),At(this,"delayTime")}static getDefaults(){return Object.assign(ot.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Ci extends ot{constructor(){const r=$e(Ci.getDefaults(),arguments,["volume"]);super(r),this.name="Volume",this.input=this.output=new xt({context:this.context,gain:r.volume,units:"decibels"}),this.volume=this.output.gain,At(this,"volume"),this._unmutedVolume=r.volume,this.mute=r.mute}static getDefaults(){return Object.assign(ot.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(r){!this.mute&&r?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!r&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Up extends ot{constructor(){const r=$e(Up.getDefaults(),arguments);super(r),this.name="Destination",this.input=new Ci({context:this.context}),this.output=new xt({context:this.context}),this.volume=this.input.volume,fs(this.input,this.output,this.context.rawContext.destination),this.mute=r.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ot.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(r){this.input.mute=r}chain(...r){return this.input.disconnect(),r.unshift(this.input),r.push(this.output),fs(...r),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Lh(R=>{R.destination=new Up({context:R})});Nh(R=>{R.destination.dispose()});class Nj extends ot{constructor(){super(...arguments),this.name="Listener",this.positionX=new Pt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Pt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Pt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Pt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Pt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Pt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Pt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Pt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Pt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ot.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Lh(R=>{R.listener=new Nj({context:R})});Nh(R=>{R.listener.dispose()});function Pj(R,r){return vr(this,arguments,void 0,function*(m,t,j=2,w=Sr().sampleRate){const f=Sr(),p=new ol(j,t,w);jh(p),yield m(p);const i=p.render();jh(f);const l=yield i;return new Jt(l)})}class ul extends ki{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const r=$e(ul.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=r.baseUrl,Object.keys(r.urls).forEach(m=>{this._loadingCount++;const t=r.urls[m];this.add(m,t,this._bufferLoaded.bind(this,r.onload),r.onerror)})}static getDefaults(){return{baseUrl:"",onerror:qt,onload:qt,urls:{}}}has(r){return this._buffers.has(r.toString())}get(r){return wt(this.has(r),`ToneAudioBuffers has no buffer named: ${r}`),this._buffers.get(r.toString())}_bufferLoaded(r){this._loadingCount--,this._loadingCount===0&&r&&r()}get loaded(){return Array.from(this._buffers).every(([r,m])=>m.loaded)}add(r,m,t=qt,j=qt){return Us(m)?(this.baseUrl&&m.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(r.toString(),new Jt(this.baseUrl+m,t,j))):this._buffers.set(r.toString(),new Jt(m,t,j)),this}dispose(){return super.dispose(),this._buffers.forEach(r=>r.dispose()),this._buffers.clear(),this}}class Ka extends Vn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(r){return uo(super._frequencyToUnits(r))}_ticksToUnits(r){return uo(super._ticksToUnits(r))}_beatsToUnits(r){return uo(super._beatsToUnits(r))}_secondsToUnits(r){return uo(super._secondsToUnits(r))}toMidi(){return this.valueOf()}toFrequency(){return Rp(this.toMidi())}transpose(r){return new Ka(this.context,this.toMidi()+r)}}function Ij(R,r){return new Ka(Sr(),R,r)}class Or extends $r{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(r){return this._getPPQ()*r}_secondsToUnits(r){return Math.floor(r/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(r){return r}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function Fj(R,r){return new Or(Sr(),R,r)}class Uj extends yn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new cs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(r,m){return this._events.add({callback:r,time:this.toSeconds(m)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(r){return this._events.cancel(this.toSeconds(r)),this}_drawLoop(){const r=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=r;){const m=this._events.shift();m&&r-m.time<=this.expiration&&m.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Lh(R=>{R.draw=new Uj({context:R})});Nh(R=>{R.draw.dispose()});class ob extends ki{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(r){wt(Ut(r.time),"Events must have a time property"),wt(Ut(r.duration),"Events must have a duration parameter"),r.time=r.time.valueOf();let m=new Bj(r.time,r.time+r.duration,r);for(this._root===null?this._root=m:this._root.insert(m),this._length++;m!==null;)m.updateHeight(),m.updateMax(),this._rebalance(m),m=m.parent;return this}remove(r){if(this._root!==null){const m=[];this._root.search(r.time,m);for(const t of m)if(t.event===r){this._removeNode(t),this._length--;break}}return this}get length(){return this._length}cancel(r){return this.forEachFrom(r,m=>this.remove(m)),this}_setRoot(r){this._root=r,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(r,m){r.parent!==null?(r.isLeftChild()?r.parent.left=m:r.parent.right=m,this._rebalance(r.parent)):this._setRoot(m)}_removeNode(r){if(r.left===null&&r.right===null)this._replaceNodeInParent(r,null);else if(r.right===null)this._replaceNodeInParent(r,r.left);else if(r.left===null)this._replaceNodeInParent(r,r.right);else{const m=r.getBalance();let t,j=null;if(m>0)if(r.left.right===null)t=r.left,t.right=r.right,j=t;else{for(t=r.left.right;t.right!==null;)t=t.right;t.parent&&(t.parent.right=t.left,j=t.parent,t.left=r.left,t.right=r.right)}else if(r.right.left===null)t=r.right,t.left=r.left,j=t;else{for(t=r.right.left;t.left!==null;)t=t.left;t.parent&&(t.parent.left=t.right,j=t.parent,t.left=r.left,t.right=r.right)}r.parent!==null?r.isLeftChild()?r.parent.left=t:r.parent.right=t:this._setRoot(t),j&&this._rebalance(j)}r.dispose()}_rotateLeft(r){const m=r.parent,t=r.isLeftChild(),j=r.right;j&&(r.right=j.left,j.left=r),m!==null?t?m.left=j:m.right=j:this._setRoot(j)}_rotateRight(r){const m=r.parent,t=r.isLeftChild(),j=r.left;j&&(r.left=j.right,j.right=r),m!==null?t?m.left=j:m.right=j:this._setRoot(j)}_rebalance(r){const m=r.getBalance();m>1&&r.left?r.left.getBalance()<0?this._rotateLeft(r.left):this._rotateRight(r):m<-1&&r.right&&(r.right.getBalance()>0?this._rotateRight(r.right):this._rotateLeft(r))}get(r){if(this._root!==null){const m=[];if(this._root.search(r,m),m.length>0){let t=m[0];for(let j=1;j<m.length;j++)m[j].low>t.low&&(t=m[j]);return t.event}}return null}forEach(r){if(this._root!==null){const m=[];this._root.traverse(t=>m.push(t)),m.forEach(t=>{t.event&&r(t.event)})}return this}forEachAtTime(r,m){if(this._root!==null){const t=[];this._root.search(r,t),t.forEach(j=>{j.event&&m(j.event)})}return this}forEachFrom(r,m){if(this._root!==null){const t=[];this._root.searchAfter(r,t),t.forEach(j=>{j.event&&m(j.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(r=>r.dispose()),this._root=null,this}}class Bj{constructor(r,m,t){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=t,this.low=r,this.high=m,this.max=this.high}insert(r){r.low<=this.low?this.left===null?this.left=r:this.left.insert(r):this.right===null?this.right=r:this.right.insert(r)}search(r,m){r>this.max||(this.left!==null&&this.left.search(r,m),this.low<=r&&this.high>r&&m.push(this),!(this.low>r)&&this.right!==null&&this.right.search(r,m))}searchAfter(r,m){this.low>=r&&(m.push(this),this.left!==null&&this.left.searchAfter(r,m)),this.right!==null&&this.right.searchAfter(r,m)}traverse(r){r(this),this.left!==null&&this.left.traverse(r),this.right!==null&&this.right.traverse(r)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let r=0;return this.left!==null&&this.right!==null?r=this.left.height-this.right.height:this.left!==null?r=this.left.height+1:this.right!==null&&(r=-(this.right.height+1)),r}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(r){this._left=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(r){this._right=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}const Vj=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class Gj extends ki{constructor(r){super(),this.name="TimelineValue",this._timeline=new cs({memory:10}),this._initialValue=r}set(r,m){return this._timeline.add({value:r,time:m}),this}get(r){const m=this._timeline.get(r);return m?m.value:this._initialValue}}class ps extends ot{constructor(){super($e(ps.getDefaults(),arguments,["context"]))}connect(r,m=0,t=0){return Du(this,r,m,t),this}}class Gs extends ps{constructor(){const r=$e(Gs.getDefaults(),arguments,["mapping","length"]);super(r),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Tn(r.mapping)||r.mapping instanceof Float32Array?this.curve=Float32Array.from(r.mapping):J0(r.mapping)&&this.setMap(r.mapping,r.length)}static getDefaults(){return Object.assign(Dt.getDefaults(),{length:1024})}setMap(r,m=1024){const t=new Float32Array(m);for(let j=0,w=m;j<w;j++){const f=j/(w-1)*2-1;t[j]=r(f,j)}return this.curve=t,this}get curve(){return this._shaper.curve}set curve(r){this._shaper.curve=r}get oversample(){return this._shaper.oversample}set oversample(r){const m=["none","2x","4x"].some(t=>t.includes(r));wt(m,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class cl extends ps{constructor(){const r=$e(cl.getDefaults(),arguments,["value"]);super(r),this.name="Pow",this._exponentScaler=this.input=this.output=new Gs({context:this.context,mapping:this._expFunc(r.value),length:8192}),this._exponent=r.value}static getDefaults(){return Object.assign(ps.getDefaults(),{value:1})}_expFunc(r){return m=>Math.pow(Math.abs(m),r)}get value(){return this._exponent}set value(r){this._exponent=r,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class fo{constructor(r,m){this.id=fo._eventId++,this._remainderTime=0;const t=Object.assign(fo.getDefaults(),m);this.transport=r,this.callback=t.callback,this._once=t.once,this.time=Math.floor(t.time),this._remainderTime=t.time-this.time}static getDefaults(){return{callback:qt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(r){if(this.callback){const m=this.transport.bpm.getDurationOfTicks(1,r);this.callback(r+this._remainderTime*m),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}fo._eventId=0;class Bp extends fo{constructor(r,m){super(r,m),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const t=Object.assign(Bp.getDefaults(),m);this.duration=t.duration,this._interval=t.interval,this._nextTick=t.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},fo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(r){this._createEvents(r),super.invoke(r)}_createEvent(){return Sh(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Or(this.context,this._nextTick).toSeconds()):-1}_createEvents(r){Sh(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Or(this.context,this._nextTick).toSeconds()))}_restart(r){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const m=this.transport.getTicksAtTime(r);Xa(m,this.time)&&(this._nextTick=this.floatTime+Math.ceil((m-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Fh extends yn{constructor(){const r=$e(Fh.getDefaults(),arguments);super(r),this.name="Transport",this._loop=new Gj(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new cs,this._repeatedEvents=new ob,this._syncedSignals=[],this._swingAmount=0,this._ppq=r.ppq,this._clock=new ll({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=r.ppq,this.bpm.setValueAtTime(r.bpm,0),At(this,"bpm"),this._timeSignature=r.timeSignature,this._swingTicks=r.ppq/2}static getDefaults(){return Object.assign(yn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(r,m){if(this._loop.get(r)&&m>=this._loopEnd&&(this.emit("loopEnd",r),this._clock.setTicksAtTime(this._loopStart,r),m=this._loopStart,this.emit("loopStart",r,this._clock.getSecondsAtTime(r)),this.emit("loop",r)),this._swingAmount>0&&m%this._ppq!==0&&m%(this._swingTicks*2)!==0){const t=m%(this._swingTicks*2)/(this._swingTicks*2),j=Math.sin(t*Math.PI)*this._swingAmount;r+=new Or(this.context,this._swingTicks*2/3).toSeconds()*j}tp(!0),this._timeline.forEachAtTime(m,t=>t.invoke(r)),tp(!1)}schedule(r,m){const t=new fo(this,{callback:r,time:new $r(this.context,m).toTicks()});return this._addEvent(t,this._timeline)}scheduleRepeat(r,m,t,j=1/0){const w=new Bp(this,{callback:r,duration:new ls(this.context,j).toTicks(),interval:new ls(this.context,m).toTicks(),time:new $r(this.context,t).toTicks()});return this._addEvent(w,this._repeatedEvents)}scheduleOnce(r,m){const t=new fo(this,{callback:r,once:!0,time:new $r(this.context,m).toTicks()});return this._addEvent(t,this._timeline)}clear(r){if(this._scheduledEvents.hasOwnProperty(r)){const m=this._scheduledEvents[r.toString()];m.timeline.remove(m.event),m.event.dispose(),delete this._scheduledEvents[r.toString()]}return this}_addEvent(r,m){return this._scheduledEvents[r.id.toString()]={event:r,timeline:m},m.add(r),r.id}cancel(r=0){const m=this.toTicks(r);return this._timeline.forEachFrom(m,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(m,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(r,m)=>{m=new Or(this.context,m).toSeconds(),this.emit("start",r,m)}),this._clock.on("stop",r=>{this.emit("stop",r)}),this._clock.on("pause",r=>{this.emit("pause",r)})}get state(){return this._clock.getStateAtTime(this.now())}start(r,m){this.context.resume();let t;return Ut(m)&&(t=this.toTicks(m)),this._clock.start(r,t),this}stop(r){return this._clock.stop(r),this}pause(r){return this._clock.pause(r),this}toggle(r){return r=this.toSeconds(r),this._clock.getStateAtTime(r)!=="started"?this.start(r):this.stop(r),this}get timeSignature(){return this._timeSignature}set timeSignature(r){Tn(r)&&(r=r[0]/r[1]*4),this._timeSignature=r}get loopStart(){return new ls(this.context,this._loopStart,"i").toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r)}get loopEnd(){return new ls(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r)}get loop(){return this._loop.get(this.now())}set loop(r){this._loop.set(r,this.now())}setLoopPoints(r,m){return this.loopStart=r,this.loopEnd=m,this}get swing(){return this._swingAmount}set swing(r){this._swingAmount=r}get swingSubdivision(){return new Or(this.context,this._swingTicks).toNotation()}set swingSubdivision(r){this._swingTicks=this.toTicks(r)}get position(){const r=this.now(),m=this._clock.getTicksAtTime(r);return new Or(this.context,m).toBarsBeatsSixteenths()}set position(r){const m=this.toTicks(r);this.ticks=m}get seconds(){return this._clock.seconds}set seconds(r){const m=this.now(),t=this._clock.frequency.timeToTicks(r,m);this.ticks=t}get progress(){if(this.loop){const r=this.now();return(this._clock.getTicksAtTime(r)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(r){if(this._clock.ticks!==r){const m=this.now();if(this.state==="started"){const t=this._clock.getTicksAtTime(m),j=this._clock.frequency.getDurationOfTicks(Math.ceil(t)-t,m),w=m+j;this.emit("stop",w),this._clock.setTicksAtTime(r,w),this.emit("start",w,this._clock.getSecondsAtTime(w))}else this.emit("ticks",m),this._clock.setTicksAtTime(r,m)}}getTicksAtTime(r){return this._clock.getTicksAtTime(r)}getSecondsAtTime(r){return this._clock.getSecondsAtTime(r)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(r){this._clock.frequency.multiplier=r}nextSubdivision(r){if(r=this.toTicks(r),this.state!=="started")return 0;{const m=this.now(),t=this.getTicksAtTime(m),j=r-t%r;return this._clock.nextTickTime(j,m)}}syncSignal(r,m){const t=this.now();let j=this.bpm,w=1/(60/j.getValueAtTime(t)/this.PPQ),f=[];if(r.units==="time"){const i=.015625/w,l=new xt(i),b=new cl(-1),v=new xt(i);j.chain(l,b,v),j=v,w=1/w,f=[l,b,v]}m||(r.getValueAtTime(t)!==0?m=r.getValueAtTime(t)/w:m=0);const p=new xt(m);return j.connect(p),p.connect(r._param),f.push(p),this._syncedSignals.push({initial:r.value,nodes:f,signal:r}),r.value=0,this}unsyncSignal(r){for(let m=this._syncedSignals.length-1;m>=0;m--){const t=this._syncedSignals[m];t.signal===r&&(t.nodes.forEach(j=>j.dispose()),t.signal.value=t.initial,this._syncedSignals.splice(m,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ku(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}sl.mixin(Fh);Lh(R=>{R.transport=new Fh({context:R})});Nh(R=>{R.transport.dispose()});class Vr extends ot{constructor(r){super(r),this.input=void 0,this._state=new al("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=qt,this._syncedStop=qt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ci({context:this.context,mute:r.mute,volume:r.volume}),this.volume=this._volume.volume,At(this,"volume"),this.onstop=r.onstop}static getDefaults(){return Object.assign(ot.getDefaults(),{mute:!1,onstop:qt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}_clampToCurrentTime(r){return this._synced?r:Math.max(r,this.context.currentTime)}start(r,m,t){let j=Kn(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(j=this._clampToCurrentTime(j),!this._synced&&this._state.getValueAtTime(j)==="started")wt(Xa(j,this._state.get(j).time),"Start time must be strictly greater than previous start time"),this._state.cancel(j),this._state.setStateAtTime("started",j),this.log("restart",j),this.restart(j,m,t);else if(this.log("start",j),this._state.setStateAtTime("started",j),this._synced){const w=this._state.get(j);w&&(w.offset=this.toSeconds(Os(m,0)),w.duration=t?this.toSeconds(t):void 0);const f=this.context.transport.schedule(p=>{this._start(p,m,t)},j);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>j&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ap(this.context),this._start(j,m,t);return this}stop(r){let m=Kn(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(m=this._clampToCurrentTime(m),this._state.getValueAtTime(m)==="started"||Ut(this._state.getNextState("started",m))){if(this.log("stop",m),!this._synced)this._stop(m);else{const t=this.context.transport.schedule(this._stop.bind(this),m);this._scheduled.push(t)}this._state.cancel(m),this._state.setStateAtTime("stopped",m)}return this}restart(r,m,t){return r=this.toSeconds(r),this._state.getValueAtTime(r)==="started"&&(this._state.cancel(r),this._restart(r,m,t)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(r,m)=>{if(Xa(m,0)){const t=this._state.get(m);if(t&&t.state==="started"&&t.time!==m){const j=m-this.toSeconds(t.time);let w;t.duration&&(w=this.toSeconds(t.duration)-j),this._start(r,this.toSeconds(t.offset)+j,w)}}},this._syncedStop=r=>{const m=this.context.transport.getSecondsAtTime(Math.max(r-this.sampleTime,0));this._state.getValueAtTime(m)==="started"&&this._stop(r)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(r=>this.context.transport.clear(r)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=qt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class vo extends Qa{constructor(){const r=$e(vo.getDefaults(),arguments,["url","onload"]);super(r),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,zn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Pt({context:this.context,param:this._source.playbackRate,units:"positive",value:r.playbackRate}),this.loop=r.loop,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this._buffer=new Jt(r.url,r.onload,r.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Qa.getDefaults(),{url:new Jt,loop:!1,loopEnd:0,loopStart:0,onload:qt,onerror:qt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r}get curve(){return this._curve}set curve(r){this._curve=r}start(r,m,t,j=1){wt(this.buffer.loaded,"buffer is either not set or not loaded");const w=this.toSeconds(r);this._startGain(w,j),this.loop?m=Os(m,this.loopStart):m=Os(m,0);let f=Math.max(this.toSeconds(m),0);if(this.loop){const p=this.toSeconds(this.loopEnd)||this.buffer.duration,i=this.toSeconds(this.loopStart),l=p-i;rp(f,p)&&(f=(f-i)%l+i),Ps(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Sh(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(w,f)),Ut(t)){let p=this.toSeconds(t);p=Math.max(p,0),this.stop(w+p)}return this}_stopSource(r){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(r)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(r){this._source.loopStart=this.toSeconds(r)}get loopEnd(){return this._source.loopEnd}set loopEnd(r){this._source.loopEnd=this.toSeconds(r)}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._source.loop}set loop(r){this._source.loop=r,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class po extends Vr{constructor(){const r=$e(po.getDefaults(),arguments,["type"]);super(r),this.name="Noise",this._source=null,this._playbackRate=r.playbackRate,this.type=r.type,this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut}static getDefaults(){return Object.assign(Vr.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(r){if(wt(r in Qv,"Noise: invalid type: "+r),this._type!==r&&(this._type=r,this.state==="started")){const m=this.now();this._stop(m),this._start(m)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._source&&(this._source.playbackRate.value=r)}_start(r){const m=Qv[this._type];this._source=new vo({url:m,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(r),Math.random()*(m.duration-.001))}_stop(r){this._source&&(this._source.stop(this.toSeconds(r)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(r){this._stop(r),this._start(r)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ba=44100*5,Wf=2,Si={brown:null,pink:null,white:null},Qv={get brown(){if(!Si.brown){const R=[];for(let r=0;r<Wf;r++){const m=new Float32Array(Ba);R[r]=m;let t=0;for(let j=0;j<Ba;j++){const w=Math.random()*2-1;m[j]=(t+.02*w)/1.02,t=m[j],m[j]*=3.5}}Si.brown=new Jt().fromArray(R)}return Si.brown},get pink(){if(!Si.pink){const R=[];for(let r=0;r<Wf;r++){const m=new Float32Array(Ba);R[r]=m;let t,j,w,f,p,i,l;t=j=w=f=p=i=l=0;for(let b=0;b<Ba;b++){const v=Math.random()*2-1;t=.99886*t+v*.0555179,j=.99332*j+v*.0750759,w=.969*w+v*.153852,f=.8665*f+v*.3104856,p=.55*p+v*.5329522,i=-.7616*i-v*.016898,m[b]=t+j+w+f+p+i+l+v*.5362,m[b]*=.11,l=v*.115926}}Si.pink=new Jt().fromArray(R)}return Si.pink},get white(){if(!Si.white){const R=[];for(let r=0;r<Wf;r++){const m=new Float32Array(Ba);R[r]=m;for(let t=0;t<Ba;t++)m[t]=Math.random()*2-1}Si.white=new Jt().fromArray(R)}return Si.white}};class mu extends ot{constructor(){const r=$e(mu.getDefaults(),arguments,["volume"]);super(r),this.name="UserMedia",this._volume=this.output=new Ci({context:this.context,volume:r.volume}),this.volume=this._volume.volume,At(this,"volume"),this.mute=r.mute}static getDefaults(){return Object.assign(ot.getDefaults(),{mute:!1,volume:0})}open(r){return vr(this,void 0,void 0,function*(){wt(mu.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const m=yield mu.enumerateDevices();ds(r)?this._device=m[r]:(this._device=m.find(w=>w.label===r||w.deviceId===r),!this._device&&m.length>0&&(this._device=m[0]),wt(Ut(this._device),`No matching device ${r}`));const t={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(t.audio.deviceId=this._device.deviceId);const j=yield navigator.mediaDevices.getUserMedia(t);if(!this._stream){this._stream=j;const w=this.context.createMediaStreamSource(j);zn(w,this.output),this._mediaStream=w}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(r=>{r.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return vr(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(m=>m.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Ut(navigator.mediaDevices)&&Ut(navigator.mediaDevices.getUserMedia)}}function na(R,r){return vr(this,void 0,void 0,function*(){const m=r/R.context.sampleRate,t=new ol(1,m,R.context.sampleRate);return new R.constructor(Object.assign(R.get(),{frequency:2/m,detune:0,context:t})).toDestination().start(0),(yield t.render()).getChannelData(0)})}class Ru extends Qa{constructor(){const r=$e(Ru.getDefaults(),arguments,["frequency","type"]);super(r),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],zn(this._oscillator,this._gainNode),this.type=r.type,this.frequency=new Pt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:r.frequency}),this.detune=new Pt({context:this.context,param:this._oscillator.detune,units:"cents",value:r.detune}),At(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(r){const m=this.toSeconds(r);return this.log("start",m),this._startGain(m),this._oscillator.start(m),this}_stopSource(r){this._oscillator.stop(r)}setPeriodicWave(r){return this._oscillator.setPeriodicWave(r),this}get type(){return this._oscillator.type}set type(r){this._oscillator.type=r}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ar extends Vr{constructor(){const r=$e(Ar.getDefaults(),arguments,["frequency","type"]);super(r),this.name="Oscillator",this._oscillator=null,this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency}),At(this,"frequency"),this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),At(this,"detune"),this._partials=r.partials,this._partialCount=r.partialCount,this._type=r.type,r.partialCount&&r.type!=="custom"&&(this._type=this.baseType+r.partialCount.toString()),this.phase=r.phase}static getDefaults(){return Object.assign(Vr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(r){const m=this.toSeconds(r),t=new Ru({context:this.context,onended:()=>this.onstop(this)});this._oscillator=t,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(m)}_stop(r){const m=this.toSeconds(r);this._oscillator&&this._oscillator.stop(m)}_restart(r){const m=this.toSeconds(r);return this.log("restart",m),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(m),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ar._periodicWaveCache.find(m=>m.phase===this._phase&&wj(m.partials,this._partials));{const r=Ar._periodicWaveCache.find(m=>m.type===this._type&&m.phase===this._phase);return this._partialCount=r?r.partialCount:this._partialCount,r}}get type(){return this._type}set type(r){this._type=r;const m=["sine","square","sawtooth","triangle"].indexOf(r)!==-1;if(this._phase===0&&m)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=r);else{const t=this._getCachedPeriodicWave();if(Ut(t)){const{partials:j,wave:w}=t;this._wave=w,this._partials=j,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[j,w]=this._getRealImaginary(r,this._phase),f=this.context.createPeriodicWave(j,w);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ar._periodicWaveCache.push({imag:w,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:j,type:this._type,wave:this._wave}),Ar._periodicWaveCache.length>100&&Ar._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(r){this.partialCount&&this._type!=="custom"&&r!=="custom"?this.type=r+this.partialCount:this.type=r}get partialCount(){return this._partialCount}set partialCount(r){wn(r,0);let m=this._type;const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(t&&(m=t[1]),this._type!=="custom")r===0?this.type=m:this.type=m+r.toString();else{const j=new Float32Array(r);this._partials.forEach((w,f)=>j[f]=w),this._partials=Array.from(j),this.type=this._type}}_getRealImaginary(r,m){let j=2048;const w=new Float32Array(j),f=new Float32Array(j);let p=1;if(r==="custom"){if(p=this._partials.length+1,this._partialCount=this._partials.length,j=p,this._partials.length===0)return[w,f]}else{const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(r);i?(p=parseInt(i[2],10)+1,this._partialCount=parseInt(i[2],10),r=i[1],p=Math.max(p,2),j=p):this._partialCount=0,this._partials=[]}for(let i=1;i<j;++i){const l=2/(i*Math.PI);let b;switch(r){case"sine":b=i<=p?1:0,this._partials[i-1]=b;break;case"square":b=i&1?2*l:0,this._partials[i-1]=b;break;case"sawtooth":b=l*(i&1?1:-1),this._partials[i-1]=b;break;case"triangle":i&1?b=2*(l*l)*(i-1>>1&1?-1:1):b=0,this._partials[i-1]=b;break;case"custom":b=this._partials[i-1];break;default:throw new TypeError("Oscillator: invalid type: "+r)}b!==0?(w[i]=-b*Math.sin(m*i),f[i]=b*Math.cos(m*i)):(w[i]=0,f[i]=0)}return[w,f]}_inverseFFT(r,m,t){let j=0;const w=r.length;for(let f=0;f<w;f++)j+=r[f]*Math.cos(f*t)+m[f]*Math.sin(f*t);return j}getInitialValue(){const[r,m]=this._getRealImaginary(this._type,0);let t=0;const j=Math.PI*2,w=32;for(let f=0;f<w;f++)t=Math.max(this._inverseFFT(r,m,f/w*j),t);return ra(-this._inverseFFT(r,m,this._phase)/t,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(r){this._phase=r*Math.PI/180,this.type=this._type}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ar._periodicWaveCache=[];class Uh extends ps{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Gs({context:this.context,mapping:r=>(r+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class kr extends Dt{constructor(){const r=$e(kr.getDefaults(),arguments,["value"]);super(r),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new xt({context:this.context,minValue:r.minValue,maxValue:r.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(Dt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Lu extends Vr{constructor(){const r=$e(Lu.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="AMOscillator",this._modulationScale=new Uh({context:this.context}),this._modulationNode=new xt({context:this.context}),this._carrier=new Ar({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ar({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new kr({context:this.context,units:"positive",value:r.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),At(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ar.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){this._modulator.restart(r),this._carrier.restart(r)}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class hl extends Vr{constructor(){const r=$e(hl.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="FMOscillator",this._modulationNode=new xt({context:this.context,gain:0}),this._carrier=new Ar({context:this.context,detune:r.detune,frequency:0,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.detune=this._carrier.detune,this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency}),this._modulator=new Ar({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new kr({context:this.context,units:"positive",value:r.harmonicity}),this.modulationIndex=new kr({context:this.context,units:"positive",value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),At(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ar.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){return this._modulator.restart(r),this._carrier.restart(r),this}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class dl extends Vr{constructor(){const r=$e(dl.getDefaults(),arguments,["frequency","width"]);super(r),this.name="PulseOscillator",this._widthGate=new xt({context:this.context,gain:0}),this._thresh=new Gs({context:this.context,mapping:m=>m<=0?-1:1}),this.width=new Dt({context:this.context,units:"audioRange",value:r.width}),this._triangle=new Ar({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),At(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Vr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(r){r=this.toSeconds(r),this._triangle.start(r),this._widthGate.gain.setValueAtTime(1,r)}_stop(r){r=this.toSeconds(r),this._triangle.stop(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(0,r)}_restart(r){this._triangle.restart(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(1,r)}get phase(){return this._triangle.phase}set phase(r){this._triangle.phase=r}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(r){this._triangle.type=r}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nu extends Vr{constructor(){const r=$e(Nu.getDefaults(),arguments,["frequency","type","spread"]);super(r),this.name="FatOscillator",this._oscillators=[],this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),this._spread=r.spread,this._type=r.type,this._phase=r.phase,this._partials=r.partials,this._partialCount=r.partialCount,this.count=r.count,At(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ar.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(r){r=this.toSeconds(r),this._forEach(m=>m.start(r))}_stop(r){r=this.toSeconds(r),this._forEach(m=>m.stop(r))}_restart(r){this._forEach(m=>m.restart(r))}_forEach(r){for(let m=0;m<this._oscillators.length;m++)r(this._oscillators[m],m)}get type(){return this._type}set type(r){this._type=r,this._forEach(m=>m.type=r)}get spread(){return this._spread}set spread(r){if(this._spread=r,this._oscillators.length>1){const m=-r/2,t=r/(this._oscillators.length-1);this._forEach((j,w)=>j.detune.value=m+t*w)}}get count(){return this._oscillators.length}set count(r){if(wn(r,1),this._oscillators.length!==r){this._forEach(m=>m.dispose()),this._oscillators=[];for(let m=0;m<r;m++){const t=new Ar({context:this.context,volume:-6-r*1.1,type:this._type,phase:this._phase+m/r*360,partialCount:this._partialCount,onstop:m===0?()=>this.onstop(this):qt});this.type==="custom"&&(t.partials=this._partials),this.frequency.connect(t.frequency),this.detune.connect(t.detune),t.detune.overridden=!1,t.connect(this.output),this._oscillators[m]=t}this.spread=this._spread,this.state==="started"&&this._forEach(m=>m.start())}}get phase(){return this._phase}set phase(r){this._phase=r,this._forEach((m,t)=>m.phase=this._phase+t/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(r){this._forEach(m=>m.baseType=r),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this._type="custom",this._forEach(m=>m.partials=r))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(r){this._partialCount=r,this._forEach(m=>m.partialCount=r),this._type=this._oscillators[0].type}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(r=>r.dispose()),this}}class Pu extends Vr{constructor(){const r=$e(Pu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(r),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new kr({context:this.context,value:2}),this._pulse=new dl({context:this.context,frequency:r.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ar({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),At(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Vr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(r){r=this.toSeconds(r),this._modulator.start(r),this._pulse.start(r)}_stop(r){r=this.toSeconds(r),this._modulator.stop(r),this._pulse.stop(r)}_restart(r){this._modulator.restart(r),this._pulse.restart(r)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(r){this._modulator.phase=r}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Kv={am:Lu,fat:Nu,fm:hl,oscillator:Ar,pulse:dl,pwm:Pu};class Oi extends Vr{constructor(){const r=$e(Oi.getDefaults(),arguments,["frequency","type"]);super(r),this.name="OmniOscillator",this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),At(this,["frequency","detune"]),this.set(r)}static getDefaults(){return Object.assign(Ar.getDefaults(),hl.getDefaults(),Lu.getDefaults(),Nu.getDefaults(),dl.getDefaults(),Pu.getDefaults())}_start(r){this._oscillator.start(r)}_stop(r){this._oscillator.stop(r)}_restart(r){return this._oscillator.restart(r),this}get type(){let r="";return["am","fm","fat"].some(m=>this._sourceType===m)&&(r=this._sourceType),r+this._oscillator.type}set type(r){r.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(3)):r==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):r==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=r)}get partials(){return this._oscillator.partials}set partials(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=r)}get partialCount(){return this._oscillator.partialCount}set partialCount(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=r)}set(r){return Reflect.has(r,"type")&&r.type&&(this.type=r.type),super.set(r),this}_createNewOscillator(r){if(r!==this._sourceType){this._sourceType=r;const m=Kv[r],t=this.now();if(this._oscillator){const j=this._oscillator;j.stop(t),this.context.setTimeout(()=>j.dispose(),this.blockTime)}this._oscillator=new m({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(t)}}get phase(){return this._oscillator.phase}set phase(r){this._oscillator.phase=r}get sourceType(){return this._sourceType}set sourceType(r){let m="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(m=this._oscillator.type),r==="fm"?this.type="fm"+m:r==="am"?this.type="am"+m:r==="fat"?this.type="fat"+m:r==="oscillator"?this.type=m:r==="pulse"?this.type="pulse":r==="pwm"&&(this.type="pwm")}_getOscType(r,m){return r instanceof Kv[m]}get baseType(){return this._oscillator.baseType}set baseType(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&r!=="pulse"&&r!=="pwm"&&(this._oscillator.baseType=r)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(r){this._getOscType(this._oscillator,"fat")&&ds(r)&&(this._oscillator.count=r)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(r){this._getOscType(this._oscillator,"fat")&&ds(r)&&(this._oscillator.spread=r)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(r){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Us(r)&&(this._oscillator.modulationType=r)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return vr(this,arguments,void 0,function*(r=1024){return na(this,r)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class sa extends Dt{constructor(){super($e(sa.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new xt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,fs(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Dt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Ai extends ps{constructor(){const r=$e(Ai.getDefaults(),arguments,["min","max"]);super(r),this.name="Scale",this._mult=this.input=new kr({context:this.context,value:r.max-r.min}),this._add=this.output=new sa({context:this.context,value:r.min}),this._min=r.min,this._max=r.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(ps.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(r){this._min=r,this._setRange()}get max(){return this._max}set max(r){this._max=r,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Bh extends ps{constructor(){super($e(Bh.getDefaults(),arguments)),this.name="Zero",this._gain=new xt({context:this.context}),this.output=this._gain,this.input=void 0,zn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Np(this.context.getConstant(0),this._gain),this}}class Gn extends ot{constructor(){const r=$e(Gn.getDefaults(),arguments,["frequency","min","max"]);super(r),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Pt.prototype._fromType,this._toType=Pt.prototype._toType,this._is=Pt.prototype._is,this._clampValue=Pt.prototype._clampValue,this._oscillator=new Ar(r),this.frequency=this._oscillator.frequency,this._amplitudeGain=new xt({context:this.context,gain:r.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Dt({context:this.context,units:"audioRange",value:0}),this._zeros=new Bh({context:this.context}),this._a2g=new Uh({context:this.context}),this._scaler=this.output=new Ai({context:this.context,max:r.max,min:r.min}),this.units=r.units,this.min=r.min,this.max=r.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),At(this,["amplitude","frequency"]),this.phase=r.phase}static getDefaults(){return Object.assign(Ar.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(r){return r=this.toSeconds(r),this._stoppedSignal.setValueAtTime(0,r),this._oscillator.start(r),this}stop(r){return r=this.toSeconds(r),this._stoppedSignal.setValueAtTime(this._stoppedValue,r),this._oscillator.stop(r),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(r){r=this._fromType(r),this._scaler.min=r}get max(){return this._toType(this._scaler.max)}set max(r){r=this._fromType(r),this._scaler.max=r}get type(){return this._oscillator.type}set type(r){this._oscillator.type=r,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(r){this._oscillator.partials=r,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(r){this._oscillator.phase=r,this._setStoppedValue()}get units(){return this._units}set units(r){const m=this.min,t=this.max;this._units=r,this.min=m,this.max=t}get state(){return this._oscillator.state}connect(r,m,t){return(r instanceof Pt||r instanceof Dt)&&(this.convert=r.convert,this.units=r.units),Du(this,r,m,t),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function ab(R,r=1/0){const m=new WeakMap;return function(t,j){Reflect.defineProperty(t,j,{configurable:!0,enumerable:!0,get:function(){return m.get(this)},set:function(w){wn(w,R,r),m.set(this,w)}})}}function Di(R,r=1/0){const m=new WeakMap;return function(t,j){Reflect.defineProperty(t,j,{configurable:!0,enumerable:!0,get:function(){return m.get(this)},set:function(w){wn(this.toSeconds(w),R,r),m.set(this,w)}})}}class fl extends Vr{constructor(){const r=$e(fl.getDefaults(),arguments,["url","onload"]);super(r),this.name="Player",this._activeSources=new Set,this._buffer=new Jt({onload:this._onload.bind(this,r.onload),onerror:r.onerror,reverse:r.reverse,url:r.url}),this.autostart=r.autostart,this._loop=r.loop,this._loopStart=r.loopStart,this._loopEnd=r.loopEnd,this._playbackRate=r.playbackRate,this.fadeIn=r.fadeIn,this.fadeOut=r.fadeOut}static getDefaults(){return Object.assign(Vr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:qt,onerror:qt,playbackRate:1,reverse:!1})}load(r){return vr(this,void 0,void 0,function*(){return yield this._buffer.load(r),this._onload(),this})}_onload(r=qt){r(),this.autostart&&this.start()}_onSourceEnd(r){this.onstop(this),this._activeSources.delete(r),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(r,m,t){return super.start(r,m,t),this}_start(r,m,t){this._loop?m=Os(m,this._loopStart):m=Os(m,0);const j=this.toSeconds(m),w=t;t=Os(t,Math.max(this._buffer.duration-j,0));let f=this.toSeconds(t);f=f/this._playbackRate,r=this.toSeconds(r);const p=new vo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(r+f),this._state.setStateAtTime("stopped",r+f,{implicitEnd:!0})),this._activeSources.add(p),this._loop&&Kn(w)?p.start(r,j):p.start(r,j,f-this.toSeconds(this.fadeOut))}_stop(r){const m=this.toSeconds(r);this._activeSources.forEach(t=>t.stop(m))}restart(r,m,t){return super.restart(r,m,t),this}_restart(r,m,t){var j;(j=[...this._activeSources].pop())===null||j===void 0||j.stop(r),this._start(r,m,t)}seek(r,m){const t=this.toSeconds(m);if(this._state.getValueAtTime(t)==="started"){const j=this.toSeconds(r);this._stop(t),this._start(t,j)}return this}setLoopPoints(r,m){return this.loopStart=r,this.loopEnd=m,this}get loopStart(){return this._loopStart}set loopStart(r){this._loopStart=r,this.buffer.loaded&&wn(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(m=>{m.loopStart=r})}get loopEnd(){return this._loopEnd}set loopEnd(r){this._loopEnd=r,this.buffer.loaded&&wn(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(m=>{m.loopEnd=r})}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._loop}set loop(r){if(this._loop!==r&&(this._loop=r,this._activeSources.forEach(m=>{m.loop=r}),r)){const m=this._state.getNextState("stopped",this.now());m&&this._state.cancel(m.time)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r;const m=this.now(),t=this._state.getNextState("stopped",m);t&&t.implicitEnd&&(this._state.cancel(t.time),this._activeSources.forEach(j=>j.cancelStop())),this._activeSources.forEach(j=>{j.playbackRate.setValueAtTime(r,m)})}get reverse(){return this._buffer.reverse}set reverse(r){this._buffer.reverse=r}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(r=>r.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Vs([Di(0)],fl.prototype,"fadeIn",void 0);Vs([Di(0)],fl.prototype,"fadeOut",void 0);class Vp extends ot{constructor(){const r=$e(Vp.getDefaults(),arguments,["urls","onload"],"urls");super(r),this.name="Players",this.input=void 0,this._players=new Map,this._volume=this.output=new Ci({context:this.context,volume:r.volume}),this.volume=this._volume.volume,At(this,"volume"),this._buffers=new ul({urls:r.urls,onload:r.onload,baseUrl:r.baseUrl,onerror:r.onerror}),this.mute=r.mute,this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut}static getDefaults(){return Object.assign(Vr.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:qt,onerror:qt,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r,this._players.forEach(m=>{m.fadeIn=r})}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r,this._players.forEach(m=>{m.fadeOut=r})}get state(){return Array.from(this._players).some(([m,t])=>t.state==="started")?"started":"stopped"}has(r){return this._buffers.has(r)}player(r){if(wt(this.has(r),`No Player with the name ${r} exists on this object`),!this._players.has(r)){const m=new fl({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(r)}).connect(this.output);this._players.set(r,m)}return this._players.get(r)}get loaded(){return this._buffers.loaded}add(r,m,t){return wt(!this._buffers.has(r),"A buffer with that name already exists on this object"),this._buffers.add(r,m,t),this}stopAll(r){return this._players.forEach(m=>m.stop(r)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(r=>r.dispose()),this._buffers.dispose(),this}}class Gp extends Vr{constructor(){const r=$e(Gp.getDefaults(),arguments,["url","onload"]);super(r),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[],this.buffer=new Jt({onload:r.onload,onerror:r.onerror,reverse:r.reverse,url:r.url}),this._clock=new ll({context:this.context,callback:this._tick.bind(this),frequency:1/r.grainSize}),this._playbackRate=r.playbackRate,this._grainSize=r.grainSize,this._overlap=r.overlap,this.detune=r.detune,this.overlap=r.overlap,this.loop=r.loop,this.playbackRate=r.playbackRate,this.grainSize=r.grainSize,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this.reverse=r.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(Vr.getDefaults(),{onload:qt,onerror:qt,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(r,m,t){m=Os(m,0),m=this.toSeconds(m),r=this.toSeconds(r);const j=1/this._clock.frequency.getValueAtTime(r);this._clock.start(r,m/j),t&&this.stop(r+this.toSeconds(t))}restart(r,m,t){return super.restart(r,m,t),this}_restart(r,m,t){this._stop(r),this._start(r,m,t)}_stop(r){this._clock.stop(r)}_onstop(r){this._activeSources.forEach(m=>{m.fadeOut=0,m.stop(r)}),this.onstop(this)}_tick(r){const m=this._clock.getTicksAtTime(r),t=m*this._grainSize;if(this.log("offset",t),!this.loop&&t>this.buffer.duration){this.stop(r);return}const j=t<this._overlap?0:this._overlap,w=new vo({context:this.context,url:this.buffer,fadeIn:j,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Za(this.detune/100)}).connect(this.output);w.start(r,this._grainSize*m),w.stop(r+this._grainSize/this.playbackRate),this._activeSources.push(w),w.onended=()=>{const f=this._activeSources.indexOf(w);f!==-1&&this._activeSources.splice(f,1)}}get playbackRate(){return this._playbackRate}set playbackRate(r){wn(r,.001),this._playbackRate=r,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(r){this.buffer.loaded&&wn(this.toSeconds(r),0,this.buffer.duration),this._loopStart=this.toSeconds(r)}get loopEnd(){return this._loopEnd}set loopEnd(r){this.buffer.loaded&&wn(this.toSeconds(r),0,this.buffer.duration),this._loopEnd=this.toSeconds(r)}get reverse(){return this.buffer.reverse}set reverse(r){this.buffer.reverse=r}get grainSize(){return this._grainSize}set grainSize(r){this._grainSize=this.toSeconds(r),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(r){const m=this.toSeconds(r);wn(m,0),this._overlap=m}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(r=>r.dispose()),this}}class lb extends ps{constructor(){super(...arguments),this.name="Abs",this._abs=new Gs({context:this.context,mapping:r=>Math.abs(r)<.001?0:Math.abs(r)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class ub extends ps{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Gs({context:this.context,mapping:r=>Math.abs(r)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class zp extends ps{constructor(){super(...arguments),this.name="Negate",this._multiply=new kr({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class ia extends Dt{constructor(){super($e(ia.getDefaults(),arguments,["value"])),this.override=!1,this.name="Subtract",this._sum=new xt({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new zp({context:this.context}),this.subtrahend=this._param,fs(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Dt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Vh extends ps{constructor(){super($e(Vh.getDefaults(),arguments)),this.name="GreaterThanZero",this._thresh=this.output=new Gs({context:this.context,length:127,mapping:r=>r<=0?0:1}),this._scale=this.input=new kr({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Gh extends Dt{constructor(){const r=$e(Gh.getDefaults(),arguments,["value"]);super(r),this.name="GreaterThan",this.override=!1,this._subtract=this.input=new ia({context:this.context,value:r.value}),this._gtz=this.output=new Vh({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,At(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Dt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class zh extends Ai{constructor(){const r=$e(zh.getDefaults(),arguments,["min","max","exponent"]);super(r),this.name="ScaleExp",this.input=this._exp=new cl({context:this.context,value:r.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Ai.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(r){this._exp.value=r}dispose(){return super.dispose(),this._exp.dispose(),this}}class zj extends Dt{constructor(){const r=$e(Dt.getDefaults(),arguments,["value","units"]);super(r),this.name="SyncedSignal",this.override=!1,this._lastVal=r.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Ih({context:this.context,offset:r.value,units:r.units}).start(0),this.setValueAtTime(r.value,0)}_onTick(r){const m=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==m&&(this._lastVal=m,this._constantSource.offset.setValueAtTime(m,r))}_anchorValue(r){const m=super.getValueAtTime(this.context.transport.seconds);this._lastVal=m,this._constantSource.offset.cancelAndHoldAtTime(r),this._constantSource.offset.setValueAtTime(m,r)}getValueAtTime(r){const m=new $r(this.context,r).toSeconds();return super.getValueAtTime(m)}setValueAtTime(r,m){const t=new $r(this.context,m).toSeconds();return super.setValueAtTime(r,t),this}linearRampToValueAtTime(r,m){const t=new $r(this.context,m).toSeconds();return super.linearRampToValueAtTime(r,t),this}exponentialRampToValueAtTime(r,m){const t=new $r(this.context,m).toSeconds();return super.exponentialRampToValueAtTime(r,t),this}setTargetAtTime(r,m,t){const j=new $r(this.context,m).toSeconds();return super.setTargetAtTime(r,j,t),this}cancelScheduledValues(r){const m=new $r(this.context,r).toSeconds();return super.cancelScheduledValues(m),this}setValueCurveAtTime(r,m,t,j){const w=new $r(this.context,m).toSeconds();return t=this.toSeconds(t),super.setValueCurveAtTime(r,w,t,j),this}cancelAndHoldAtTime(r){const m=new $r(this.context,r).toSeconds();return super.cancelAndHoldAtTime(m),this}setRampPoint(r){const m=new $r(this.context,r).toSeconds();return super.setRampPoint(m),this}exponentialRampTo(r,m,t){const j=new $r(this.context,t).toSeconds();return super.exponentialRampTo(r,m,j),this}linearRampTo(r,m,t){const j=new $r(this.context,t).toSeconds();return super.linearRampTo(r,m,j),this}targetRampTo(r,m,t){const j=new $r(this.context,t).toSeconds();return super.targetRampTo(r,m,j),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class En extends ot{constructor(){const r=$e(En.getDefaults(),arguments,["attack","decay","sustain","release"]);super(r),this.name="Envelope",this._sig=new Dt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=r.attack,this.decay=r.decay,this.sustain=r.sustain,this.release=r.release,this.attackCurve=r.attackCurve,this.releaseCurve=r.releaseCurve,this.decayCurve=r.decayCurve}static getDefaults(){return Object.assign(ot.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(r,m){if(Us(r))return r;{let t;for(t in hh)if(hh[t][m]===r)return t;return r}}_setCurve(r,m,t){if(Us(t)&&Reflect.has(hh,t)){const j=hh[t];Ei(j)?r!=="_decayCurve"&&(this[r]=j[m]):this[r]=j}else if(Tn(t)&&r!=="_decayCurve")this[r]=t;else throw new Error("Envelope: invalid curve: "+t)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(r){this._setCurve("_attackCurve","In",r)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(r){this._setCurve("_releaseCurve","Out",r)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(r){this._setCurve("_decayCurve","Out",r)}triggerAttack(r,m=1){this.log("triggerAttack",r,m),r=this.toSeconds(r);let j=this.toSeconds(this.attack);const w=this.toSeconds(this.decay),f=this.getValueAtTime(r);if(f>0){const p=1/j;j=(1-f)/p}if(j<this.sampleTime)this._sig.cancelScheduledValues(r),this._sig.setValueAtTime(m,r);else if(this._attackCurve==="linear")this._sig.linearRampTo(m,j,r);else if(this._attackCurve==="exponential")this._sig.targetRampTo(m,j,r);else{this._sig.cancelAndHoldAtTime(r);let p=this._attackCurve;for(let i=1;i<p.length;i++)if(p[i-1]<=f&&f<=p[i]){p=this._attackCurve.slice(i),p[0]=f;break}this._sig.setValueCurveAtTime(p,r,j,m)}if(w&&this.sustain<1){const p=m*this.sustain,i=r+j;this.log("decay",i),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(p,w+i):this._sig.exponentialApproachValueAtTime(p,i,w)}return this}triggerRelease(r){this.log("triggerRelease",r),r=this.toSeconds(r);const m=this.getValueAtTime(r);if(m>0){const t=this.toSeconds(this.release);t<this.sampleTime?this._sig.setValueAtTime(0,r):this._releaseCurve==="linear"?this._sig.linearRampTo(0,t,r):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,t,r):(wt(Tn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(r),this._sig.setValueCurveAtTime(this._releaseCurve,r,t,m))}return this}getValueAtTime(r){return this._sig.getValueAtTime(r)}triggerAttackRelease(r,m,t=1){return m=this.toSeconds(m),this.triggerAttack(m,t),this.triggerRelease(m+this.toSeconds(r)),this}cancel(r){return this._sig.cancelScheduledValues(this.toSeconds(r)),this}connect(r,m=0,t=0){return Du(this,r,m,t),this}asArray(){return vr(this,arguments,void 0,function*(r=1024){const m=r/this.context.sampleRate,t=new ol(1,m,this.context.sampleRate),j=this.toSeconds(this.attack)+this.toSeconds(this.decay),w=j+this.toSeconds(this.release),f=w*.1,p=w+f,i=new this.constructor(Object.assign(this.get(),{attack:m*this.toSeconds(this.attack)/p,decay:m*this.toSeconds(this.decay)/p,release:m*this.toSeconds(this.release)/p,context:t}));return i._sig.toDestination(),i.triggerAttackRelease(m*(j+f)/p,0),(yield t.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Vs([Di(0)],En.prototype,"attack",void 0);Vs([Di(0)],En.prototype,"decay",void 0);Vs([ab(0,1)],En.prototype,"sustain",void 0);Vs([Di(0)],En.prototype,"release",void 0);const hh=(()=>{let r,m;const t=[];for(r=0;r<128;r++)t[r]=Math.sin(r/127*(Math.PI/2));const j=[],w=6.4;for(r=0;r<127;r++){m=r/127;const o=Math.sin(m*(Math.PI*2)*w-Math.PI/2)+1;j[r]=o/10+m*.83}j[127]=1;const f=[],p=5;for(r=0;r<128;r++)f[r]=Math.ceil(r/127*p)/p;const i=[];for(r=0;r<128;r++)m=r/127,i[r]=.5*(1-Math.cos(Math.PI*m));const l=[];for(r=0;r<128;r++){m=r/127;const o=Math.pow(m,3)*4+.2,a=Math.cos(o*Math.PI*2*m);l[r]=Math.abs(a*(1-m))}function b(o){const a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=1-o[u];return a}function v(o){return o.slice(0).reverse()}return{bounce:{In:b(l),Out:l},cosine:{In:t,Out:v(t)},exponential:"exponential",linear:"linear",ripple:{In:j,Out:b(j)},sine:{In:i,Out:b(i)},step:{In:f,Out:b(f)}}})();class As extends ot{constructor(){const r=$e(As.getDefaults(),arguments);super(r),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=m=>this._original_triggerRelease(m),this._volume=this.output=new Ci({context:this.context,volume:r.volume}),this.volume=this._volume.volume,At(this,"volume")}static getDefaults(){return Object.assign(ot.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let r=!1;return this._synced||(this._synced=!0,r=!0),r}_syncMethod(r,m){const t=this["_original_"+r]=this[r];this[r]=(...j)=>{const w=j[m],f=this.context.transport.schedule(p=>{j[m]=p,t.apply(this,j)},w);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(r=>this.context.transport.clear(r)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(r,m,t,j){const w=this.toSeconds(t),f=this.toSeconds(m);return this.triggerAttack(r,w,j),this.triggerRelease(w+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class jn extends As{constructor(){const r=$e(jn.getDefaults(),arguments);super(r),this.portamento=r.portamento,this.onsilence=r.onsilence}static getDefaults(){return Object.assign(As.getDefaults(),{detune:0,onsilence:qt,portamento:0})}triggerAttack(r,m,t=1){this.log("triggerAttack",r,m,t);const j=this.toSeconds(m);return this._triggerEnvelopeAttack(j,t),this.setNote(r,j),this}triggerRelease(r){this.log("triggerRelease",r);const m=this.toSeconds(r);return this._triggerEnvelopeRelease(m),this}setNote(r,m){const t=this.toSeconds(m),j=r instanceof Vn?r.toFrequency():r;if(this.portamento>0&&this.getLevelAtTime(t)>.05){const w=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(j,w,t)}else this.frequency.setValueAtTime(j,t);return this}}Vs([Di(0)],jn.prototype,"portamento",void 0);class pl extends En{constructor(){super($e(pl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new xt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class as extends jn{constructor(){const r=$e(as.getDefaults(),arguments);super(r),this.name="Synth",this.oscillator=new Oi(Object.assign({context:this.context,detune:r.detune,onstop:()=>this.onsilence(this)},r.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new pl(Object.assign({context:this.context},r.envelope)),this.oscillator.chain(this.envelope,this.output),At(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(jn.getDefaults(),{envelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Sn(Oi.getDefaults(),[...Object.keys(Vr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(r,m){if(this.envelope.triggerAttack(r,m),this.oscillator.start(r),this.envelope.sustain===0){const t=this.toSeconds(this.envelope.attack),j=this.toSeconds(this.envelope.decay);this.oscillator.stop(r+t+j)}}_triggerEnvelopeRelease(r){this.envelope.triggerRelease(r),this.oscillator.stop(r+this.toSeconds(this.envelope.release))}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class vu extends jn{constructor(){const r=$e(vu.getDefaults(),arguments);super(r),this.name="ModulationSynth",this._carrier=new as({context:this.context,oscillator:r.oscillator,envelope:r.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new as({context:this.context,oscillator:r.modulation,envelope:r.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Dt({context:this.context,units:"frequency"}),this.detune=new Dt({context:this.context,value:r.detune,units:"cents"}),this.harmonicity=new kr({context:this.context,value:r.harmonicity,minValue:0}),this._modulationNode=new xt({context:this.context,gain:0}),At(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(jn.getDefaults(),{harmonicity:3,oscillator:Object.assign(Sn(Oi.getDefaults(),[...Object.keys(Vr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Sn(Oi.getDefaults(),[...Object.keys(Vr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(r,m){this._carrier._triggerEnvelopeAttack(r,m),this._modulator._triggerEnvelopeAttack(r,m)}_triggerEnvelopeRelease(r){return this._carrier._triggerEnvelopeRelease(r),this._modulator._triggerEnvelopeRelease(r),this}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class qp extends vu{constructor(){super($e(qp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Uh({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class bu extends ot{constructor(){const r=$e(bu.getDefaults(),arguments,["frequency","type"]);super(r),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Pt({context:this.context,units:"number",value:r.Q,param:this._filter.Q}),this.frequency=new Pt({context:this.context,units:"frequency",value:r.frequency,param:this._filter.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:r.detune,param:this._filter.detune}),this.gain=new Pt({context:this.context,units:"decibels",convert:!1,value:r.gain,param:this._filter.gain}),this.type=r.type}static getDefaults(){return Object.assign(ot.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(r){wt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(r)!==-1,`Invalid filter type: ${r}`),this._filter.type=r}getFrequencyResponse(r=128){const m=new Float32Array(r);for(let f=0;f<r;f++){const i=Math.pow(f/r,2)*19980+20;m[f]=i}const t=new Float32Array(r),j=new Float32Array(r),w=this.context.createBiquadFilter();return w.type=this.type,w.Q.value=this.Q.value,w.frequency.value=this.frequency.value,w.gain.value=this.gain.value,w.getFrequencyResponse(m,t,j),t}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class us extends ot{constructor(){const r=$e(us.getDefaults(),arguments,["frequency","type","rolloff"]);super(r),this.name="Filter",this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this._filters=[],this._filters=[],this.Q=new Dt({context:this.context,units:"positive",value:r.Q}),this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),this.gain=new Dt({context:this.context,units:"decibels",convert:!1,value:r.gain}),this._type=r.type,this.rolloff=r.rolloff,At(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ot.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(r){wt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(r)!==-1,`Invalid filter type: ${r}`),this._type=r,this._filters.forEach(t=>t.type=r)}get rolloff(){return this._rolloff}set rolloff(r){const m=ds(r)?r:parseInt(r,10),t=[-12,-24,-48,-96];let j=t.indexOf(m);wt(j!==-1,`rolloff can only be ${t.join(", ")}`),j+=1,this._rolloff=m,this.input.disconnect(),this._filters.forEach(w=>w.disconnect()),this._filters=new Array(j);for(let w=0;w<j;w++){const f=new bu({context:this.context});f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[w]=f}this._internalChannels=this._filters,fs(this.input,...this._internalChannels,this.output)}getFrequencyResponse(r=128){const m=new bu({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),t=new Float32Array(r).map(()=>1);return this._filters.forEach(()=>{m.getFrequencyResponse(r).forEach((w,f)=>t[f]*=w)}),m.dispose(),t}dispose(){return super.dispose(),this._filters.forEach(r=>{r.dispose()}),ku(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class _u extends En{constructor(){const r=$e(_u.getDefaults(),arguments,["attack","decay","sustain","release"]);super(r),this.name="FrequencyEnvelope",this._octaves=r.octaves,this._baseFrequency=this.toFrequency(r.baseFrequency),this._exponent=this.input=new cl({context:this.context,value:r.exponent}),this._scale=this.output=new Ai({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(En.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(r){const m=this.toFrequency(r);wn(m,0),this._baseFrequency=m,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(r){this._octaves=r,this._scale.max=this._baseFrequency*Math.pow(2,r)}get exponent(){return this._exponent.value}set exponent(r){this._exponent.value=r}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Zo extends jn{constructor(){const r=$e(Zo.getDefaults(),arguments);super(r),this.name="MonoSynth",this.oscillator=new Oi(Object.assign(r.oscillator,{context:this.context,detune:r.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new us(Object.assign(r.filter,{context:this.context})),this.filterEnvelope=new _u(Object.assign(r.filterEnvelope,{context:this.context})),this.envelope=new pl(Object.assign(r.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),At(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(jn.getDefaults(),{envelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Sn(us.getDefaults(),Object.keys(ot.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Sn(_u.getDefaults(),Object.keys(ot.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Sn(Oi.getDefaults(),Object.keys(Vr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(r,m=1){if(this.envelope.triggerAttack(r,m),this.filterEnvelope.triggerAttack(r),this.oscillator.start(r),this.envelope.sustain===0){const t=this.toSeconds(this.envelope.attack),j=this.toSeconds(this.envelope.decay);this.oscillator.stop(r+t+j)}}_triggerEnvelopeRelease(r){this.envelope.triggerRelease(r),this.filterEnvelope.triggerRelease(r),this.oscillator.stop(r+this.toSeconds(this.envelope.release))}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Hp extends jn{constructor(){const r=$e(Hp.getDefaults(),arguments);super(r),this.name="DuoSynth",this.voice0=new Zo(Object.assign(r.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Zo(Object.assign(r.voice1,{context:this.context})),this.harmonicity=new kr({context:this.context,units:"positive",value:r.harmonicity}),this._vibrato=new Gn({frequency:r.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new xt({context:this.context,units:"normalRange",gain:r.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Dt({context:this.context,units:"frequency",value:440}),this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),At(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(r){return r=this.toSeconds(r),this.voice0.envelope.getValueAtTime(r)+this.voice1.envelope.getValueAtTime(r)}static getDefaults(){return Ms(jn.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ms(Sn(Zo.getDefaults(),Object.keys(jn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ms(Sn(Zo.getDefaults(),Object.keys(jn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(r,m){this.voice0._triggerEnvelopeAttack(r,m),this.voice1._triggerEnvelopeAttack(r,m)}_triggerEnvelopeRelease(r){return this.voice0._triggerEnvelopeRelease(r),this.voice1._triggerEnvelopeRelease(r),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Wp extends vu{constructor(){const r=$e(Wp.getDefaults(),arguments);super(r),this.name="FMSynth",this.modulationIndex=new kr({context:this.context,value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(vu.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Jv=[1,1.483,1.932,2.546,2.63,3.897];class Xp extends jn{constructor(){const r=$e(Xp.getDefaults(),arguments);super(r),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new Dt({context:this.context,units:"cents",value:r.detune}),this.frequency=new Dt({context:this.context,units:"frequency"}),this._amplitude=new xt({context:this.context,gain:0}).connect(this.output),this._highpass=new us({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let m=0;m<Jv.length;m++){const t=new hl({context:this.context,harmonicity:r.harmonicity,modulationIndex:r.modulationIndex,modulationType:"square",onstop:m===0?()=>this.onsilence(this):qt,type:"square"});t.connect(this._highpass),this._oscillators[m]=t;const j=new kr({context:this.context,value:Jv[m]});this._freqMultipliers[m]=j,this.frequency.chain(j,t.frequency),this.detune.connect(t.detune)}this._filterFreqScaler=new Ai({context:this.context,max:7e3,min:this.toFrequency(r.resonance)}),this.envelope=new En({attack:r.envelope.attack,attackCurve:"linear",context:this.context,decay:r.envelope.decay,release:r.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=r.octaves,this.octaves=r.octaves}static getDefaults(){return Ms(jn.getDefaults(),{envelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(r,m=1){return this.envelope.triggerAttack(r,m),this._oscillators.forEach(t=>t.start(r)),this.envelope.sustain===0&&this._oscillators.forEach(t=>{t.stop(r+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(r){return this.envelope.triggerRelease(r),this._oscillators.forEach(m=>m.stop(r+this.toSeconds(this.envelope.release))),this}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(r){this._oscillators.forEach(m=>m.modulationIndex.value=r)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(r){this._oscillators.forEach(m=>m.harmonicity.value=r)}get resonance(){return this._filterFreqScaler.min}set resonance(r){this._filterFreqScaler.min=this.toFrequency(r),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(r){this._octaves=r,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,r)}dispose(){return super.dispose(),this._oscillators.forEach(r=>r.dispose()),this._freqMultipliers.forEach(r=>r.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class ml extends as{constructor(){const r=$e(ml.getDefaults(),arguments);super(r),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=r.pitchDecay,this.octaves=r.octaves,At(this,["oscillator","envelope"])}static getDefaults(){return Ms(jn.getDefaults(),as.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(r,m){const t=this.toSeconds(m),j=this.toFrequency(r instanceof Vn?r.toFrequency():r),w=j*this.octaves;return this.oscillator.frequency.setValueAtTime(w,t),this.oscillator.frequency.exponentialRampToValueAtTime(j,t+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Vs([ab(0)],ml.prototype,"octaves",void 0);Vs([Di(0)],ml.prototype,"pitchDecay",void 0);class Yp extends As{constructor(){const r=$e(Yp.getDefaults(),arguments);super(r),this.name="NoiseSynth",this.noise=new po(Object.assign({context:this.context},r.noise)),this.envelope=new pl(Object.assign({context:this.context},r.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(As.getDefaults(),{envelope:Object.assign(Sn(En.getDefaults(),Object.keys(ot.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Sn(po.getDefaults(),Object.keys(Vr.getDefaults())),{type:"white"})})}triggerAttack(r,m=1){return r=this.toSeconds(r),this.envelope.triggerAttack(r,m),this.noise.start(r),this.envelope.sustain===0&&this.noise.stop(r+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(r){return r=this.toSeconds(r),this.envelope.triggerRelease(r),this.noise.stop(r+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(r,m,t=1){return m=this.toSeconds(m),r=this.toSeconds(r),this.triggerAttack(m,t),this.triggerRelease(m+r),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Zp=new Set;function Qp(R){Zp.add(R)}function cb(R,r){const m=`registerProcessor("${R}", ${r})`;Zp.add(m)}function qj(){return Array.from(Zp).join(`
`)}class sp extends ot{constructor(r){super(r),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=qt;const m=URL.createObjectURL(new Blob([qj()],{type:"text/javascript"})),t=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(m).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(t,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const Hj=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Qp(Hj);const Wj=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Qp(Wj);const Xj=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Qp(Xj);const hb="feedback-comb-filter",Yj=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;cb(hb,Yj);class Iu extends sp{constructor(){const r=$e(Iu.getDefaults(),arguments,["delayTime","resonance"]);super(r),this.name="FeedbackCombFilter",this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this.delayTime=new Pt({context:this.context,value:r.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Pt({context:this.context,value:r.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),At(this,["resonance","delayTime"])}_audioWorkletName(){return hb}static getDefaults(){return Object.assign(ot.getDefaults(),{delayTime:.1,resonance:.5})}onReady(r){fs(this.input,r,this.output);const m=r.parameters.get("delayTime");this.delayTime.setParam(m);const t=r.parameters.get("feedback");this.resonance.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Fu extends ot{constructor(){const r=$e(Fu.getDefaults(),arguments,["frequency","type"]);super(r),this.name="OnePoleFilter",this._frequency=r.frequency,this._type=r.type,this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ot.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const r=this._filter,m=this.toFrequency(this._frequency),t=1/(2*Math.PI*m);if(this._type==="lowpass"){const j=1/(t*this.context.sampleRate),w=j-1;this._filter=this.context.createIIRFilter([j,0],[1,w])}else{const j=1/(t*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,j])}this.input.chain(this._filter,this.output),r&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(r),r.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(r){this._frequency=r,this._createFilter()}get type(){return this._type}set type(r){this._type=r,this._createFilter()}getFrequencyResponse(r=128){const m=new Float32Array(r);for(let w=0;w<r;w++){const p=Math.pow(w/r,2)*19980+20;m[w]=p}const t=new Float32Array(r),j=new Float32Array(r);return this._filter.getFrequencyResponse(m,t,j),t}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Uu extends ot{constructor(){const r=$e(Uu.getDefaults(),arguments,["delayTime","resonance","dampening"]);super(r),this.name="LowpassCombFilter",this._combFilter=this.output=new Iu({context:this.context,delayTime:r.delayTime,resonance:r.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Fu({context:this.context,frequency:r.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ot.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(r){this._lowpass.frequency=r}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Kp extends As{constructor(){const r=$e(Kp.getDefaults(),arguments);super(r),this.name="PluckSynth",this._noise=new po({context:this.context,type:"pink"}),this.attackNoise=r.attackNoise,this._lfcf=new Uu({context:this.context,dampening:r.dampening,resonance:r.resonance}),this.resonance=r.resonance,this.release=r.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ms(As.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(r){this._lfcf.dampening=r}triggerAttack(r,m){const t=this.toFrequency(r);m=this.toSeconds(m);const j=1/t;return this._lfcf.delayTime.setValueAtTime(j,m),this._noise.start(m),this._noise.stop(m+j*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(m),this._lfcf.resonance.setValueAtTime(this.resonance,m),this}triggerRelease(r){return this._lfcf.resonance.linearRampTo(0,this.release,r),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Qo extends As{constructor(){const r=$e(Qo.getDefaults(),arguments,["voice","options"]);super(r),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=j=>this.releaseAll(j),wt(!ds(r.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const m=r.voice.getDefaults();this.options=Object.assign(m,r.options),this.voice=r.voice,this.maxPolyphony=r.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const t=this._voices.indexOf(this._dummyVoice);this._voices.splice(t,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(As.getDefaults(),{maxPolyphony:32,options:{},voice:as})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(r){this._availableVoices.push(r);const m=this._activeVoices.findIndex(t=>t.voice===r);this._activeVoices.splice(m,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const r=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return wt(r instanceof jn,"Voice must extend Monophonic class"),r.connect(this.output),this._voices.push(r),r}else nl("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const r=this._availableVoices.shift(),m=this._voices.indexOf(r);this._voices.splice(m,1),this.context.isOffline||r.dispose()}}_triggerAttack(r,m,t){r.forEach(j=>{const w=new Ka(this.context,j).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(j,m,t),this._activeVoices.push({midi:w,voice:f,released:!1}),this.log("triggerAttack",j,m))})}_triggerRelease(r,m){r.forEach(t=>{const j=new Ka(this.context,t).toMidi(),w=this._activeVoices.find(({midi:f,released:p})=>f===j&&!p);w&&(w.voice.triggerRelease(m),w.released=!0,this.log("triggerRelease",t,m))})}_scheduleEvent(r,m,t,j){wt(!this.disposed,"Synth was already disposed"),t<=this.now()?r==="attack"?this._triggerAttack(m,t,j):this._triggerRelease(m,t):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(r,m,t,j)},t-this.now())}triggerAttack(r,m,t){Array.isArray(r)||(r=[r]);const j=this.toSeconds(m);return this._scheduleEvent("attack",r,j,t),this}triggerRelease(r,m){Array.isArray(r)||(r=[r]);const t=this.toSeconds(m);return this._scheduleEvent("release",r,t),this}triggerAttackRelease(r,m,t,j){const w=this.toSeconds(t);if(this.triggerAttack(r,w,j),Tn(m)){wt(Tn(r),"If the duration is an array, the notes must also be an array"),r=r;for(let f=0;f<r.length;f++){const p=m[Math.min(f,m.length-1)],i=this.toSeconds(p);wt(i>0,"The duration must be greater than 0"),this.triggerRelease(r[f],w+i)}}else{const f=this.toSeconds(m);wt(f>0,"The duration must be greater than 0"),this.triggerRelease(r,w+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(r){const m=Sn(r,["onsilence","context"]);return this.options=Ms(this.options,m),this._voices.forEach(t=>t.set(m)),this._dummyVoice.set(m),this}get(){return this._dummyVoice.get()}releaseAll(r){const m=this.toSeconds(r);return this._activeVoices.forEach(({voice:t})=>{t.triggerRelease(m)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(r=>r.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Bu extends As{constructor(){const r=$e(Bu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(r),this.name="Sampler",this._activeSources=new Map;const m={};Object.keys(r.urls).forEach(t=>{const j=parseInt(t,10);if(wt(pu(t)||ds(j)&&isFinite(j),`url key is neither a note or midi pitch: ${t}`),pu(t)){const w=new Vn(this.context,t).toMidi();m[w]=r.urls[t]}else ds(j)&&isFinite(j)&&(m[j]=r.urls[j])}),this._buffers=new ul({urls:m,onload:r.onload,baseUrl:r.baseUrl,onerror:r.onerror}),this.attack=r.attack,this.release=r.release,this.curve=r.curve,this._buffers.loaded&&Promise.resolve().then(r.onload)}static getDefaults(){return Object.assign(As.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:qt,onerror:qt,release:.1,urls:{}})}_findClosest(r){let t=0;for(;t<96;){if(this._buffers.has(r+t))return-t;if(this._buffers.has(r-t))return t;t++}throw new Error(`No available buffers for note: ${r}`)}triggerAttack(r,m,t=1){return this.log("triggerAttack",r,m,t),Array.isArray(r)||(r=[r]),r.forEach(j=>{const w=ib(new Vn(this.context,j).toFrequency()),f=Math.round(w),p=w-f,i=this._findClosest(f),l=f-i,b=this._buffers.get(l),v=Za(i+p),o=new vo({url:b,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);o.start(m,0,b.duration/v,t),Tn(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(o),o.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const a=this._activeSources.get(f),u=a.indexOf(o);u!==-1&&a.splice(u,1)}}}),this}triggerRelease(r,m){return this.log("triggerRelease",r,m),Array.isArray(r)||(r=[r]),r.forEach(t=>{const j=new Vn(this.context,t).toMidi();if(this._activeSources.has(j)&&this._activeSources.get(j).length){const w=this._activeSources.get(j);m=this.toSeconds(m),w.forEach(f=>{f.stop(m)}),this._activeSources.set(j,[])}}),this}releaseAll(r){const m=this.toSeconds(r);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(m)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(r,m,t,j=1){const w=this.toSeconds(t);return this.triggerAttack(r,w,j),Tn(m)?(wt(Tn(r),"notes must be an array when duration is array"),r.forEach((f,p)=>{const i=m[Math.min(p,m.length-1)];this.triggerRelease(f,w+this.toSeconds(i))})):this.triggerRelease(r,w+this.toSeconds(m)),this}add(r,m,t){if(wt(pu(r)||isFinite(r),`note must be a pitch or midi: ${r}`),pu(r)){const j=new Vn(this.context,r).toMidi();this._buffers.add(j,m,t)}else this._buffers.add(r,m,t);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(r=>{r.forEach(m=>m.dispose())}),this._activeSources.clear(),this}}Vs([Di(0)],Bu.prototype,"attack",void 0);Vs([Di(0)],Bu.prototype,"release",void 0);class Js extends yn{constructor(){const r=$e(Js.getDefaults(),arguments,["callback","value"]);super(r),this.name="ToneEvent",this._state=new al("stopped"),this._startOffset=0,this._loop=r.loop,this.callback=r.callback,this.value=r.value,this._loopStart=this.toTicks(r.loopStart),this._loopEnd=this.toTicks(r.loopEnd),this._playbackRate=r.playbackRate,this._probability=r.probability,this._humanize=r.humanize,this.mute=r.mute,this._playbackRate=r.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(yn.getDefaults(),{callback:qt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(r=-1){this._state.forEachFrom(r,m=>{let t;if(m.state==="started"){m.id!==-1&&this.context.transport.clear(m.id);const j=m.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ds(this._loop)&&this._loop>1){t=1/0,ds(this._loop)&&(t=this._loop*this._getLoopDuration());const w=this._state.getAfter(j);w!==null&&(t=Math.min(t,w.time-j)),t!==1/0&&(t=new Or(this.context,t));const f=new Or(this.context,this._getLoopDuration());m.id=this.context.transport.scheduleRepeat(this._tick.bind(this),f,new Or(this.context,j),t)}else m.id=this.context.transport.schedule(this._tick.bind(this),new Or(this.context,j))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(r){this._startOffset=r}get probability(){return this._probability}set probability(r){this._probability=r}get humanize(){return this._humanize}set humanize(r){this._humanize=r}start(r){const m=this.toTicks(r);return this._state.getValueAtTime(m)==="stopped"&&(this._state.add({id:-1,state:"started",time:m}),this._rescheduleEvents(m)),this}stop(r){this.cancel(r);const m=this.toTicks(r);if(this._state.getValueAtTime(m)==="started"){this._state.setStateAtTime("stopped",m,{id:-1});const t=this._state.getBefore(m);let j=m;t!==null&&(j=t.time),this._rescheduleEvents(j)}return this}cancel(r){r=Os(r,-1/0);const m=this.toTicks(r);return this._state.forEachFrom(m,t=>{this.context.transport.clear(t.id)}),this._state.cancel(m),this}_tick(r){const m=this.context.transport.getTicksAtTime(r);if(!this.mute&&this._state.getValueAtTime(m)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;Op(this.humanize)||(t=this.toSeconds(this.humanize)),r+=(Math.random()*2-1)*t}this.callback(r,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(r){this._loop=r,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._rescheduleEvents()}get loopEnd(){return new Or(this.context,this._loopEnd).toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r),this._loop&&this._rescheduleEvents()}get loopStart(){return new Or(this.context,this._loopStart).toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const r=this.context.transport.ticks,m=this._state.get(r);if(m!==null&&m.state==="started"){const t=this._getLoopDuration();return(r-m.time)%t/t}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class xu extends yn{constructor(){const r=$e(xu.getDefaults(),arguments,["callback","interval"]);super(r),this.name="Loop",this._event=new Js({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:r.interval,playbackRate:r.playbackRate,probability:r.probability,humanize:r.humanize}),this.callback=r.callback,this.iterations=r.iterations}static getDefaults(){return Object.assign(yn.getDefaults(),{interval:"4n",callback:qt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(r){return this._event.start(r),this}stop(r){return this._event.stop(r),this}cancel(r){return this._event.cancel(r),this}_tick(r){this.callback(r)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(r){this._event.loopEnd=r}get playbackRate(){return this._event.playbackRate}set playbackRate(r){this._event.playbackRate=r}get humanize(){return this._event.humanize}set humanize(r){this._event.humanize=r}get probability(){return this._event.probability}set probability(r){this._event.probability=r}get mute(){return this._event.mute}set mute(r){this._event.mute=r}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(r){r===1/0?this._event.loop=!0:this._event.loop=r}dispose(){return super.dispose(),this._event.dispose(),this}}class wu extends Js{constructor(){const r=$e(wu.getDefaults(),arguments,["callback","events"]);super(r),this.name="Part",this._state=new al("stopped"),this._events=new Set,this._state.increasing=!0,r.events.forEach(m=>{Tn(m)?this.add(m[0],m[1]):this.add(m)})}static getDefaults(){return Object.assign(Js.getDefaults(),{events:[]})}start(r,m){const t=this.toTicks(r);if(this._state.getValueAtTime(t)!=="started"){m=Os(m,this._loop?this._loopStart:0),this._loop?m=Os(m,this._loopStart):m=Os(m,0);const j=this.toTicks(m);this._state.add({id:-1,offset:j,state:"started",time:t}),this._forEach(w=>{this._startNote(w,t,j)})}return this}_startNote(r,m,t){m-=t,this._loop?r.startOffset>=this._loopStart&&r.startOffset<this._loopEnd?(r.startOffset<t&&(m+=this._getLoopDuration()),r.start(new Or(this.context,m))):r.startOffset<this._loopStart&&r.startOffset>=t&&(r.loop=!1,r.start(new Or(this.context,m))):r.startOffset>=t&&r.start(new Or(this.context,m))}get startOffset(){return this._startOffset}set startOffset(r){this._startOffset=r,this._forEach(m=>{m.startOffset+=this._startOffset})}stop(r){const m=this.toTicks(r);return this._state.cancel(m),this._state.setStateAtTime("stopped",m),this._forEach(t=>{t.stop(r)}),this}at(r,m){const t=new $r(this.context,r).toTicks(),j=new Or(this.context,1).toSeconds(),w=this._events.values();let f=w.next();for(;!f.done;){const p=f.value;if(Math.abs(t-p.startOffset)<j)return Ut(m)&&(p.value=m),p;f=w.next()}return Ut(m)?(this.add(r,m),this.at(r)):null}add(r,m){r instanceof Object&&Reflect.has(r,"time")&&(m=r,r=m.time);const t=this.toTicks(r);let j;return m instanceof Js?(j=m,j.callback=this._tick.bind(this)):j=new Js({callback:this._tick.bind(this),context:this.context,value:m}),j.startOffset=t,j.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(j),this._restartEvent(j),this}_restartEvent(r){this._state.forEach(m=>{m.state==="started"?this._startNote(r,m.time,m.offset):r.stop(new Or(this.context,m.time))})}remove(r,m){return Ei(r)&&r.hasOwnProperty("time")&&(m=r,r=m.time),r=this.toTicks(r),this._events.forEach(t=>{t.startOffset===r&&(Kn(m)||Ut(m)&&t.value===m)&&(this._events.delete(t),t.dispose())}),this}clear(){return this._forEach(r=>r.dispose()),this._events.clear(),this}cancel(r){return this._forEach(m=>m.cancel(r)),this._state.cancel(this.toTicks(r)),this}_forEach(r){return this._events&&this._events.forEach(m=>{m instanceof wu?m._forEach(r):r(m)}),this}_setAll(r,m){this._forEach(t=>{t[r]=m})}_tick(r,m){this.mute||this.callback(r,m)}_testLoopBoundries(r){this._loop&&(r.startOffset<this._loopStart||r.startOffset>=this._loopEnd)?r.cancel(0):r.state==="stopped"&&this._restartEvent(r)}get probability(){return this._probability}set probability(r){this._probability=r,this._setAll("probability",r)}get humanize(){return this._humanize}set humanize(r){this._humanize=r,this._setAll("humanize",r)}get loop(){return this._loop}set loop(r){this._loop=r,this._forEach(m=>{m.loopStart=this.loopStart,m.loopEnd=this.loopEnd,m.loop=r,this._testLoopBoundries(m)})}get loopEnd(){return new Or(this.context,this._loopEnd).toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r),this._loop&&this._forEach(m=>{m.loopEnd=r,this._testLoopBoundries(m)})}get loopStart(){return new Or(this.context,this._loopStart).toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r),this._loop&&this._forEach(m=>{m.loopStart=this.loopStart,this._testLoopBoundries(m)})}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._setAll("playbackRate",r)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Zj(R){let r=0;for(;r<R;)r=ra(r,0,R-1),yield r,r++}function*Qj(R){let r=R-1;for(;r>=0;)r=ra(r,0,R-1),yield r,r--}function*fu(R,r){for(;;)yield*r(R)}function*$v(R,r){let m=r?0:R-1;for(;;)m=ra(m,0,R-1),yield m,r?(m++,m>=R-1&&(r=!1)):(m--,m<=0&&(r=!0))}function*Kj(R){let r=0,m=0;for(;r<R;)r=ra(r,0,R-1),yield r,m++,r+=m%2?2:-1}function*Jj(R){let r=R-1,m=0;for(;r>=0;)r=ra(r,0,R-1),yield r,m++,r+=m%2?-2:1}function*$j(R){for(;;)yield Math.floor(Math.random()*R)}function*eT(R){const r=[];for(let m=0;m<R;m++)r.push(m);for(;r.length>0;){const m=r.splice(Math.floor(r.length*Math.random()),1);yield ra(m[0],0,R-1)}}function*tT(R){let r=Math.floor(Math.random()*R);for(;;)r===0?r++:r===R-1||Math.random()<.5?r--:r++,yield r}function*e0(R,r="up",m=0){switch(wt(R>=1,"The number of values must be at least one"),r){case"up":yield*fu(R,Zj);case"down":yield*fu(R,Qj);case"upDown":yield*$v(R,!0);case"downUp":yield*$v(R,!1);case"alternateUp":yield*fu(R,Kj);case"alternateDown":yield*fu(R,Jj);case"random":yield*$j(R);case"randomOnce":yield*fu(R,eT);case"randomWalk":yield*tT(R)}}class Jp extends xu{constructor(){const r=$e(Jp.getDefaults(),arguments,["callback","values","pattern"]);super(r),this.name="Pattern",this.callback=r.callback,this._values=r.values,this._pattern=e0(r.values.length,r.pattern),this._type=r.pattern}static getDefaults(){return Object.assign(xu.getDefaults(),{pattern:"up",values:[],callback:qt})}_tick(r){const m=this._pattern.next();this._index=m.value,this._value=this._values[m.value],this.callback(r,this._value)}get values(){return this._values}set values(r){this._values=r,this.pattern=this._type}get value(){return this._value}get index(){return this._index}get pattern(){return this._type}set pattern(r){this._type=r,this._pattern=e0(this._values.length,this._type)}}class $p extends Js{constructor(){const r=$e($p.getDefaults(),arguments,["callback","events","subdivision"]);super(r),this.name="Sequence",this._part=new wu({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(r.subdivision),this.events=r.events,this.loop=r.loop,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this.playbackRate=r.playbackRate,this.probability=r.probability,this.humanize=r.humanize,this.mute=r.mute,this.playbackRate=r.playbackRate}static getDefaults(){return Object.assign(Sn(Js.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(r,m){m!==null&&!this.mute&&this.callback(r,m)}get events(){return this._events}set events(r){this.clear(),this._eventsArray=r,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(r,m){return this._part.start(r,m&&this._indexTime(m)),this}stop(r){return this._part.stop(r),this}get subdivision(){return new Or(this.context,this._subdivision).toSeconds()}_createSequence(r){return new Proxy(r,{get:(m,t)=>m[t],set:(m,t,j)=>(Us(t)&&isFinite(parseInt(t,10))&&Tn(j)?m[t]=this._createSequence(j):m[t]=j,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(r,m,t){r.forEach((j,w)=>{const f=w*m+t;if(Tn(j))this._rescheduleSequence(j,m/j.length,f);else{const p=new Or(this.context,f,"i").toSeconds();this._part.add(p,j)}})}_indexTime(r){return new Or(this.context,r*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(r){this._part.loop=r}get loopStart(){return this._loopStart}set loopStart(r){this._loopStart=r,this._part.loopStart=this._indexTime(r)}get loopEnd(){return this._loopEnd}set loopEnd(r){this._loopEnd=r,r===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(r)}get startOffset(){return this._part.startOffset}set startOffset(r){this._part.startOffset=r}get playbackRate(){return this._part.playbackRate}set playbackRate(r){this._part.playbackRate=r}get probability(){return this._part.probability}set probability(r){this._part.probability=r}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(r){this._part.humanize=r}get length(){return this._part.length}}class yl extends ot{constructor(){const r=$e(yl.getDefaults(),arguments,["fade"]);super(r),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new ub({context:this.context}),this.a=new xt({context:this.context,gain:0}),this.b=new xt({context:this.context,gain:0}),this.output=new xt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Dt({context:this.context,units:"normalRange",value:r.fade}),At(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",zn(this._split,this.a.gain,0),zn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ot.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class un extends ot{constructor(r){super(r),this.name="Effect",this._dryWet=new yl({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new xt({context:this.context}),this.effectReturn=new xt({context:this.context}),this.input=new xt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(r.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],At(this,"wet")}static getDefaults(){return Object.assign(ot.getDefaults(),{wet:1})}connectEffect(r){return this._internalChannels.push(r),this.effectSend.chain(r,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Th extends un{constructor(r){super(r),this.name="LFOEffect",this._lfo=new Gn({context:this.context,frequency:r.frequency,amplitude:r.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=r.type,At(this,["frequency","depth"])}static getDefaults(){return Object.assign(un.getDefaults(),{frequency:1,type:"sine",depth:1})}start(r){return this._lfo.start(r),this}stop(r){return this._lfo.stop(r),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(r){this._lfo.type=r}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class em extends Th{constructor(){const r=$e(em.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(r),this.name="AutoFilter",this.filter=new us(Object.assign(r.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=r.octaves,this.baseFrequency=r.baseFrequency}static getDefaults(){return Object.assign(Th.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(r){this._lfo.min=this.toFrequency(r),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(r){this._octaves=r,this._lfo.max=this._lfo.min*Math.pow(2,r)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Vu extends ot{constructor(){const r=$e(Vu.getDefaults(),arguments,["pan"]);super(r),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Pt({context:this.context,param:this._panner.pan,value:r.pan,minValue:-1,maxValue:1}),this._panner.channelCount=r.channelCount,this._panner.channelCountMode="explicit",At(this,"pan")}static getDefaults(){return Object.assign(ot.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class tm extends Th{constructor(){const r=$e(tm.getDefaults(),arguments,["frequency"]);super(r),this.name="AutoPanner",this._panner=new Vu({context:this.context,channelCount:r.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Th.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Gu extends ot{constructor(){const r=$e(Gu.getDefaults(),arguments,["smoothing"]);super(r),this.name="Follower",this._abs=this.input=new lb({context:this.context}),this._lowpass=this.output=new Fu({context:this.context,frequency:1/this.toSeconds(r.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=r.smoothing}static getDefaults(){return Object.assign(ot.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(r){this._smoothing=r,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class rm extends un{constructor(){const r=$e(rm.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);super(r),this.name="AutoWah",this._follower=new Gu({context:this.context,smoothing:r.follower}),this._sweepRange=new zh({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(r.baseFrequency),this._octaves=r.octaves,this._inputBoost=new xt({context:this.context}),this._bandpass=new us({context:this.context,rolloff:-48,frequency:0,Q:r.Q}),this._peaking=new us({context:this.context,type:"peaking"}),this._peaking.gain.value=r.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=r.sensitivity,At(this,["gain","Q"])}static getDefaults(){return Object.assign(un.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(r){this._octaves=r,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(r){this._follower.smoothing=r}get baseFrequency(){return this._baseFrequency}set baseFrequency(r){this._baseFrequency=this.toFrequency(r),this._setSweepRange()}get sensitivity(){return Cu(1/this._inputBoost.gain.value)}set sensitivity(r){this._inputBoost.gain.value=1/Ya(r)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const db="bit-crusher",rT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;cb(db,rT);class nm extends un{constructor(){const r=$e(nm.getDefaults(),arguments,["bits"]);super(r),this.name="BitCrusher",this._bitCrusherWorklet=new sm({context:this.context,bits:r.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(un.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class sm extends sp{constructor(){const r=$e(sm.getDefaults(),arguments);super(r),this.name="BitCrusherWorklet",this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this.bits=new Pt({context:this.context,value:r.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(sp.getDefaults(),{bits:12})}_audioWorkletName(){return db}onReady(r){fs(this.input,r,this.output);const m=r.parameters.get("bits");this.bits.setParam(m)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class im extends un{constructor(){const r=$e(im.getDefaults(),arguments,["order"]);super(r),this.name="Chebyshev",this._shaper=new Gs({context:this.context,length:4096}),this._order=r.order,this.connectEffect(this._shaper),this.order=r.order,this.oversample=r.oversample}static getDefaults(){return Object.assign(un.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(r,m,t){return t.has(m)||(m===0?t.set(m,0):m===1?t.set(m,r):t.set(m,2*r*this._getCoefficient(r,m-1,t)-this._getCoefficient(r,m-2,t))),t.get(m)}get order(){return this._order}set order(r){wt(Number.isInteger(r),"'order' must be an integer"),this._order=r,this._shaper.setMap(m=>this._getCoefficient(m,r,new Map))}get oversample(){return this._shaper.oversample}set oversample(r){this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.dispose(),this}}class oa extends ot{constructor(){const r=$e(oa.getDefaults(),arguments,["channels"]);super(r),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(r.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ot.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class bo extends ot{constructor(){const r=$e(bo.getDefaults(),arguments,["channels"]);super(r),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(r.channels)}static getDefaults(){return Object.assign(ot.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class $s extends ot{constructor(r){super(r),this.name="StereoEffect",this.input=new xt({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new yl({context:this.context,fade:r.wet}),this.wet=this._dryWet.fade,this._split=new oa({context:this.context,channels:2}),this._merge=new bo({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),At(this,["wet"])}connectEffectLeft(...r){this._split.connect(r[0],0,0),fs(...r),zn(r[r.length-1],this._merge,0,0)}connectEffectRight(...r){this._split.connect(r[0],1,0),fs(...r),zn(r[r.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ot.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class ip extends $s{constructor(r){super(r),this.feedback=new Dt({context:this.context,value:r.feedback,units:"normalRange"}),this._feedbackL=new xt({context:this.context}),this._feedbackR=new xt({context:this.context}),this._feedbackSplit=new oa({context:this.context,channels:2}),this._feedbackMerge=new bo({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),At(this,["feedback"])}static getDefaults(){return Object.assign($s.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class om extends ip{constructor(){const r=$e(om.getDefaults(),arguments,["frequency","delayTime","depth"]);super(r),this.name="Chorus",this._depth=r.depth,this._delayTime=r.delayTime/1e3,this._lfoL=new Gn({context:this.context,frequency:r.frequency,min:0,max:1}),this._lfoR=new Gn({context:this.context,frequency:r.frequency,min:0,max:1,phase:180}),this._delayNodeL=new hs({context:this.context}),this._delayNodeR=new hs({context:this.context}),this.frequency=this._lfoL.frequency,At(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=r.type,this.spread=r.spread}static getDefaults(){return Object.assign(ip.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(r){this._depth=r;const m=this._delayTime*r;this._lfoL.min=Math.max(this._delayTime-m,0),this._lfoL.max=this._delayTime+m,this._lfoR.min=Math.max(this._delayTime-m,0),this._lfoR.max=this._delayTime+m}get delayTime(){return this._delayTime*1e3}set delayTime(r){this._delayTime=r/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(r){this._lfoL.type=r,this._lfoR.type=r}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(r){this._lfoL.phase=90-r/2,this._lfoR.phase=r/2+90}start(r){return this._lfoL.start(r),this._lfoR.start(r),this}stop(r){return this._lfoL.stop(r),this._lfoR.stop(r),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class am extends un{constructor(){const r=$e(am.getDefaults(),arguments,["distortion"]);super(r),this.name="Distortion",this._shaper=new Gs({context:this.context,length:4096}),this._distortion=r.distortion,this.connectEffect(this._shaper),this.distortion=r.distortion,this.oversample=r.oversample}static getDefaults(){return Object.assign(un.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(r){this._distortion=r;const m=r*100,t=Math.PI/180;this._shaper.setMap(j=>Math.abs(j)<.001?0:(3+m)*j*20*t/(Math.PI+m*Math.abs(j)))}get oversample(){return this._shaper.oversample}set oversample(r){this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Eh extends un{constructor(r){super(r),this.name="FeedbackEffect",this._feedbackGain=new xt({context:this.context,gain:r.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,At(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(un.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class lm extends Eh{constructor(){const r=$e(lm.getDefaults(),arguments,["delayTime","feedback"]);super(r),this.name="FeedbackDelay",this._delayNode=new hs({context:this.context,delayTime:r.delayTime,maxDelay:r.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),At(this,"delayTime")}static getDefaults(){return Object.assign(Eh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class nT extends ot{constructor(r){super(r),this.name="PhaseShiftAllpass",this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this.offset90=new xt({context:this.context});const m=[.6923878,.9360654322959,.988229522686,.9987488452737],t=[.4021921162426,.856171088242,.9722909545651,.9952884791278];this._bank0=this._createAllPassFilterBank(m),this._bank1=this._createAllPassFilterBank(t),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),fs(this.input,...this._bank0,this._oneSampleDelay,this.output),fs(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(r){return r.map(t=>{const j=[[t*t,0,-1],[1,0,-(t*t)]];return this.context.createIIRFilter(j[0],j[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(r=>r.disconnect()),this._bank1.forEach(r=>r.disconnect()),this._oneSampleDelay.disconnect(),this}}class um extends un{constructor(){const r=$e(um.getDefaults(),arguments,["frequency"]);super(r),this.name="FrequencyShifter",this.frequency=new Dt({context:this.context,units:"frequency",value:r.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Ru({context:this.context,type:"sine"}),this._cosine=new Ar({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new kr({context:this.context}),this._cosineMultiply=new kr({context:this.context}),this._negate=new zp({context:this.context}),this._add=new sa({context:this.context}),this._phaseShifter=new nT({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const m=this.immediate();this._sine.start(m),this._cosine.start(m)}static getDefaults(){return Object.assign(un.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const t0=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],r0=[225,556,441,341];class cm extends $s{constructor(){const r=$e(cm.getDefaults(),arguments,["roomSize","dampening"]);super(r),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[],this.roomSize=new Dt({context:this.context,value:r.roomSize,units:"normalRange"}),this._allpassFiltersL=r0.map(m=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=m,t}),this._allpassFiltersR=r0.map(m=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=m,t}),this._combFilters=t0.map((m,t)=>{const j=new Uu({context:this.context,dampening:r.dampening,delayTime:m});return t<t0.length/2?this.connectEffectLeft(j,...this._allpassFiltersL):this.connectEffectRight(j,...this._allpassFiltersR),this.roomSize.connect(j.resonance),j}),At(this,["roomSize"])}static getDefaults(){return Object.assign($s.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(r){this._combFilters.forEach(m=>m.dampening=r)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(r=>r.disconnect()),this._allpassFiltersR.forEach(r=>r.disconnect()),this._combFilters.forEach(r=>r.dispose()),this.roomSize.dispose(),this}}const n0=[1687/25e3,1601/25e3,2053/25e3,2251/25e3],sT=[.773,.802,.753,.733],iT=[347,113,37];class hm extends $s{constructor(){const r=$e(hm.getDefaults(),arguments,["roomSize"]);super(r),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[],this.roomSize=new Dt({context:this.context,value:r.roomSize,units:"normalRange"}),this._scaleRoomSize=new Ai({context:this.context,min:-.733,max:.197}),this._allpassFilters=iT.map(m=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=m,t}),this._feedbackCombFilters=n0.map((m,t)=>{const j=new Iu({context:this.context,delayTime:m});return this._scaleRoomSize.connect(j.resonance),j.resonance.value=sT[t],t<n0.length/2?this.connectEffectLeft(...this._allpassFilters,j):this.connectEffectRight(...this._allpassFilters,j),j}),this.roomSize.connect(this._scaleRoomSize),At(this,["roomSize"])}static getDefaults(){return Object.assign($s.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(r=>r.disconnect()),this._feedbackCombFilters.forEach(r=>r.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class s0 extends ip{constructor(r){super(r),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),At(this,["feedback"])}}class dm extends s0{constructor(){const r=$e(dm.getDefaults(),arguments,["delayTime","feedback"]);super(r),this.name="PingPongDelay",this._leftDelay=new hs({context:this.context,maxDelay:r.maxDelay}),this._rightDelay=new hs({context:this.context,maxDelay:r.maxDelay}),this._rightPreDelay=new hs({context:this.context,maxDelay:r.maxDelay}),this.delayTime=new Dt({context:this.context,units:"time",value:r.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),At(this,["delayTime"])}static getDefaults(){return Object.assign(s0.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class fm extends Eh{constructor(){const r=$e(fm.getDefaults(),arguments,["pitch"]);super(r),this.name="PitchShift",this._frequency=new Dt({context:this.context}),this._delayA=new hs({maxDelay:1,context:this.context}),this._lfoA=new Gn({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new hs({maxDelay:1,context:this.context}),this._lfoB=new Gn({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new yl({context:this.context}),this._crossFadeLFO=new Gn({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new hs({delayTime:r.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,At(this,"delayTime"),this._pitch=r.pitch,this._windowSize=r.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const m=this.now();this._lfoA.start(m),this._lfoB.start(m),this._crossFadeLFO.start(m),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Eh.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(r){this._pitch=r;let m=0;r<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,m=Za(r-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,m=Za(r)-1),this._frequency.value=m*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(r){this._windowSize=this.toSeconds(r),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class pm extends $s{constructor(){const r=$e(pm.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);super(r),this.name="Phaser",this._lfoL=new Gn({context:this.context,frequency:r.frequency,min:0,max:1}),this._lfoR=new Gn({context:this.context,frequency:r.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(r.baseFrequency),this._octaves=r.octaves,this.Q=new Dt({context:this.context,value:r.Q,units:"positive"}),this._filtersL=this._makeFilters(r.stages,this._lfoL),this._filtersR=this._makeFilters(r.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=r.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=r.baseFrequency,this.octaves=r.octaves,this._lfoL.start(),this._lfoR.start(),At(this,["frequency","Q"])}static getDefaults(){return Object.assign($s.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(r,m){const t=[];for(let j=0;j<r;j++){const w=this.context.createBiquadFilter();w.type="allpass",this.Q.connect(w.Q),m.connect(w.frequency),t.push(w)}return t}get octaves(){return this._octaves}set octaves(r){this._octaves=r;const m=this._baseFrequency*Math.pow(2,r);this._lfoL.max=m,this._lfoR.max=m}get baseFrequency(){return this._baseFrequency}set baseFrequency(r){this._baseFrequency=this.toFrequency(r),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(r=>r.disconnect()),this._filtersR.forEach(r=>r.disconnect()),this.frequency.dispose(),this}}class za extends un{constructor(){const r=$e(za.getDefaults(),arguments,["decay"]);super(r),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=r.decay,this._preDelay=r.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(un.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(r){r=this.toSeconds(r),wn(r,.001),this._decay=r,this.generate()}get preDelay(){return this._preDelay}set preDelay(r){r=this.toSeconds(r),wn(r,0),this._preDelay=r,this.generate()}generate(){return vr(this,void 0,void 0,function*(){const r=this.ready,m=new ol(2,this._decay+this._preDelay,this.context.sampleRate),t=new po({context:m}),j=new po({context:m}),w=new bo({context:m});t.connect(w,0,0),j.connect(w,0,1);const f=new xt({context:m}).toDestination();w.connect(f),t.start(0),j.start(0),f.gain.setValueAtTime(0,0),f.gain.setValueAtTime(1,this._preDelay),f.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const p=m.render();return this.ready=p.then(qt),yield r,this._convolver.buffer=(yield p).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class zu extends ot{constructor(){super($e(zu.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new oa({channels:2,context:this.context}),this._midAdd=new sa({context:this.context}),this.mid=new kr({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new ia({context:this.context}),this.side=new kr({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class qu extends ot{constructor(){super($e(qu.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new xt({context:this.context}),this.side=new xt({context:this.context}),this._left=new sa({context:this.context}),this._leftMult=new kr({context:this.context,value:Math.SQRT1_2}),this._right=new ia({context:this.context}),this._rightMult=new kr({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new bo({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class i0 extends un{constructor(r){super(r),this.name="MidSideEffect",this._midSideMerge=new qu({context:this.context}),this._midSideSplit=new zu({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...r){this._midSend.chain(...r,this._midReturn)}connectEffectSide(...r){this._sideSend.chain(...r,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class mm extends i0{constructor(){const r=$e(mm.getDefaults(),arguments,["width"]);super(r),this.name="StereoWidener",this.width=new Dt({context:this.context,value:r.width,units:"normalRange"}),At(this,["width"]),this._twoTimesWidthMid=new kr({context:this.context,value:2}),this._twoTimesWidthSide=new kr({context:this.context,value:2}),this._midMult=new kr({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new ia({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),zn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new kr({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(i0.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class ym extends $s{constructor(){const r=$e(ym.getDefaults(),arguments,["frequency","depth"]);super(r),this.name="Tremolo",this._lfoL=new Gn({context:this.context,type:r.type,min:1,max:0}),this._lfoR=new Gn({context:this.context,type:r.type,min:1,max:0}),this._amplitudeL=new xt({context:this.context}),this._amplitudeR=new xt({context:this.context}),this.frequency=new Dt({context:this.context,value:r.frequency,units:"frequency"}),this.depth=new Dt({context:this.context,value:r.depth,units:"normalRange"}),At(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=r.spread}static getDefaults(){return Object.assign($s.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(r){return this._lfoL.start(r),this._lfoR.start(r),this}stop(r){return this._lfoL.stop(r),this._lfoR.stop(r),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(r){this._lfoL.type=r,this._lfoR.type=r}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(r){this._lfoL.phase=90-r/2,this._lfoR.phase=r/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class gm extends un{constructor(){const r=$e(gm.getDefaults(),arguments,["frequency","depth"]);super(r),this.name="Vibrato",this._delayNode=new hs({context:this.context,delayTime:0,maxDelay:r.maxDelay}),this._lfo=new Gn({context:this.context,type:r.type,min:0,max:r.maxDelay,frequency:r.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=r.depth,At(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(un.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(r){this._lfo.type=r}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Hu extends ot{constructor(){const r=$e(Hu.getDefaults(),arguments,["type","size"]);super(r),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new xt({context:this.context}),this._split=new oa({context:this.context,channels:r.channels}),this.input.connect(this._split),wn(r.channels,1);for(let m=0;m<r.channels;m++)this._analysers[m]=this.context.createAnalyser(),this._split.connect(this._analysers[m],m,0);this.size=r.size,this.type=r.type,this.smoothing=r.smoothing}static getDefaults(){return Object.assign(ot.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((r,m)=>{const t=this._buffers[m];this._type==="fft"?r.getFloatFrequencyData(t):this._type==="waveform"&&r.getFloatTimeDomainData(t)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(r){this._analysers.forEach((m,t)=>{m.fftSize=r*2,this._buffers[t]=new Float32Array(r)})}get channels(){return this._analysers.length}get type(){return this._type}set type(r){wt(r==="waveform"||r==="fft",`Analyser: invalid type: ${r}`),this._type=r}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(r){this._analysers.forEach(m=>m.smoothingTimeConstant=r)}dispose(){return super.dispose(),this._analysers.forEach(r=>r.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class mo extends ot{constructor(){super($e(mo.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Hu({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class vm extends mo{constructor(){const r=$e(vm.getDefaults(),arguments,["smoothing"]);super(r),this.name="Meter",this.input=this.output=this._analyser=new Hu({context:this.context,size:256,type:"waveform",channels:r.channelCount}),this.smoothing=r.smoothing,this.normalRange=r.normalRange,this._rms=new Array(r.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(mo.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return nl("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const r=this._analyser.getValue(),t=(this.channels===1?[r]:r).map((j,w)=>{const f=j.reduce((i,l)=>i+l*l,0),p=Math.sqrt(f/j.length);return this._rms[w]=Math.max(p,this._rms[w]*this.smoothing),this.normalRange?this._rms[w]:Cu(this._rms[w])});return this.channels===1?t[0]:t}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class bm extends mo{constructor(){const r=$e(bm.getDefaults(),arguments,["size"]);super(r),this.name="FFT",this.normalRange=r.normalRange,this._analyser.type="fft",this.size=r.size}static getDefaults(){return Object.assign(ot.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(m=>this.normalRange?Ya(m):m)}get size(){return this._analyser.size}set size(r){this._analyser.size=r}get smoothing(){return this._analyser.smoothing}set smoothing(r){this._analyser.smoothing=r}getFrequencyOfIndex(r){return wt(0<=r&&r<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),r*this.context.sampleRate/(this.size*2)}}class _m extends mo{constructor(){super($e(_m.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class xm extends mo{constructor(){const r=$e(xm.getDefaults(),arguments,["size"]);super(r),this.name="Waveform",this._analyser.type="waveform",this.size=r.size}static getDefaults(){return Object.assign(mo.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(r){this._analyser.size=r}}class Hr extends ot{constructor(){const r=$e(Hr.getDefaults(),arguments,["solo"]);super(r),this.name="Solo",this.input=this.output=new xt({context:this.context}),Hr._allSolos.has(this.context)||Hr._allSolos.set(this.context,new Set),Hr._allSolos.get(this.context).add(this),this.solo=r.solo}static getDefaults(){return Object.assign(ot.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(r){r?this._addSolo():this._removeSolo(),Hr._allSolos.get(this.context).forEach(m=>m._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Hr._soloed.has(this.context)||Hr._soloed.set(this.context,new Set),Hr._soloed.get(this.context).add(this)}_removeSolo(){Hr._soloed.has(this.context)&&Hr._soloed.get(this.context).delete(this)}_isSoloed(){return Hr._soloed.has(this.context)&&Hr._soloed.get(this.context).has(this)}_noSolos(){return!Hr._soloed.has(this.context)||Hr._soloed.has(this.context)&&Hr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Hr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Hr._allSolos=new Map;Hr._soloed=new Map;class qh extends ot{constructor(){const r=$e(qh.getDefaults(),arguments,["pan","volume"]);super(r),this.name="PanVol",this._panner=this.input=new Vu({context:this.context,pan:r.pan,channelCount:r.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ci({context:this.context,volume:r.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=r.mute,At(this,["pan","volume"])}static getDefaults(){return Object.assign(ot.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ko extends ot{constructor(){const r=$e(Ko.getDefaults(),arguments,["volume","pan"]);super(r),this.name="Channel",this._solo=this.input=new Hr({solo:r.solo,context:this.context}),this._panVol=this.output=new qh({context:this.context,pan:r.pan,volume:r.volume,mute:r.mute,channelCount:r.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),At(this,["pan","volume"])}static getDefaults(){return Object.assign(ot.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(r){this._solo.solo=r}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(r){this._panVol.mute=r}_getBus(r){return Ko.buses.has(r)||Ko.buses.set(r,new xt({context:this.context})),Ko.buses.get(r)}send(r,m=0){const t=this._getBus(r),j=new xt({context:this.context,units:"decibels",gain:m});return this.connect(j),j.connect(t),j}receive(r){return this._getBus(r).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ko.buses=new Map;class wm extends ot{constructor(){super($e(wm.getDefaults(),arguments)),this.name="Mono",this.input=new xt({context:this.context}),this._merge=this.output=new bo({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Wu extends ot{constructor(){const r=$e(Wu.getDefaults(),arguments,["lowFrequency","highFrequency"]);super(r),this.name="MultibandSplit",this.input=new xt({context:this.context}),this.output=void 0,this.low=new us({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new us({context:this.context,frequency:0,type:"highpass"}),this.mid=new us({context:this.context,frequency:0,type:"lowpass"}),this.high=new us({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high],this.lowFrequency=new Dt({context:this.context,units:"frequency",value:r.lowFrequency}),this.highFrequency=new Dt({context:this.context,units:"frequency",value:r.highFrequency}),this.Q=new Dt({context:this.context,units:"positive",value:r.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),At(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(ot.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),ku(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Sm extends ot{constructor(){const r=$e(Sm.getDefaults(),arguments,["positionX","positionY","positionZ"]);super(r),this.name="Panner3D",this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=r.panningModel,this.maxDistance=r.maxDistance,this.distanceModel=r.distanceModel,this.coneOuterGain=r.coneOuterGain,this.coneOuterAngle=r.coneOuterAngle,this.coneInnerAngle=r.coneInnerAngle,this.refDistance=r.refDistance,this.rolloffFactor=r.rolloffFactor,this.positionX=new Pt({context:this.context,param:this._panner.positionX,value:r.positionX}),this.positionY=new Pt({context:this.context,param:this._panner.positionY,value:r.positionY}),this.positionZ=new Pt({context:this.context,param:this._panner.positionZ,value:r.positionZ}),this.orientationX=new Pt({context:this.context,param:this._panner.orientationX,value:r.orientationX}),this.orientationY=new Pt({context:this.context,param:this._panner.orientationY,value:r.orientationY}),this.orientationZ=new Pt({context:this.context,param:this._panner.orientationZ,value:r.orientationZ})}static getDefaults(){return Object.assign(ot.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(r,m,t){return this.positionX.value=r,this.positionY.value=m,this.positionZ.value=t,this}setOrientation(r,m,t){return this.orientationX.value=r,this.orientationY.value=m,this.orientationZ.value=t,this}get panningModel(){return this._panner.panningModel}set panningModel(r){this._panner.panningModel=r}get refDistance(){return this._panner.refDistance}set refDistance(r){this._panner.refDistance=r}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(r){this._panner.rolloffFactor=r}get distanceModel(){return this._panner.distanceModel}set distanceModel(r){this._panner.distanceModel=r}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(r){this._panner.coneInnerAngle=r}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(r){this._panner.coneOuterAngle=r}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(r){this._panner.coneOuterGain=r}get maxDistance(){return this._panner.maxDistance}set maxDistance(r){this._panner.maxDistance=r}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Mh extends ot{constructor(){const r=$e(Mh.getDefaults(),arguments);super(r),this.name="Recorder",this.input=new xt({context:this.context}),wt(Mh.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:r.mimeType})}static getDefaults(){return ot.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Un!==null&&Reflect.has(Un,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return vr(this,void 0,void 0,function*(){wt(this.state!=="started","Recorder is already started");const r=new Promise(m=>{const t=()=>{this._recorder.removeEventListener("start",t,!1),m()};this._recorder.addEventListener("start",t,!1)});return this._recorder.start(),yield r})}stop(){return vr(this,void 0,void 0,function*(){wt(this.state!=="stopped","Recorder is not started");const r=new Promise(m=>{const t=j=>{this._recorder.removeEventListener("dataavailable",t,!1),m(j.data)};this._recorder.addEventListener("dataavailable",t,!1)});return this._recorder.stop(),yield r})}pause(){return wt(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Mi extends ot{constructor(){const r=$e(Mi.getDefaults(),arguments,["threshold","ratio"]);super(r),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new Pt({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:r.threshold}),this.attack=new Pt({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:r.attack}),this.release=new Pt({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:r.release}),this.knee=new Pt({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:r.knee}),this.ratio=new Pt({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:r.ratio}),At(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ot.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class jm extends ot{constructor(){const r=$e(jm.getDefaults(),arguments,["threshold","smoothing"]);super(r),this.name="Gate",this._follower=new Gu({context:this.context,smoothing:r.smoothing}),this._gt=new Gh({context:this.context,value:Ya(r.threshold)}),this.input=new xt({context:this.context}),this._gate=this.output=new xt({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(ot.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Cu(this._gt.value)}set threshold(r){this._gt.value=Ya(r)}get smoothing(){return this._follower.smoothing}set smoothing(r){this._follower.smoothing=r}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Tm extends ot{constructor(){const r=$e(Tm.getDefaults(),arguments,["threshold"]);super(r),this.name="Limiter",this._compressor=this.input=this.output=new Mi({context:this.context,ratio:20,attack:.003,release:.01,threshold:r.threshold}),this.threshold=this._compressor.threshold,At(this,"threshold")}static getDefaults(){return Object.assign(ot.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Em extends ot{constructor(){const r=$e(Em.getDefaults(),arguments);super(r),this.name="MidSideCompressor",this._midSideSplit=this.input=new zu({context:this.context}),this._midSideMerge=this.output=new qu({context:this.context}),this.mid=new Mi(Object.assign(r.mid,{context:this.context})),this.side=new Mi(Object.assign(r.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),At(this,["mid","side"])}static getDefaults(){return Object.assign(ot.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Mm extends ot{constructor(){const r=$e(Mm.getDefaults(),arguments);super(r),this.name="MultibandCompressor",this._splitter=this.input=new Wu({context:this.context,lowFrequency:r.lowFrequency,highFrequency:r.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new xt({context:this.context}),this.low=new Mi(Object.assign(r.low,{context:this.context})),this.mid=new Mi(Object.assign(r.mid,{context:this.context})),this.high=new Mi(Object.assign(r.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),At(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(ot.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Om extends ot{constructor(){const r=$e(Om.getDefaults(),arguments,["low","mid","high"]);super(r),this.name="EQ3",this.output=new xt({context:this.context}),this._internalChannels=[],this.input=this._multibandSplit=new Wu({context:this.context,highFrequency:r.highFrequency,lowFrequency:r.lowFrequency}),this._lowGain=new xt({context:this.context,gain:r.low,units:"decibels"}),this._midGain=new xt({context:this.context,gain:r.mid,units:"decibels"}),this._highGain=new xt({context:this.context,gain:r.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),At(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(ot.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),ku(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Am extends ot{constructor(){const r=$e(Am.getDefaults(),arguments,["url","onload"]);super(r),this.name="Convolver",this._convolver=this.context.createConvolver(),this._buffer=new Jt(r.url,m=>{this.buffer=m,r.onload()}),this.input=new xt({context:this.context}),this.output=new xt({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=r.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(ot.getDefaults(),{normalize:!0,onload:qt})}load(r){return vr(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(r)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(r){r&&this._buffer.set(r),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const m=this._buffer.get();this._convolver.buffer=m||null}get normalize(){return this._convolver.normalize}set normalize(r){this._convolver.normalize=r}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function op(){return Sr().now()}function oT(){return Sr().immediate()}const aT=Sr().transport;function lT(){return Sr().transport}const uT=Sr().destination,cT=Sr().destination;function hT(){return Sr().destination}const dT=Sr().listener;function fT(){return Sr().listener}const pT=Sr().draw;function mT(){return Sr().draw}const ap=Sr();function yT(){return Jt.loaded()}const gT=Jt,vT=ul,bT=vo,_T=Object.freeze(Object.defineProperty({__proto__:null,AMOscillator:Lu,AMSynth:qp,Abs:lb,Add:sa,AmplitudeEnvelope:pl,Analyser:Hu,AudioToGain:Uh,AutoFilter:em,AutoPanner:tm,AutoWah:rm,BaseContext:Dp,BiquadFilter:bu,BitCrusher:nm,Buffer:gT,BufferSource:bT,Buffers:vT,Channel:Ko,Chebyshev:im,Chorus:om,Clock:ll,Compressor:Mi,Context:il,Convolver:Am,CrossFade:yl,DCMeter:_m,Delay:hs,Destination:uT,Distortion:am,Draw:pT,DuoSynth:Hp,EQ3:Om,Emitter:sl,Envelope:En,FFT:bm,FMOscillator:hl,FMSynth:Wp,FatOscillator:Nu,FeedbackCombFilter:Iu,FeedbackDelay:lm,Filter:us,Follower:Gu,Freeverb:cm,Frequency:Dj,FrequencyClass:Vn,FrequencyEnvelope:_u,FrequencyShifter:um,Gain:xt,GainToAudio:ub,Gate:jm,GrainPlayer:Gp,GreaterThan:Gh,GreaterThanZero:Vh,IntervalTimeline:ob,JCReverb:hm,LFO:Gn,Limiter:Tm,Listener:dT,Loop:xu,LowpassCombFilter:Uu,Master:cT,MembraneSynth:ml,Merge:bo,MetalSynth:Xp,Meter:vm,MidSideCompressor:Em,MidSideMerge:qu,MidSideSplit:zu,Midi:Ij,MidiClass:Ka,Mono:wm,MonoSynth:Zo,MultibandCompressor:Mm,MultibandSplit:Wu,Multiply:kr,Negate:zp,Noise:po,NoiseSynth:Yp,Offline:Pj,OfflineContext:ol,OmniOscillator:Oi,OnePoleFilter:Fu,Oscillator:Ar,PWMOscillator:Pu,PanVol:qh,Panner:Vu,Panner3D:Sm,Param:Pt,Part:wu,Pattern:Jp,Phaser:pm,PingPongDelay:dm,PitchShift:fm,Player:fl,Players:Vp,PluckSynth:Kp,PolySynth:Qo,Pow:cl,PulseOscillator:dl,Recorder:Mh,Reverb:za,Sampler:Bu,Scale:Ai,ScaleExp:zh,Sequence:$p,Signal:Dt,Solo:Hr,Split:oa,StateTimeline:al,StereoWidener:mm,Subtract:ia,SyncedSignal:zj,Synth:as,Ticks:Fj,TicksClass:Or,Time:Aj,TimeClass:ls,Timeline:cs,ToneAudioBuffer:Jt,ToneAudioBuffers:ul,ToneAudioNode:ot,ToneBufferSource:vo,ToneEvent:Js,ToneOscillatorNode:Ru,Transport:aT,TransportTime:Rj,TransportTimeClass:$r,Tremolo:ym,Unit:Vj,UserMedia:mu,Vibrato:gm,Volume:Ci,WaveShaper:Gs,Waveform:xm,Zero:Bh,connect:zn,connectSeries:fs,connectSignal:Du,context:ap,dbToGain:Ya,debug:pj,defaultArg:Os,disconnect:Np,fanIn:Lj,ftom:uo,gainToDb:Cu,getContext:Sr,getDestination:hT,getDraw:mT,getListener:fT,getTransport:lT,immediate:oT,intervalToFrequencyRatio:Za,isArray:Tn,isBoolean:Op,isDefined:Ut,isFunction:J0,isNote:pu,isNumber:ds,isObject:Ei,isString:Us,isUndef:Kn,loaded:yT,mtof:Rp,now:op,optionsFromArguments:$e,setContext:jh,start:np,supported:dj,version:up},Symbol.toStringTag,{value:"Module"})),xT=()=>{const R=Qn.useRef(null),[r,m]=Qn.useState(!1),[t,j]=Qn.useState("HongKong"),[w,f]=Qn.useState(!1),p=Qn.useRef({}),i=Qn.useRef(null),[l,b]=Qn.useState({aqius:0,pm25:0,pm10:0,so2:0,no2:0,o3:0,co:0}),v={Beijing:{aqius:150,pm25:75,pm10:110,so2:40,no2:60,o3:50,co:1e3},Melbourne:{aqius:45,pm25:15,pm10:25,so2:20,no2:30,o3:25,co:500}},o=Qn.useRef(null),a={pm25:{good:{notes:["C4","E4","G4"],length:"4n"},moderate:{notes:["D4","F4","A4"],length:"4n"},unhealthy:{notes:["Eb4","Gb4","Bb4"],length:"4n"},hazardous:{notes:["D4","F4","Ab4"],length:"4n"}},pm10:{good:{notes:["G4","B4","D5"],length:"4n"},moderate:{notes:["A4","C5","E5"],length:"4n"},unhealthy:{notes:["Ab4","B4","Eb5"],length:"4n"},hazardous:{notes:["G4","Bb4","Db5"],length:"4n"}},so2:{good:{notes:["C5","E5","G5"],length:"4n"},moderate:{notes:["D5","F5","A5"],length:"4n"},unhealthy:{notes:["Eb5","Gb5","Bb5"],length:"4n"},hazardous:{notes:["D5","F5","Ab5"],length:"4n"}},no2:{good:{notes:["E4","G4","B4"],length:"4n"},moderate:{notes:["F4","Ab4","C5"],length:"4n"},unhealthy:{notes:["Eb4","G4","Bb4"],length:"4n"},hazardous:{notes:["E4","G4","Bb4"],length:"4n"}},o3:{good:{notes:["A4","C5","E5"],length:"4n"},moderate:{notes:["Bb4","Db5","F5"],length:"4n"},unhealthy:{notes:["Ab4","C5","Eb5"],length:"4n"},hazardous:{notes:["A4","C5","Eb5"],length:"4n"}},co:{good:{notes:["D4","F4","A4"],length:"4n"},moderate:{notes:["Eb4","G4","Bb4"],length:"4n"},unhealthy:{notes:["D4","F4","Ab4"],length:"4n"},hazardous:{notes:["D4","F4","Ab4"],length:"4n"}}},u={pm25:{name:"PM2.5",unit:"g/m",levels:{good:{value:15,label:"Good",color:"bg-green-500"},moderate:{value:35,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:75,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:150,label:"Hazardous",color:"bg-purple-500"}}},pm10:{name:"PM10",unit:"g/m",levels:{good:{value:25,label:"Good",color:"bg-green-500"},moderate:{value:50,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:110,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:250,label:"Hazardous",color:"bg-purple-500"}}},so2:{name:"SO",unit:"ppb",levels:{good:{value:20,label:"Good",color:"bg-green-500"},moderate:{value:40,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:100,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:200,label:"Hazardous",color:"bg-purple-500"}}},no2:{name:"NO",unit:"ppb",levels:{good:{value:30,label:"Good",color:"bg-green-500"},moderate:{value:60,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:120,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:240,label:"Hazardous",color:"bg-purple-500"}}},o3:{name:"O",unit:"ppb",levels:{good:{value:25,label:"Good",color:"bg-green-500"},moderate:{value:50,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:100,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:200,label:"Hazardous",color:"bg-purple-500"}}},co:{name:"CO",unit:"ppb",levels:{good:{value:500,label:"Good",color:"bg-green-500"},moderate:{value:1e3,label:"Moderate",color:"bg-yellow-500"},unhealthy:{value:2e3,label:"Unhealthy",color:"bg-red-500"},hazardous:{value:4e3,label:"Hazardous",color:"bg-purple-500"}}}},c={HongKong:{melody:["C5","D5","E5","G5","A5","G5","E5","D5"],harmony:[["C4","E4","G4"],["G3","B3","D4"]],bass:["C3","G2","A2","E2"],drums:[1,0,1,0,1,1,0,1],instruments:{melody:{type:"AMSynth",options:{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.2,sustain:.2,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:.2,release:.5}}}}},Bangkok:{melody:["D5","E5","G5","A5","C6","A5","G5","E5"],harmony:[["D4","F4","A4"],["A3","C4","E4"]],bass:["D3","A2","F2","C3"],drums:[1,1,0,1,0,1,0,1],instruments:{melody:{type:"MetalSynth",options:{frequency:200,envelope:{attack:.001,decay:.2,sustain:.1,release:.8},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}}}},Beijing:{melody:["E5","A5","B5","D6","E6","D6","B5","A5"],harmony:[["E4","G4","B4"],["B3","D4","F#4"]],bass:["E3","B2","G2","D3"],drums:[1,0,1,0,0,1,1,0],instruments:{melody:{type:"FMSynth",options:{harmonicity:8.5,modulationIndex:50,oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:.8,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:.01,sustain:1,release:.5}}}}},Melbourne:{melody:["G5","A5","B5","D6","G6","D6","B5","A5"],harmony:[["G4","B4","D5"],["D4","F#4","A4"]],bass:["G2","D3","B2","F#2"],drums:[1,0,0,1,1,0,1,0],instruments:{melody:{type:"Synth",options:{oscillator:{type:"triangle"},envelope:{attack:.05,decay:.3,sustain:.4,release:.8}}}}}};Qn.useEffect(()=>{const d=new za({decay:2,wet:.3}).toDestination(),x=c[t];p.current={melody:new _T[x.instruments.melody.type]({...x.instruments.melody.options,volume:-12}).connect(d),harmony:new Qo(as,{oscillator:{type:"sine"},envelope:{attack:.2,decay:.2,sustain:.4,release:1.5},volume:-18}).connect(d),bass:new as({oscillator:{type:"triangle"},envelope:{attack:.1,decay:.3,sustain:.4,release:1.2},volume:-15}).connect(d),drums:new ml({pitchDecay:.05,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4},volume:-20}).connect(d)};let _=0;const T=8,O=setInterval(()=>{if(r&&w){const L=c[t],F=op();if(_%2===0){const D=_/2%L.melody.length;p.current.melody.triggerAttackRelease(L.melody[D],"8n",F)}if(_%4===0){const D=_/4%L.harmony.length;p.current.harmony.triggerAttackRelease(L.harmony[D],"2n",F)}if(_%4===0){const D=_/4%L.bass.length;p.current.bass.triggerAttackRelease(L.bass[D],"2n",F)}L.drums[_%L.drums.length]&&p.current.drums.triggerAttackRelease("C2","16n",F),_=(_+1)%T}},250);return()=>{clearInterval(O),Object.values(p.current).forEach(L=>{L&&L.dispose&&L.dispose()})}},[r,w,t]),Qn.useEffect(()=>{const d=new z1(x=>{let _=[];class T{constructor(M,O){this.x=M,this.y=O,this.speed=x.random(-2,2),this.size=5,this.life=255,this.setInitialColor()}setInitialColor(){l.aqius<=50?(this.r=156,this.g=216,this.b=78):l.aqius<=100?(this.r=250,this.g=207,this.b=57):l.aqius<=150?(this.r=243,this.g=114,this.b=73):l.aqius<=200?(this.r=246,this.g=94,this.b=95):l.aqius<=300?(this.r=160,this.g=112,this.b=182):(this.r=246,this.g=94,this.b=95)}update(){this.x+=this.speed,this.life-=2,this.x>x.width&&(this.x=0),this.x<0&&(this.x=x.width)}display(){x.noStroke();const M=this.life/255,O=x.lerp(255,this.r,M),L=x.lerp(255,this.g,M),F=x.lerp(255,this.b,M);x.fill(O,L,F,this.life),x.circle(this.x,this.y,this.size)}isDead(){return this.life<0}}x.setup=()=>{x.createCanvas(window.innerWidth,window.innerHeight).parent(R.current)},x.draw=()=>{r&&x.frameCount%30===0&&_.push(new T(x.random(x.width),x.random(x.height)));for(let M=_.length-1;M>=0;M--)_[M].update(),_[M].display(),_[M].isDead()&&_.splice(M,1);x.fill(255),x.noStroke(),x.textSize(20),x.textFont("Arial"),x.text(`Current City: ${t}`,20,30),x.text(`AQI (US): ${l.aqius}`,20,60),x.text(`Playing: ${r?"Yes":"No"}`,90);let k=window.innerHeight-50;k+=30,Object.entries(u).forEach(([M,O])=>{x.text(`${O.name}: ${l[M]} ${O.unit}`,20,k),k-=30})},x.windowResized=()=>{x.resizeCanvas(window.innerWidth,window.innerHeight)}},R.current);return()=>d.remove()},[r]);const y=async()=>{try{await np(),console.log("Audio is ready"),f(!0),m(!r)}catch(d){console.error("Error starting audio:",d)}},h=async(d,x)=>{try{if(await np(),ap.state!=="running"&&await ap.resume(),!o.current){const _=new za({decay:2,wet:.3}).toDestination();o.current=new Qo(as,{oscillator:{type:"triangle"},envelope:{attack:.1,decay:.2,sustain:.3,release:1},volume:-8}).connect(_)}if(b(_=>({..._,[d]:u[d].levels[x].value})),o.current&&a[d]){const _=a[d][x];_.notes.forEach((T,k)=>{o.current.triggerAttackRelease(T,_.length,op()+k*.05,.3)}),console.log(`Playing ${d} ${x} sound:`,_.notes)}}catch(_){console.error("Error playing pollutant sound:",_)}};return Qn.useEffect(()=>(i.current||(i.current=new Qo(as,{oscillator:{type:"triangle"},envelope:{attack:.1,decay:.2,sustain:.3,release:1}}).toDestination()),()=>{i.current&&i.current.dispose()}),[]),Qn.useEffect(()=>((()=>{if(!o.current){const x=new za({decay:2,wet:.3}).toDestination();o.current=new Qo(as,{oscillator:{type:"triangle"},envelope:{attack:.1,decay:.2,sustain:.3,release:1},volume:-8}).connect(x)}})(),()=>{o.current&&(o.current.dispose(),o.current=null)}),[]),Qn.useEffect(()=>{const d=async()=>{var _,T,k,M,O,L,F;try{if(t==="Beijing"||t==="Melbourne"){b(v[t]);return}const D=await fetch(`https://airphonic.onrender.com/api/get-latest?city=${t}`);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const V=await D.json(),P={aqius:((_=V.find(G=>G.name==="aqius"))==null?void 0:_.value)||l.aqius,pm25:((T=V.find(G=>G.name==="pm25"))==null?void 0:T.value)||l.pm25,pm10:((k=V.find(G=>G.name==="pm10"))==null?void 0:k.value)||l.pm10,so2:((M=V.find(G=>G.name==="so2"))==null?void 0:M.value)||l.so2,no2:((O=V.find(G=>G.name==="no2"))==null?void 0:O.value)||l.no2,o3:((L=V.find(G=>G.name==="o3"))==null?void 0:L.value)||l.o3,co:((F=V.find(G=>G.name==="co"))==null?void 0:F.value)||l.co};b(P)}catch(D){console.error("Error fetching air quality data:",D)}};d();const x=setInterval(d,6e4);return()=>clearInterval(x)},[t]),In.jsxs("div",{className:"relative w-full h-screen bg-black",children:[In.jsx("div",{ref:R,className:"absolute inset-0"}),In.jsxs("div",{className:"px-4 py-2 rounded-lg bg-gray-700 text-white",children:[In.jsx("button",{onClick:y,className:`px-4 py-2 rounded-lg ${r?"bg-red-500":"bg-green-500"} text-white`,children:r?"Stop":"Start"}),In.jsx("select",{value:t,onChange:d=>j(d.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-white",children:Object.keys(c).map(d=>In.jsx("option",{value:d,className:"bg-gray-700 text-white",children:d},d))})]}),In.jsxs("div",{className:"absolute top-20 right-4 z-10 flex flex-col gap-4 bg-black bg-opacity-50 p-4 rounded-lg max-h-[80vh] overflow-y-auto",children:[In.jsx("h3",{className:"text-white font-bold",children:"Pollutant Levels"}),Object.entries(u).map(([d,x])=>In.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[In.jsxs("h4",{className:"text-white mb-2",children:[x.name," (",x.unit,")"]}),In.jsx("div",{className:"flex flex-col gap-2",children:Object.entries(x.levels).map(([_,T])=>In.jsxs("button",{onClick:()=>h(d,_),className:`px-3 py-1 rounded-lg ${T.color} text-white text-sm
                                        ${l[d]===T.value?"ring-2 ring-white":""}
                                        hover:opacity-80 transition-opacity`,children:[T.label," (",T.value," ",x.unit,")"]},_))})]},d))]})]})};function wT(){return In.jsx(xT,{})}B1.createRoot(document.getElementById("root")).render(In.jsx(Qn.StrictMode,{children:In.jsx(wT,{})}));
